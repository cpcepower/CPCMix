; Music of Bacterik Dream - InGame (1987)(Chip)(Benoit Varasse)()
; Ripped by Megachur the 03/09/2019
; $VER 1.5

IFDEF FILENAME_WRITE
	write "BACTERDI.BIN"
ENDIF

MUSIC_DATE_RIP_DAY		equ 03
MUSIC_DATE_RIP_MONTH	equ 09
MUSIC_DATE_RIP_YEAR		equ 2019
music_adr				equ #2d6e
NEED_SYSTEM_VECTOR		equ 1

	read "music_header.asm"

;
.init_music
;
	ld hl,#be80
	ld de,#be81
	ld bc,#0029
	ld (hl),#00
	ldir
	ld a,#05
	ld (#be80),a
	ld a,#0f
	ld hl,#be80
	call #bcbc
	ld a,#0f
	ld hl,#be80
	call #bcbf
	xor a
	ld (#be80),a
	ld hl,l2f9b
	ld (#be90),hl
	ld hl,l2f09
	ld (#be92),hl
	call #bca7
	ld ix,(#be90)
	ld (#be94),ix
	ld iy,(#be92)
	ld (#be96),iy
	ld hl,#be86
	ld de,l2df9
	ld bc,#8000
	call #bcef
	ld hl,#be80
	ld bc,#0001
	ld de,#0001
	call #bce9
	ret
;
.stop_music
;
	ld hl,#be80
	call #bcec
	call #bca7
	ret
.l2dd6
	ld a,#01
	ld (#be9f),a
	pop hl
	pop de
	pop bc
	pop af
	pop iy
	pop ix
	ld hl,#be80
	call #bcec
	ret
.l2dea
	ld a,(ix+#01)
	ld (#bea5),a
	xor a
	ld (#bea3),a
	ld (#bea4),a
	jr l2e39
;
.play_music_interrupt
.l2df9
;
	push ix
	push iy
	push af
	push bc
	push de
	push hl
	ld hl,#bea0
	ld ix,(#be94)
	ld a,(ix+#00)
	cp #ff
	jr z,l2e68
	cp #fe
	jr z,l2dd6
	ld a,(ix+#02)
	ld (#bea7),a
	bit 3,(ix+#00)
	jr nz,l2dea
	xor a
	ld (#bea5),a
	ld a,(ix+#01)
	ld (#bea3),a
	ld a,(ix+#00)
	rrc a
	rrc a
	rrc a
	rrc a
	and #0f
	ld (#bea4),a
.l2e39
	ld a,(ix+#00)
	res 3,a
	and #0f
	ld (#bea0),a
	ld (#bea1),a
	ld (#bea2),a
	ld a,(#bea5)
	cp #00
	jr nz,l2e6a
	ld a,(#bea4)
	cp #00
	jr nz,l2e6a
	ld a,(#bea3)
	cp #00
	jr nz,l2e6a
	ld a,#0f
	ld (#bea1),a
	ld (#bea2),a
	jr l2e6a
.l2e68
	jr l2e94
.l2e6a
	push ix
	call #bcaa
	pop ix
	jr nc,l2eab
	ld iy,(#be96)
	ld d,(iy+#03)
	ld e,(iy+#02)
	ld hl,(#be98)
	inc hl
	ld (#be98),hl
	or a
	sbc hl,de
	jr z,l2eb4
	ld bc,#0003
	add ix,bc
	ld (#be94),ix
	jr l2eab
.l2e94
	ld ix,(#be90)
	ld (#be94),ix
	xor a
	ld (#be98),a
	ld (#be99),a
	ld iy,(#be92)
	ld (#be96),iy
.l2eab
	pop hl
	pop de
	pop bc
	pop af
	pop iy
	pop ix
	ret
.l2eb4
	ld iy,(#be96)
	ld bc,#0004
	add iy,bc
	ld d,(iy+#01)
	ld e,(iy+#00)
	ld hl,#ffff
	or a
	sbc hl,de
	jr z,l2e94
	ld hl,#fefe
	or a
	sbc hl,de
	jr z,l2ef0
	ld (#be96),iy
	xor a
	ld (#be98),a
	ld (#be99),a
	ld b,(iy+#01)
	ld c,(iy+#00)
	ld ix,(#be90)
	add ix,bc
	ld (#be94),ix
	jr l2eab
.l2ef0
	ld a,#01
	ld (#be9f),a
	pop hl
	pop de
	pop bc
	pop af
	pop iy
	pop ix
	ld hl,#be80
	call #bcec
	ret
.l2f09 equ $ + 5
	db #00,#00,#00,#34,#00,#00,#00,#20
	db #00,#00,#00,#c8,#00,#f6,#00,#76
	db #00,#58,#02,#1b,#00,#58,#02,#1b
	db #00,#58,#02,#1b,#00,#58,#02,#1b
	db #00,#a9,#02,#20,#00,#00,#00,#20
	db #00,#00,#00,#52,#00,#f6,#00,#50
	db #00,#09,#03,#43,#00,#ff,#ff,#00
	db #00,#07,#0c,#46,#01,#01,#fc,#01
	db #01,#08,#01,#01,#fc,#01,#01,#05
	db #01,#01,#fb,#01,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#08,#0f,#02,#02,#ff,#05
	db #02,#fe,#0b,#00,#00,#00,#00,#00
	db #00,#01,#0f,#01,#09,#0f,#03,#01
	db #00,#0c,#00,#00,#00,#00,#00,#00
	db #01,#0d,#01,#09,#0f,#03,#01,#00
.l2f9b equ $ + 7
	db #0f,#00,#00,#00,#00,#00,#00,#01
	db #00,#18,#02,#00,#18,#0c,#14,#48
	db #01,#d5,#18,#12,#1c,#18,#01,#ef
	db #0c,#12,#3f,#0c,#01,#d5,#0c,#12
	db #1c,#0c,#01,#00,#0c,#02,#00,#0c
	db #0c,#05,#60,#01,#b3,#54,#02,#ef
	db #54,#01,#00,#18,#02,#00,#18,#0c
	db #1e,#48,#01,#d5,#18,#12,#1c,#18
	db #01,#ef,#0c,#12,#3f,#0c,#01,#d5
	db #0c,#12,#1c,#0c,#01,#00,#0c,#02
	db #00,#0c,#0c,#05,#60,#01,#d5,#24
	db #12,#66,#24,#01,#d5,#18,#12,#3f
	db #18,#01,#d5,#18,#12,#1c,#18,#01
	db #8e,#a8,#02,#b3,#a8,#0c,#01,#18
	db #0c,#01,#18,#0c,#02,#0c,#0c,#02
	db #0c,#0c,#04,#18,#0c,#04,#18,#0c
	db #06,#18,#0c,#0c,#0c,#0c,#0c,#0c
	db #01,#7f,#a8,#02,#9f,#a8,#0c,#01
	db #18,#0c,#0a,#18,#0c,#0c,#0c,#0c
	db #0c,#0c,#0c,#14,#0c,#0c,#14,#0c
	db #0c,#17,#18,#0c,#17,#18,#0c,#0a
	db #0c,#0c,#0a,#0c,#01,#77,#a8,#02
	db #96,#a8,#0c,#03,#0c,#0c,#03,#0c
	db #0c,#0a,#30,#0c,#05,#18,#0c,#05
	db #18,#0c,#07,#0c,#0c,#07,#0c,#0c
	db #07,#0c,#0c,#07,#0c,#01,#6a,#a8
	db #02,#7f,#a8,#0c,#1e,#0c,#0c,#1e
	db #0c,#0c,#1c,#0c,#0c,#1c,#0c,#0c
	db #18,#0c,#0c,#18,#0c,#0c,#14,#0c
	db #0c,#14,#0c,#0c,#0c,#0c,#0c,#0c
	db #0c,#0c,#08,#0c,#0c,#08,#0c,#0c
	db #02,#0c,#0c,#02,#0c,#01,#6a,#18
	db #02,#8e,#18,#34,#53,#48,#01,#6a
	db #18,#02,#8e,#18,#01,#6a,#18,#02
	db #9f,#08,#02,#8e,#08,#02,#9f,#08
	db #01,#6a,#18,#02,#b3,#18,#14,#aa
	db #60,#01,#d5,#0c,#02,#d5,#0c,#01
	db #6a,#18,#02,#b3,#18,#01,#d5,#0c
	db #02,#d5,#0c,#01,#6a,#18,#02,#9f
	db #18,#01,#6a,#18,#02,#8e,#18,#34
	db #53,#48,#01,#6a,#18,#02,#8e,#18
	db #01,#6a,#18,#02,#9f,#08,#02,#8e
	db #08,#02,#9f,#08,#01,#6a,#18,#02
	db #b3,#18,#14,#aa,#60,#01,#d5,#0c
	db #02,#d5,#0c,#01,#6a,#18,#02,#b3
	db #18,#01,#d5,#0c,#02,#d5,#0c,#01
	db #ef,#18,#02,#ef,#18,#01,#50,#18
	db #02,#6a,#18,#24,#7e,#48,#01,#50
	db #18,#02,#6a,#18,#01,#50,#18,#02
	db #77,#08,#02,#6a,#08,#02,#77,#08
	db #01,#50,#18,#02,#86,#18,#14,#3f
	db #60,#01,#9f,#0c,#02,#9f,#0c,#01
	db #50,#18,#02,#86,#18,#01,#9f,#0c
	db #02,#9f,#0c,#01,#50,#18,#02,#77
	db #18,#01,#6a,#18,#02,#8e,#18,#34
	db #53,#48,#01,#6a,#18,#02,#8e,#18
	db #01,#6a,#18,#02,#9f,#08,#02,#8e
	db #08,#02,#9f,#08,#01,#6a,#18,#02
	db #b3,#18,#14,#aa,#60,#01,#d5,#0c
	db #02,#d5,#0c,#01,#6a,#18,#02,#b3
	db #18,#01,#d5,#0c,#02,#d5,#0c,#01
	db #6a,#18,#02,#9f,#18,#01,#8e,#18
	db #02,#be,#18,#44,#70,#48,#01,#8e
	db #18,#02,#be,#18,#01,#8e,#18,#02
	db #d5,#08,#02,#be,#08,#02,#d5,#08
	db #01,#8e,#18,#02,#ef,#18,#24,#38
	db #60,#01,#8e,#0c,#12,#1c,#0c,#01
	db #8e,#18,#02,#ef,#18,#01,#8e,#0c
	db #12,#1c,#0c,#01,#8e,#18,#02,#be
	db #18,#01,#d5,#18,#02,#d5,#18,#34
	db #53,#48,#01,#d5,#18,#12,#1c,#18
	db #01,#ef,#0c,#12,#3f,#0c,#01,#d5
	db #0c,#12,#1c,#0c,#01,#00,#0c,#02
	db #00,#0c,#14,#aa,#60,#01,#b3,#24
	db #02,#ef,#24,#01,#9f,#18,#02,#d5
	db #18,#01,#8e,#18,#02,#be,#18,#11
	db #de,#0c,#12,#de,#0c,#14,#de,#0c
	db #11,#aa,#0c,#12,#aa,#0c,#14,#aa
	db #0c,#31,#53,#0c,#32,#53,#0c,#34
	db #53,#0c,#31,#53,#0c,#32,#53,#0c
	db #34,#53,#0c,#01,#8e,#0c,#02,#b3
	db #0c,#04,#ef,#0c,#01,#8e,#0c,#02
	db #b3,#0c,#04,#ef,#0c,#09,#06,#18
	db #12,#aa,#30,#14,#aa,#30,#09,#06
	db #18,#09,#06,#18,#12,#de,#30,#14
	db #de,#30,#01,#47,#0c,#01,#47,#0c
	db #01,#8e,#a8,#02,#b3,#a8,#14,#de
	db #0c,#14,#aa,#0c,#34,#53,#0c,#34
	db #53,#24,#14,#aa,#30,#14,#de,#30
	db #01,#7f,#a8,#02,#9f,#a8,#14,#de
	db #0c,#14,#aa,#0c,#34,#53,#0c,#34
	db #53,#24,#14,#aa,#30,#14,#de,#30
	db #01,#77,#a8,#02,#96,#a8,#14,#de
	db #0c,#14,#aa,#0c,#34,#53,#0c,#34
	db #53,#24,#14,#aa,#30,#14,#de,#30
	db #01,#6a,#a8,#02,#86,#a8,#14,#de
	db #0c,#14,#aa,#0c,#34,#53,#0c,#34
	db #53,#24,#14,#aa,#30,#14,#de,#30
	db #01,#8e,#18,#02,#be,#18,#24,#38
	db #48,#01,#8e,#18,#02,#be,#18,#01
	db #8e,#18,#02,#d5,#08,#02,#be,#08
	db #02,#d5,#08,#01,#8e,#18,#02,#ef
	db #18,#24,#38,#60,#01,#8e,#0c,#12
	db #1c,#0c,#01,#8e,#18,#02,#ef,#18
	db #11,#1c,#0c,#12,#1c,#0c,#01,#8e
	db #0c,#02,#8e,#0c,#01,#9f,#0c,#02
	db #9f,#0c,#02,#b3,#0c,#09,#0c,#a8
	db #0c,#05,#18,#02,#be,#0c,#02,#b3
	db #0c,#24,#cc,#18,#02,#9f,#0c,#02
	db #b3,#0c,#0c,#07,#18,#02,#ef,#0c
	db #12,#1c,#0c,#24,#7e,#18,#12,#0c
	db #0c,#02,#ef,#0c,#0c,#09,#18,#02
	db #fd,#0c,#02,#ef,#0c,#24,#38,#18
	db #02,#d5,#0c,#02,#ef,#18,#04,#ef
	db #18,#01,#8e,#0c,#02,#8e,#0c,#14
	db #1c,#0c,#01,#8e,#0c,#02,#8e,#0c
	db #14,#1c,#0c,#01,#86,#18,#02,#86
	db #18,#14,#0c,#18,#01,#8e,#18,#02
	db #8e,#18,#14,#1c,#18,#09,#14,#18
	db #0a,#03,#18,#24,#38,#18,#01,#71
	db #18,#02,#8e,#18,#14,#1c,#18,#01
	db #6a,#18,#02,#8e,#18,#14,#aa,#18
	db #31,#53,#60,#32,#53,#60,#34,#53
	db #60,#ff,#00,#00,#46,#00,#04,#01
	db #36,#01,#60,#01,#80,#01,#a0,#01
	db #c0,#01,#e0,#01,#1e,#02,#5c,#02
	db #9e,#02,#dc,#02,#1a,#03,#58,#03
	db #96,#03,#d4,#03,#0a,#04,#30,#04
	db #50,#04,#82,#04,#b4,#04,#e6,#04
	db #15,#05,#44,#05,#73,#05,#b4,#05
	db #f2,#05,#34,#06,#76,#06,#b8,#06
	db #fa,#06,#3c,#07,#7e,#07,#c0,#07
	db #cc,#07,#00,#08,#06,#08,#3a,#08
	db #55,#08,#75,#08,#a9,#08,#ce,#08
	db #fd,#08,#09,#09,#15,#09,#21,#09
	db #2d,#09,#39,#09,#45,#09,#51,#09
	db #5d,#09,#69,#09,#75,#09,#21,#0a
	db #89,#0a,#cb,#0a,#0d,#0b,#4f,#0b
	db #91,#0b,#bb,#0b,#ed,#0b,#2f,#0c
	db #71,#0c,#af,#0c,#b2,#0c,#c0,#0c
	db #ce,#0c,#02,#0d,#13,#0d,#47,#0d
	db #73,#0d,#00,#00
;
.music_info
	db "Bacterik Dream - InGame (1987)(Chip)(Benoit Varasse)",0
	db "",0

	read "music_end.asm"
