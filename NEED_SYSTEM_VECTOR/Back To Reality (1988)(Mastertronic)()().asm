; Music of Back To Reality (1988)(Mastertronic)()()
; Ripped by Megachur the 15/06/2019
; $VER 1.5

IFDEF FILENAME_WRITE
	write "BACKTORE.BIN"
ENDIF

MUSIC_DATE_RIP_DAY		equ 15
MUSIC_DATE_RIP_MONTH	equ 06
MUSIC_DATE_RIP_YEAR		equ 2019
music_adr				equ #969e
NEED_SYSTEM_VECTOR		equ 1	; 1 = Need System Vectors

	read "music_header.asm"
;
.l969e
;
	ld a,#01
	ld hl,l96f8
	call #bcbc
	ld a,#02
	ld hl,l9713
	call #bcbc
	ld a,#03
	ld hl,l971d
	call #bcbc
	ld a,#04
	ld hl,l9727
	call #bcbc
	ld a,#05
	ld hl,l9702
	call #bcbc
	ld a,#06
	ld hl,l9709
	call #bcbc
	ret
;
.l96cf
;
	ld a,#01
	ld hl,l9731
	call #bcbf
	ld a,#02
	ld hl,l9738
	call #bcbf
	ld a,#03
	ld hl,l973f
	call #bcbf
	ld a,#04
	ld hl,l9746
	call #bcbf
	ld a,#05
	ld hl,l974d
	call #bcbf
	ret
.l96f8
	db #03,#02,#01,#02,#06,#02,#02,#08
.l9702 equ $ + 2
	db #01,#02,#02,#2a,#07,#18,#01,#08
.l9709 equ $ + 1
	db #06,#03,#01,#11,#0a,#01,#f0,#03
.l9713 equ $ + 3
	db #16,#06,#03,#03,#01,#01,#01,#0c
.l971d equ $ + 5
	db #02,#11,#00,#00,#ff,#03,#01,#01
.l9727 equ $ + 7
	db #01,#01,#01,#01,#01,#02,#18,#03
	db #01,#05,#0f,#01,#fd,#09,#01,#05
.l9731 equ $ + 1
	db #14,#02,#27,#1c,#01,#27,#e4,#01
.l973f equ $ + 7
.l9738
	db #02,#01,#f2,#0b,#01,#0e,#0b,#02
.l9746 equ $ + 6
	db #05,#e2,#01,#05,#1e,#01,#02,#06
.l974d equ $ + 5
	db #1a,#03,#06,#e6,#03,#02,#32,#1a
.l9754 equ $ + 4
	db #03,#32,#e6,#03,#02,#01,#01,#90
.l975d equ $ + 5
	db #01,#00,#05,#05,#00,#02,#00,#01
	db #90,#01,#00,#07,#0a,#00
	ld a,#02
	call #bcad
	bit 1,a
	jp nz,l9776
	bit 2,a
	jp nz,l9776
	ret
.l9776
	ld hl,l977d
	call #bcaa
	ret
.l977d
	db #02,#00,#02,#1e,#00,#09,#02,#05
	db #00
	ld hl,l978d
	call #bcaa
	ret
.l978d
	db #02,#02,#00,#14,#00,#01,#00,#1e
	db #01
	ld hl,l979d
	call #bcaa
	ret
.l979d
	db #02,#00,#00,#a6,#04,#00,#07,#28
	db #00
	push iy
	push ix
	push hl
	push de
	push bc
	push af
	ld hl,l97bd
	call #bcaa
	pop af
	pop bc
	pop de
	pop hl
	pop ix
	pop iy
	ret
.l97bd
	db #02,#03,#00,#0a,#00,#01,#03,#28
	db #00
	ld hl,l97cd
	call #bcaa
	ret
.l97cd
	db #02,#04,#03,#c8,#00,#01,#00,#33
	db #00
	push iy
	push ix
	push hl
	push de
	push bc
	push af
	ld hl,l97ed
	call #bcaa
	pop af
	pop bc
	pop de
	pop hl
	pop ix
	pop iy
	ret
.l97ed
	db #02,#00,#04,#68,#01,#00,#07,#32
	db #00,#21,#fd,#97,#cd,#aa,#bc,#c9
	db #02,#00,#05,#64,#00,#01,#07,#00
	db #00
	call l9830
	ret z
	ld hl,l9811
	call #bcaa
	ret
.l9811
	db #02,#00,#00,#68,#01,#07,#02,#02
	db #00
	call l9830
	ret z
	ld hl,l9754
	call #bcaa
	ret
	call l9830
	ret z
	ld hl,l975d
	call #bcaa
	ret
.l9830
	ld a,#02
	call #bcad
	and #07
	ret
	db #00,#00,#00,#00,#00,#00,#00,#00
.l9846 equ $ + 6
	db #00,#00,#00,#00,#00,#00,#00
.l984a equ $ + 3
.l9849 equ $ + 2
.l9848 equ $ + 1
.l9847
	db #00,#00,#00,#01,#00,#00,#00,#00
.l9853 equ $ + 4
	db #00,#04,#00,#00,#04,#00,#00,#00
	db #00,#00,#04,#00,#00

; play music interrupt ?
	ld a,(l8121)
	cp #01
	ret z
;
.play_music
;
	ld a,(l9847)
	cp #ac
	jp z,l98b4
.l986a
	ld c,a
	ld b,#00
	inc a
	ld (l9847),a
	ld hl,l9c49
	ld iy,l984a
	add hl,bc
	add hl,bc
	push hl
	pop ix
	ld a,(ix+#00)
	ld (iy+#03),a
	ld a,(ix+#01)
	ld (iy+#04),a
	ld hl,l9da5
	ld a,(l9846)
	cp #56
	jp z,l98bb
.l9894
	ld c,a
	inc a
	ld (l9846),a
	add hl,bc
	add hl,bc
	push hl
	pop ix
	ld a,(ix+#00)
	ld (iy+#07),a
	ld a,(ix+#01)
	ld (iy+#08),a
	push iy
	pop hl
	call #bcaa
	call nc,l992d
	ret
.l98b4
	xor a
	ld (l9847),a
	jp l986a
.l98bb
	xor a
	ld (l9846),a
	jp l9894
	ld a,(l8121)
	cp #01
	ret z
	ld a,(l9849)
	cp #ac
	jp z,l991f
.l98d0
	ld c,a
	inc a
	ld (l9849),a
	ld b,#00
	ld hl,l9c49
	ld iy,l9853
	add hl,bc
	add hl,bc
	push hl
	pop ix
	ld l,(ix+#00)
	ld h,(ix+#01)
	ld d,#00
	ld e,#03
	add hl,de
	ld (iy+#03),l
	ld (iy+#04),h
	ld hl,l9da5
	ld a,(l9848)
	cp #56
	jp z,l9926
.l98ff
	ld c,a
	inc a
	ld (l9848),a
	add hl,bc
	add hl,bc
	push hl
	pop ix
	ld a,(ix+#00)
	ld (iy+#07),a
	ld a,(ix+#01)
	ld (iy+#08),a
	push iy
	pop hl
	call #bcaa
	call nc,l993c
	ret
.l991f
	xor a
	ld (l9849),a
	jp l98d0
.l9926
	xor a
	ld (l9848),a
	jp l98ff
.l992d
	ld a,(l9847)
	dec a
	ld (l9847),a
	ld a,(l9846)
	dec a
	ld (l9846),a
	ret
.l993c
	ld a,(l9849)
	dec a
	ld (l9849),a
	ld a,(l9848)
	dec a
	ld (l9848),a
	ret
	dw l99b3,l99b9,l99c5,l99c9
	dw l99d5,l99db,l99e0,l99eb
	dw l99f6,l9a03,l9a0e,l9a1a
	dw l9a1e,l9a2a,l9a37,l9a41
	dw l9a4c,l9a5a,l9a5e,l9a6d
	dw l9a78,l9a82,l9a8e,l9a9a
	dw l9aa6,l9aaa,l9ab2,l9abd
	dw l9ac8,l9ad5,l9adf,l9ae7
	dw l9af3,l9af8,l9b03,l9b13
	dw l9b18,l9b24,l9b28,l9b2c
	dw l9b32,l9b3c,l9b46,l9b52
	dw l9b57,l9b5c,l9b63,l9b6d
	dw l9b71,l9b7c,l9b83,l9b84
.l99b9 equ $ + 6
.l99b3
	db #29,#16,#43,#02,#09,#01,#1b,#22
	db #5b,#5f,#05,#4f,#1e,#32,#02,#01
.l99c9 equ $ + 6
.l99c5 equ $ + 2
	db #03,#01,#24,#04,#02,#01,#33,#22
	db #5b,#42,#0b,#83,#0f,#0a,#01,#05
.l99d5 equ $ + 2
	db #03,#0d,#15,#0a,#73,#04,#06,#0d
.l99e0 equ $ + 5
.l99db
	db #38,#08,#07,#05,#0d,#23,#0a,#43
	db #42,#24,#50,#0c,#0a,#01,#06,#0c
.l99eb
	db #93,#0a,#43,#9f,#2d,#65,#11,#0a
.l99f6 equ $ + 3
	db #02,#06,#04,#1f,#34,#2b,#53,#0c
	db #56,#11,#30,#02,#0a,#1b,#01,#07
.l9a03
	db #2e,#53,#14,#4f,#11,#50,#02,#09
.l9a0e equ $ + 3
	db #1a,#0b,#07,#0f,#28,#2b,#63,#14
.l9a1a equ $ + 7
	db #50,#16,#10,#01,#0a,#0c,#07,#18
.l9a1e equ $ + 3
	db #0d,#0b,#0d,#33,#3a,#43,#5f,#10
.l9a2a equ $ + 7
	db #47,#0d,#4a,#01,#0c,#0e,#04,#3b
	db #28,#43,#1e,#31,#36,#05,#50,#02
.l9a37 equ $ + 4
	db #0d,#0f,#11,#04,#32,#5f,#0a,#50
.l9a41 equ $ + 6
	db #08,#28,#02,#0e,#10,#02,#2e,#63
	db #30,#6a,#08,#34,#02,#0f,#14,#13
.l9a4c equ $ + 1
	db #02,#17,#3a,#43,#42,#0c,#83,#07
.l9a5a equ $ + 7
	db #0a,#02,#36,#b0,#12,#0e,#03,#30
.l9a5e equ $ + 3
	db #11,#14,#03,#4b,#3a,#43,#82,#3e
	db #6c,#13,#0e,#01,#07,#98,#10,#02
.l9a6d equ $ + 2
	db #24,#67,#2e,#5f,#0c,#30,#1a,#28
.l9a78 equ $ + 5
	db #02,#12,#15,#10,#03,#0e,#6f,#12
.l9a82 equ $ + 7
	db #7f,#15,#0a,#02,#16,#14,#0b,#27
	db #10,#43,#63,#07,#a2,#0f,#1e,#02
.l9a8e equ $ + 3
	db #17,#15,#0b,#32,#42,#18,#6b,#09
.l9a9a equ $ + 7
	db #0c,#02,#1f,#b0,#18,#16,#06,#33
	db #16,#43,#5f,#1e,#4f,#10,#0a,#02
.l9aaa equ $ + 7
.l9aa6 equ $ + 3
	db #19,#17,#06,#30,#1a,#18,#06,#3d
.l9ab2 equ $ + 7
	db #10,#43,#1b,#19,#1e,#0a,#05,#1e
	db #6f,#29,#88,#0a,#1e,#02,#1a,#1c
.l9abd equ $ + 2
	db #09,#05,#2e,#82,#43,#43,#1e,#0a
.l9ac8 equ $ + 5
	db #02,#1d,#2e,#1b,#05,#13,#0a,#43
	db #82,#1f,#67,#0b,#0a,#01,#07,#98
.l9ad5 equ $ + 2
	db #1c,#05,#16,#1e,#16,#48,#05,#3c
.l9adf equ $ + 4
	db #02,#1f,#1a,#05,#71,#34,#2b,#1e
.l9ae7 equ $ + 4
	db #20,#08,#42,#37,#2b,#22,#2b,#63
	db #01,#79,#10,#24,#02,#1f,#21,#08
.l9af8 equ $ + 5
.l9af3
	db #1c,#2d,#23,#20,#03,#1e,#1e,#11
	db #70,#0a,#02,#01,#23,#26,#24,#0c
.l9b03
	db #3f,#28,#5b,#82,#3e,#6b,#06,#0a
	db #02,#30,#b0,#22,#27,#25,#21,#03
.l9b18 equ $ + 5
.l9b13
	db #09,#3a,#5b,#22,#0d,#27,#10,#2b
	db #9f,#43,#80,#05,#1c,#02,#26,#23
.l9b28 equ $ + 5
.l9b24 equ $ + 1
	db #03,#14,#25,#22,#03,#30,#23,#28
.l9b32 equ $ + 7
.l9b2c equ $ + 1
	db #0a,#31,#22,#5b,#27,#29,#0a,#32
	db #42,#1e,#62,#06,#0a,#01,#28,#2a
.l9b3c equ $ + 1
	db #0a,#26,#63,#07,#7f,#11,#14,#02
.l9b46 equ $ + 3
	db #29,#2b,#0a,#2b,#40,#43,#9f,#36
.l9b52 equ $ + 7
	db #4f,#0a,#14,#01,#2c,#2a,#0a,#11
.l9b57 equ $ + 4
	db #0a,#43,#2b,#0b,#21,#0a,#2b,#21
.l9b5c equ $ + 1
	db #0c,#2d,#2e,#2b,#32,#2f,#1c,#09
.l9b63
	db #0e,#af,#44,#a0,#14,#30,#01,#30
.l9b71 equ $ + 6
.l9b6d equ $ + 2
	db #2e,#09,#24,#31,#2f,#09,#13,#40
	db #2b,#93,#38,#4d,#09,#1e,#02,#30
.l9b7c equ $ + 1
	db #0d,#51,#0a,#43,#2e,#06,#18,#4f
.l9b84 equ $ + 1
.l9b83
	db #80,#00,#00,#07,#00,#04,#00,#00
	db #02,#02,#05,#05,#08,#00,#08,#0a
	db #06,#03,#09,#00,#09,#03,#03,#04
	db #09,#01,#00,#00,#01,#05,#09,#0a
	db #00,#0a,#00,#02,#09,#00,#07,#00
	db #00,#00,#04,#08,#07,#00,#00,#00
	db #06,#00,#01,#00,#00,#07,#00,#04
	db #00,#00,#02,#02,#05,#05,#08,#00
	db #08,#0a,#06,#03,#09,#00,#09,#03
	db #03,#04,#09,#01,#00,#00,#01,#05
	db #09,#0a,#00,#0a,#00,#02,#09,#00
	db #07,#00,#00,#00,#04,#08,#07,#00
	db #00,#00,#06,#00,#01,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00
	dw #5443,#5483,#54c3,#5483
	dw #5503,#5543,#5583,#5543
	dw #55c3,#5603,#5643,#5603
	dw #5683,#56c3,#5703,#56c3
	dw #5743,#5783,#57c3,#5783
	dw #5803,#5843,#5883,#5843
	dw #58c3,#5903,#5943,#5903
	dw #5983,#59c3,#5a03,#59c3
	dw #5a43,#5a83,#5ac3,#5a83
	dw #5b03,#5b43,#5b83,#5b43
.l9c49
	db #de,#01,#92,#01,#3f,#01,#2d,#01
	db #fa,#01,#00,#00,#3f,#01,#66,#01
	db #66,#01,#7b,#01,#92,#01,#aa,#01
	db #c3,#01,#de,#01,#fa,#01,#7e,#02
	db #de,#01,#66,#01,#92,#01,#aa,#01
	db #de,#01,#92,#01,#3f,#01,#66,#01
	db #3f,#01,#ef,#00,#3f,#01,#92,#01
	db #aa,#01,#92,#01,#66,#01,#3f,#01
	db #1c,#01,#fd,#00,#ef,#00,#92,#01
	db #66,#01,#3f,#01,#2d,#01,#aa,#01
	db #92,#01,#66,#01,#3f,#01,#66,#01
	db #92,#01,#aa,#01,#92,#01,#66,#01
	db #3f,#01,#2d,#01,#0c,#01,#2d,#01
	db #3f,#01,#66,#01,#3f,#01,#2d,#01
	db #0c,#01,#ef,#00,#e1,#00,#0c,#01
	db #2d,#01,#3f,#01,#1c,#01,#fd,#00
	db #ef,#00,#d5,#00,#c9,#00,#ef,#00
	db #0c,#01,#2d,#01,#fd,#00,#ef,#00
	db #d5,#00,#c9,#00,#b3,#00,#d5,#00
	db #3f,#01,#d5,#00,#ef,#00,#d5,#00
	db #c9,#00,#b3,#00,#c9,#00,#d5,#00
	db #ef,#00,#fd,#00,#ef,#00,#ef,#00
	db #c9,#00,#9f,#00,#96,#00,#fd,#00
	db #00,#00,#9f,#00,#b3,#00,#b3,#00
	db #be,#00,#c9,#00,#d5,#00,#e1,#00
	db #ef,#00,#fd,#00,#3f,#01,#ef,#00
	db #b3,#00,#c9,#00,#d5,#00,#ef,#00
	db #c9,#00,#9f,#00,#b3,#00,#9f,#00
	db #77,#00,#9f,#00,#c9,#00,#d5,#00
	db #c9,#00,#b3,#00,#9f,#00,#8e,#00
	db #7f,#00,#77,#00,#c9,#00,#b3,#00
	db #9f,#00,#96,#00,#d5,#00,#c9,#00
	db #b3,#00,#9f,#00,#b3,#00,#c9,#00
	db #d5,#00,#c9,#00,#b3,#00,#9f,#00
	db #96,#00,#86,#00,#96,#00,#9f,#00
	db #b3,#00,#9f,#00,#96,#00,#86,#00
	db #77,#00,#71,#00,#86,#00,#96,#00
	db #9f,#00,#8e,#00,#7f,#00,#77,#00
	db #6a,#00,#64,#00,#77,#00,#86,#00
	db #96,#00,#7f,#00,#77,#00,#6a,#00
	db #64,#00,#59,#00,#6a,#00,#9f,#00
	db #6a,#00,#77,#00,#6a,#00,#64,#00
	db #59,#00,#64,#00,#6a,#00,#77,#00
.l9da5 equ $ + 4
	db #7f,#00,#77,#00,#60,#00,#60,#00
	db #60,#00,#60,#00,#60,#00,#30,#00
	db #60,#00,#60,#00,#60,#00,#60,#00
	db #60,#00,#30,#00,#30,#00,#30,#00
	db #30,#00,#30,#00,#30,#00,#30,#00
	db #60,#00,#60,#00,#60,#00,#60,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #18,#00,#18,#00,#18,#00,#18,#00
	db #30,#00,#0f,#0f,#1e,#07,#0f,#08
	db #00,#00,#00,#f0,#f0,#f0,#f0,#f0
	db #f0,#07,#0f,#0f,#0f,#0f,#1e,#07
	db #0f,#0f,#0f,#0f,#1e,#07,#0f,#0f
	db #3c,#87,#1e,#07,#0f,#0f,#c3,#4b
	db #1e,#07,#0f,#00,#00

;#8121 modified by Megachur
.l8121
	db #00,#00,#08,#01,#02

;
.init_music
; org #7617 - modified by Megachur
;
	call l969e
	jp l96cf
;
.music_info
	db "Back To Reality (1988)(Mastertronic)()",0
	db "",0

	read "music_end.asm"
