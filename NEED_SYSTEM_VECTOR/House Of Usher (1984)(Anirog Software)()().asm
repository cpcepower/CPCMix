; Music of House Of Usher (1984)(Anirog Software)()()
; Ripped by Megachur the 16/09/2020
; $VER 1.5

IFDEF FILENAME_WRITE
	write "HOUSEOFU.BIN"
ENDIF

MUSIC_DATE_RIP_DAY		equ 16
MUSIC_DATE_RIP_MONTH	equ 09
MUSIC_DATE_RIP_YEAR		equ 2020
music_adr				equ #8b0b
NEED_SYSTEM_VECTOR		equ 1

	read "music_header.asm"

;
.init_music
.play_music
;
	ld a,#01
	call #bcad
	and #07
	cp #00
	ret z
	ld hl,l8b3e
	ld de,#000a
	ld a,(l8b37)
	ld b,a
	ld a,(l8b36)
	inc a
	cp b
	jp z,l8b38
	ld (l8b36),a
	or a
	sbc hl,de
.l8b2d
	add hl,de
	dec a
	jr nz,l8b2d
	inc hl
	call #bcaa
	ret
.l8b37 equ $ + 1
.l8b36
	db #01,#44
.l8b38
	ld a,#01		; reset music ?
	ld (l8b36),a
	ret
.l8b3e
	db #00,#81,#00,#00,#fa,#01,#00,#01
	db #05,#00,#00,#01,#00,#00,#00,#00
	db #00,#01,#f4,#01,#00,#01,#00,#00
	db #fa,#01,#00,#0f,#19,#00,#00,#01
	db #00,#00,#fa,#01,#00,#01,#05,#00
	db #00,#01,#00,#00,#fa,#01,#00,#0f
	db #19,#00,#00,#01,#00,#00,#38,#02
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #7e,#02,#00,#0f,#19,#00,#00,#01
	db #00,#00,#54,#03,#00,#0f,#4b,#00
	db #00,#01,#00,#00,#54,#03,#00,#01
	db #0f,#00,#00,#01,#00,#00,#54,#03
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #54,#03,#00,#0f,#64,#00,#00,#01
	db #00,#00,#54,#03,#00,#01,#0f,#00
	db #00,#01,#00,#00,#fa,#01,#00,#0f
	db #19,#00,#00,#01,#00,#00,#fa,#01
	db #00,#01,#05,#00,#00,#01,#00,#00
	db #fa,#01,#00,#0f,#19,#00,#00,#01
	db #00,#00,#38,#02,#00,#0f,#19,#00
	db #00,#01,#00,#00,#7e,#02,#00,#0f
	db #19,#00,#00,#01,#00,#00,#f6,#02
	db #00,#0f,#4b,#00,#00,#01,#00,#00
	db #f6,#02,#00,#01,#0f,#00,#00,#01
	db #00,#00,#f6,#02,#00,#0f,#19,#00
	db #00,#01,#00,#00,#f6,#02,#00,#0f
	db #64,#00,#00,#01,#00,#00,#f6,#02
	db #00,#01,#0f,#00,#00,#01,#00,#00
	db #38,#02,#00,#0f,#19,#00,#00,#01
	db #00,#00,#38,#02,#00,#0f,#32,#00
	db #00,#01,#00,#00,#7e,#02,#00,#0f
	db #19,#00,#00,#01,#00,#00,#cc,#02
	db #00,#0f,#4b,#00,#00,#01,#00,#00
	db #cc,#02,#00,#0f,#19,#00,#00,#01
	db #00,#00,#cc,#02,#00,#0f,#4b,#00
	db #00,#01,#00,#00,#cc,#02,#00,#01
	db #0f,#00,#00,#01,#00,#00,#cc,#02
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #f6,#02,#00,#0f,#19,#00,#00,#01
	db #00,#00,#cc,#02,#00,#0f,#19,#00
	db #00,#01,#00,#00,#f6,#02,#00,#0f
	db #19,#00,#00,#01,#00,#00,#54,#03
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #54,#03,#00,#0f,#64,#00,#00,#01
	db #00,#00,#54,#03,#00,#0f,#64,#00
	db #00,#01,#00,#00,#54,#03,#00,#01
	db #0f,#00,#00,#01,#00,#00,#fa,#01
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #fa,#01,#00,#0f,#19,#00,#00,#01
	db #00,#00,#38,#02,#00,#0f,#19,#00
	db #00,#01,#00,#00,#7e,#02,#00,#0f
	db #19,#00,#00,#01,#00,#00,#54,#03
	db #00,#0f,#4b,#00,#00,#01,#00,#00
	db #54,#03,#00,#0f,#19,#00,#00,#01
	db #00,#00,#54,#03,#00,#0f,#64,#00
	db #00,#01,#00,#00,#54,#03,#00,#01
	db #0f,#00,#00,#01,#00,#00,#fa,#01
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #fa,#01,#00,#0f,#19,#00,#00,#01
	db #00,#00,#38,#02,#00,#0f,#19,#00
	db #00,#01,#00,#00,#7e,#02,#00,#0f
	db #19,#00,#00,#01,#00,#00,#f6,#02
	db #00,#0f,#4b,#00,#00,#01,#00,#00
	db #f6,#02,#00,#0f,#19,#00,#00,#01
	db #00,#00,#f6,#02,#00,#0f,#64,#00
	db #00,#01,#00,#00,#f6,#02,#00,#01
	db #0f,#00,#00,#01,#00,#00,#38,#02
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #38,#02,#00,#0f,#32,#00,#00,#01
	db #00,#00,#7e,#02,#00,#0f,#19,#00
	db #00,#01,#00,#00,#cc,#02,#00,#0f
	db #32,#00,#00,#01,#00,#00,#aa,#01
	db #00,#0f,#19,#00,#00,#01,#00,#00
	db #aa,#01,#00,#0f,#19,#00,#00,#01
	db #00,#00,#aa,#01,#00,#0f,#19,#00
	db #00,#01,#00,#00,#de,#01,#00,#0f
	db #19,#00,#00,#01,#00,#00,#fa,#01
	db #00,#0f,#32,#00,#00,#01,#00,#00
	db #38,#02,#00,#0f,#19,#00,#00,#01
	db #00,#00,#f6,#02,#00,#0f,#32,#00
	db #00,#01,#00,#00,#cc,#02,#00,#0f
	db #19,#00,#00,#01,#00,#00,#7e,#02
	db #00,#0f,#64,#00,#00,#01,#00,#00
	db #7e,#02,#00,#0f,#64,#00,#30,#c0
	db #20,#00,#70,#43,#3c,#e0,#10,#e0
	db #87,#0f,#2c,#30,#48,#b4,#c3,#c0
	db #21,#48,#b4,#30,#48,#21,#48,#52
	db #30,#48,#21,#48,#30,#d2,#48,#21
	db #48,#00,#52,#48,#21,#48,#00,#52
	db #78,#e1,#48,#00,#52,#0f,#0f,#48
	db #00,#52,#78,#e1,#48,#00,#52,#48
	db #21,#48,#00,#52,#48,#21,#48,#00
	db #52,#48,#21,#48,#00,#52,#48,#21
	db #48,#00,#52,#48,#21,#48,#00,#52
	db #48,#21,#2c,#30,#e1,#48,#43,#1e
	db #43,#3c,#c0,#21,#2c,#96,#c3,#48
	db #10,#48,#a4,#30,#80,#00,#80,#96
	db #00,#00,#00,#00,#70,#80,#00,#00
	db #00,#30,#f0,#00,#43,#0f,#80,#87
	db #c3,#48,#52,#21,#80,#52,#21,#80
	db #52,#21,#80,#52,#21,#80,#52,#21
	db #80,#52,#21,#80,#52,#21,#80,#52
	db #21,#80,#87,#c3,#48,#43,#0f,#80
	db #30,#f0,#00,#20,#10,#00,#52,#21
	db #80,#96,#21,#48,#52,#21,#80,#52
	db #21,#80,#52,#21,#80,#52,#21,#80
	db #52,#21,#80,#52,#21,#80,#52,#21
	db #80,#52,#21,#80,#87,#c3,#48,#43
	db #3c,#2c,#30,#c0,#c0,#20,#20,#20
;
.music_info
	db "House Of Usher (1984)(Anirog Software)()",0
	db "",0

	read "music_end.asm"
