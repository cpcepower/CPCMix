; Music of Le Passager Du Temps (1987)(Ere Informatique)()()
; Ripped by Megachur the 22/10/2013
; $VER 1.5

IFDEF FILENAME_WRITE
	write "LEPASSDT.BIN"
ENDIF

MUSIC_DATE_RIP_DAY		equ 22
MUSIC_DATE_RIP_MONTH	equ 10
MUSIC_DATE_RIP_YEAR		equ 2013
music_adr				equ #7540
NEED_SYSTEM_VECTOR		equ 1

	read "music_header.asm"

	jp l7553
	jp l7678	; init
.l754c equ $ + 6
.l754a equ $ + 4
.l7548 equ $ + 2
.l7546
	db #00,#00,#00,#00,#00,#00,#00
.l754d
	ld a,h
	sub d
	ret nz
	ld a,l
	sub e
	ret
.l7553
	ld a,#04
	call #bcad
	cp #81
	jr z,l7586
	ld hl,(l7546)
	ld ix,l77d7
	ld a,(hl)
	ld (ix+#07),a
	inc hl
	ld a,(hl)
	ld (ix+#08),a
	inc hl
	ld a,(hl)
	ld (ix+#05),a
	inc hl
	ld de,l7846
	call l754d
	jr nz,l757d
	ld hl,l7804
.l757d
	ld (l7546),hl
	push ix
	pop hl
	call #bcaa
.l7586
	ld a,#02
	call #bcad
	cp #81
	jr z,l75d0
	ld a,(l754c)
	or a
	jr nz,l75d0
	ld hl,(l7548)
	ld ix,l77e0
	ld e,(hl)
	inc hl
	ld a,(hl)
	or e
	jr nz,l75a8
	ld a,#0c
	ld c,#01
	jr l75af
.l75a8
	ld a,(l7801)
	ld c,a
	ld a,(l7800)
.l75af
	ld (ix+#01),a
	ld (ix+#02),c
	ld (ix+#03),e
	ld a,(hl)
	ld (ix+#04),a
	inc hl
	ld a,(hl)
	ld (ix+#07),a
	inc hl
	ld a,(hl)
	ld (ix+#08),a
	inc hl
	ld (l7548),hl
	push ix
	pop hl
	call #bcaa
.l75d0
	ld a,#01
	call #bcad
	cp #81
	jr z,l760b
	ld a,(l754c)
	or a
	jr nz,l760b
	ld hl,(l754a)
	ld ix,l77e9
	ld e,(hl)
	inc hl
	ld a,(hl)
	or e
	ld a,#0c
	ld d,#00
	jr z,l75f4
	ld a,#0d
	ld d,#06
.l75f4
	ld (ix+#01),a
	ld (ix+#02),d
	ld (ix+#03),e
	ld a,(hl)
	ld (ix+#04),a
	inc hl
	ld (l754a),hl
	push ix
	pop hl
	call #bcaa
.l760b
	ld hl,(l7548)
	ld de,l7be6
	call l754d
	jr nz,l765e
	ld a,#02
	call #bcad
	cp #04
	jr nz,l7659
	ld a,#01
	call #bcad
	cp #04
	jr nz,l7659
	ld hl,l7846	; music reset
	ld (l7548),hl
	ld hl,l7be6
	ld (l754a),hl
	xor a
	ld (l754c),a
	ld hl,l7804
	ld (l7546),hl
	ld a,#41
	ld (l77e9),a
	inc a
	ld (l77e0),a
	ld a,#44
	ld (l77d7),a
	call #bca7
	ld b,#05
.l7651
	push bc
	call l7553
	pop bc
	djnz l7651
	ret
.l7659
	ld a,#01
	ld (l754c),a
.l765e
	ld a,(l77e9)
	cp #41
	ret nz
	ld a,#01
	ld (l77e9),a
	inc a
	ld (l77e0),a
	ld a,#04
	ld (l77d7),a
	ld a,#07
	call #bcb3
	ret
;
.init_music
.l7678
;
	xor a
	ld (l754c),a
	call #bca7
	ld hl,l7846
	ld (l7548),hl
	ld hl,l7804
	ld (l7546),hl
	ld hl,l7be6
	ld (l754a),hl
	ld a,#41
	ld (l77e9),a
	inc a
	ld (l77e0),a
	ld a,#44
	ld (l77d7),a
	ld hl,l7802
	ld a,(hl)
	ld (l77f0),a
	inc hl
	ld a,(hl)
	ld (l77f1),a
	call #bca7
	ld hl,l76db
	ld b,#08
.l76b3
	push bc
	ld a,(hl)
	inc hl
	push hl
	call #bcbc
	pop hl
.l76bb
	ld a,(hl)
	cp #80
	inc hl
	jr nz,l76bb
	pop bc
	djnz l76b3
	ld hl,l776b
	ld b,#06
.l76c9
	push bc
	ld a,(hl)
	inc hl
	push hl
	call #bcbf
	pop hl
.l76d1
	ld a,(hl)
	cp #80
	inc hl
	jr nz,l76d1
	pop bc
	djnz l76c9
	ret
.l76db
	db #0b,#02,#01,#0f,#01,#06,#fe,#02
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#80,#0c,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#80,#0d,#04,#02,#06
	db #01,#01,#02,#04,#01,#ff,#04,#01
	db #ff,#02,#00,#00,#00,#80,#01,#03
	db #01,#0f,#04,#01,#00,#04,#0f,#ff
	db #02,#00,#00,#00,#00,#00,#00,#80
	db #02,#01,#10,#ff,#07,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#80,#03,#01,#10,#ff,#03,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#80,#04,#01,#04,#fc
	db #18,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#80,#05,#03
	db #05,#03,#01,#01,#00,#14,#0f,#ff
	db #02,#00,#00,#00,#00,#00,#00,#80
.l776b
	db #01,#82,#01,#01,#01,#01,#ff,#01
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#80,#02,#82,#01,#05,#05,#01
	db #fb,#05,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#80,#03,#83,#01,#02
	db #01,#01,#fc,#01,#01,#02,#01,#00
	db #00,#00,#00,#00,#00,#80,#04,#83
	db #02,#01,#01,#04,#ff,#01,#02,#01
	db #01,#00,#00,#00,#00,#00,#00,#80
	db #05,#82,#04,#01,#03,#04,#ff,#03
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#80,#06,#83,#01,#00,#0e,#01
	db #11,#02,#01,#e8,#01,#00,#00,#00
.l77d7 equ $ + 4
	db #00,#00,#00,#80,#44,#0b,#00,#00
.l77e0 equ $ + 5
	db #00,#00,#00,#00,#00,#42,#0c,#01
.l77e9 equ $ + 6
	db #00,#00,#00,#00,#00,#00,#41,#0c
.l77f1 equ $ + 6
.l77f0 equ $ + 5
	db #00,#00,#00,#00,#00,#00,#00,#39
	db #45,#36,#c6,#35,#d9,#83,#13,#2c
.l7802 equ $ + 7
.l7801 equ $ + 6
.l7800 equ $ + 5
	db #7f,#29,#26,#3c,#b4,#01,#01,#14
.l7804 equ $ + 1
	db #00,#28,#00,#14,#28,#00,#14,#28
	db #00,#14,#0a,#00,#02,#0a,#00,#02
	db #0a,#00,#02,#0a,#00,#02,#28,#00
	db #14,#28,#00,#02,#28,#00,#14,#14
	db #00,#0a,#14,#00,#0a,#28,#00,#14
	db #28,#00,#02,#28,#00,#14,#14,#00
	db #0a,#14,#00,#0a,#28,#00,#14,#28
	db #00,#02,#28,#00,#14,#14,#00,#0a
.l7846 equ $ + 3
	db #14,#00,#0a,#00,#00,#14,#00,#00
	db #00,#14,#00,#00,#00,#14,#00,#00
	db #00,#14,#00,#00,#00,#14,#00,#00
	db #00,#14,#00,#00,#00,#14,#00,#00
	db #00,#14,#00,#fc,#01,#14,#00,#fc
	db #01,#14,#00,#a8,#01,#14,#00,#fc
	db #01,#14,#00,#00,#00,#14,#00,#fc
	db #00,#14,#00,#a8,#01,#14,#00,#00
	db #00,#14,#00,#54,#03,#14,#00,#54
	db #03,#14,#00,#a4,#02,#14,#00,#54
	db #03,#14,#00,#00,#00,#14,#00,#a8
	db #01,#14,#00,#a4,#02,#14,#00,#00
	db #00,#14,#00,#38,#02,#14,#00,#38
	db #02,#14,#00,#c4,#01,#14,#00,#38
	db #02,#14,#00,#00,#00,#14,#00,#1c
	db #01,#14,#00,#c4,#01,#14,#00,#00
	db #00,#14,#00,#f8,#02,#14,#00,#f8
	db #02,#14,#00,#7c,#02,#14,#00,#f8
	db #02,#14,#00,#00,#00,#14,#00,#7c
	db #01,#14,#00,#7c,#02,#14,#00,#00
	db #00,#14,#00,#fc,#01,#14,#00,#fc
	db #01,#14,#00,#a8,#01,#14,#00,#fc
	db #01,#14,#00,#00,#00,#14,#00,#fc
	db #00,#14,#00,#a8,#01,#14,#00,#00
	db #00,#14,#00,#54,#03,#14,#00,#54
	db #03,#14,#00,#a4,#02,#14,#00,#54
	db #03,#14,#00,#00,#00,#14,#00,#a8
	db #01,#14,#00,#a4,#02,#14,#00,#00
	db #00,#14,#00,#38,#02,#14,#00,#38
	db #02,#14,#00,#c4,#01,#14,#00,#38
	db #02,#14,#00,#00,#00,#14,#00,#1c
	db #01,#14,#00,#c4,#01,#14,#00,#00
	db #00,#14,#00,#7c,#02,#14,#00,#7c
	db #02,#14,#00,#fc,#01,#14,#00,#7c
	db #02,#14,#00,#00,#00,#14,#00,#40
	db #01,#14,#00,#fc,#01,#14,#00,#00
	db #00,#14,#00,#fc,#01,#14,#00,#fc
	db #01,#14,#00,#a8,#01,#14,#00,#fc
	db #01,#14,#00,#00,#00,#14,#00,#fc
	db #00,#14,#00,#a8,#01,#14,#00,#00
	db #00,#14,#00,#54,#03,#14,#00,#54
	db #03,#14,#00,#a4,#02,#14,#00,#54
	db #03,#14,#00,#00,#00,#14,#00,#a8
	db #01,#14,#00,#a4,#02,#14,#00,#00
	db #00,#14,#00,#38,#02,#14,#00,#38
	db #02,#14,#00,#c4,#01,#14,#00,#38
	db #02,#14,#00,#00,#00,#14,#00,#1c
	db #01,#14,#00,#c4,#01,#14,#00,#00
	db #00,#14,#00,#f8,#02,#14,#00,#f8
	db #02,#14,#00,#7c,#02,#14,#00,#f8
	db #02,#14,#00,#00,#00,#14,#00,#7c
	db #01,#14,#00,#7c,#02,#14,#00,#00
	db #00,#14,#00,#fc,#01,#14,#00,#fc
	db #01,#14,#00,#a8,#01,#14,#00,#fc
	db #01,#14,#00,#00,#00,#14,#00,#fc
	db #00,#14,#00,#a8,#01,#14,#00,#00
	db #00,#14,#00,#54,#03,#14,#00,#54
	db #03,#14,#00,#a4,#02,#14,#00,#54
	db #03,#14,#00,#00,#00,#14,#00,#a8
	db #01,#14,#00,#a4,#02,#14,#00,#00
	db #00,#14,#00,#38,#02,#14,#00,#38
	db #02,#14,#00,#c4,#01,#14,#00,#38
	db #02,#14,#00,#00,#00,#14,#00,#1c
	db #01,#14,#00,#c4,#01,#14,#00,#00
	db #00,#14,#00,#7c,#02
	db #14,#00,#7c,#02,#14,#00,#fc,#01
	db #14,#00,#7c,#02,#14,#00,#00,#00
	db #14,#00,#40,#01,#14,#00,#fc,#01
	db #14,#00,#00,#00,#14,#00,#fc,#01
	db #14,#00,#fc,#01,#14,#00,#a8,#01
	db #14,#00,#fc,#01,#14,#00,#38,#02
	db #14,#00,#fc,#01,#14,#00,#a8,#01
	db #14,#00,#fc,#00,#14,#00,#f8,#02
	db #14,#00,#f8,#02,#14,#00,#7c,#02
	db #14,#00,#f8,#02,#14,#00,#54,#03
	db #14,#00,#f8,#02,#14,#00,#7c,#02
	db #14,#00,#7c,#01,#14,#00,#a4,#02
	db #14,#00,#a4,#02,#14,#00,#38,#02
	db #14,#00,#a4,#02,#14,#00,#f8,#02
	db #14,#00,#a4,#02,#14,#00,#38,#02
	db #14,#00,#50,#01,#14,#00,#38,#02
	db #14,#00,#38,#02,#14,#00,#c4,#01
	db #14,#00,#38,#02,#14,#00,#7c,#02
	db #14,#00,#38,#02,#14,#00,#c4,#01
	db #14,#00,#1c,#01,#14,#00,#fc,#01
	db #14,#00,#fc,#01,#14,#00,#a8,#01
	db #14,#00,#fc,#01,#14,#00,#38,#02
	db #14,#00,#fc,#01,#14,#00,#d4,#00
	db #14,#00,#fc,#00,#14,#00,#f8,#02
	db #14,#00,#f8,#02,#14,#00,#7c,#02
	db #14,#00,#f8,#02,#14,#00,#54,#03
	db #14,#00,#f8,#02,#14,#00,#40,#01
	db #14,#00,#7c,#01,#14,#00,#a4,#02
	db #14,#00,#a4,#02,#14,#00,#38,#02
	db #14,#00,#a4,#02,#14,#00,#f8,#02
	db #14,#00,#a4,#02,#14,#00,#1c,#01
	db #14,#00,#50,#01,#14,#00,#38,#02
	db #14,#00,#38,#02,#14,#00,#c4,#01
	db #14,#00,#38,#02,#14,#00,#7c,#02
	db #14,#00,#38,#02,#14,#00,#e0,#00
	db #14,#00,#1c,#01,#14,#00,#fc,#01
	db #14,#00,#fc,#01,#14,#00,#a8,#01
	db #14,#00,#fc,#01,#14,#00,#38,#02
	db #14,#00,#fc,#01,#14,#00,#d4,#00
	db #14,#00,#fc,#00,#14,#00,#f8,#02
	db #14,#00,#f8,#02,#14,#00,#7c,#02
	db #14,#00,#f8,#02,#14,#00,#54,#03
	db #14,#00,#f8,#02,#14,#00,#40,#01
	db #14,#00,#7c,#01,#14,#00,#a4,#02
	db #14,#00,#a4,#02,#14,#00,#38,#02
	db #14,#00,#a4,#02,#14,#00,#f8,#02
	db #14,#00,#a4,#02,#14,#00,#1c,#01
	db #14,#00,#50,#01,#14,#00,#38,#02
	db #14,#00,#38,#02,#14,#00,#c4,#01
	db #14,#00,#38,#02,#14,#00,#7c,#02
	db #14,#00,#38,#02,#14,#00,#e0,#00
.l7be6 equ $ + 6
	db #14,#00,#90,#00,#14,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#fe,#00
	db #00,#00,#8e,#00,#8e,#00,#fe,#00
	db #00,#00,#00,#00,#8e,#00,#aa,#01
	db #00,#00,#d4,#00,#d4,#00,#aa,#01
	db #00,#00,#00,#00,#d4,#00,#1c,#01
	db #00,#00,#8e,#00,#8e,#00,#1c,#01
	db #00,#00,#00,#00,#8e,#00,#7c,#01
	db #00,#00,#d4,#00,#d4,#00,#7c,#01
	db #00,#00,#00,#00,#d4,#00,#fe,#00
	db #00,#00,#8e,#00,#8e,#00,#fe,#00
	db #00,#00,#00,#00,#8e,#00,#aa,#01
	db #00,#00,#d4,#00,#d4,#00,#aa,#01
	db #00,#00,#00,#00,#d4,#00,#1c,#01
	db #00,#00,#8e,#00,#8e,#00,#1c,#01
	db #00,#00,#00,#00,#8e,#00,#3e,#01
	db #00,#00,#a0,#00,#a0,#00,#3e,#01
	db #00,#00,#00,#00,#a0,#00,#fe,#00
	db #d4,#00,#a8,#00,#d4,#00,#a8,#00
	db #d4,#00,#a8,#00,#d4,#00,#aa,#01
	db #52,#01,#1c,#01,#52,#01,#1c,#01
	db #52,#01,#1c,#01,#52,#01,#1c,#01
	db #e2,#00,#be,#00,#e2,#00,#be,#00
	db #e2,#00,#be,#00,#e2,#00,#7c,#01
	db #3e,#01,#fe,#00,#3e,#01,#fe,#00
	db #3e,#01,#fe,#00,#3e,#01,#fe,#00
	db #d4,#00,#a8,#00,#d4,#00,#a8,#00
	db #d4,#00,#a8,#00,#d4,#00,#aa,#01
	db #52,#01,#1c,#01,#52,#01,#1c,#01
	db #52,#01,#1c,#01,#52,#01,#1c,#01
	db #e2,#00,#be,#00,#e2,#00,#be,#00
	db #e2,#00,#be,#00,#e2,#00,#3e,#01
	db #fe,#00,#d4,#00,#fe,#00,#d4,#00
	db #fe,#00,#d4,#00,#fe,#00,#fe,#00
	db #d4,#00,#a8,#00,#00,#00,#8e,#00
	db #8e,#00,#d4,#00,#fe,#00,#7c,#01
	db #3e,#01,#fe,#00,#00,#00,#d4,#00
	db #d4,#00,#3e,#01,#7c,#01,#52,#01
	db #1c,#01,#e2,#00,#00,#00,#be,#00
	db #be,#00,#1c,#01,#52,#01,#1c,#01
	db #e2,#00,#be,#00,#00,#00,#8e,#00
	db #8e,#00,#e2,#00,#1c,#01,#3f,#00
	db #47,#00,#54,#00,#6a,#00,#7f,#00
	db #3f,#00,#47,#00,#3f,#00,#5f,#00
	db #6a,#00,#7f,#00,#9f,#00,#be,#00
	db #5f,#00,#6a,#00,#5f,#00,#54,#00
	db #5f,#00,#71,#00,#8e,#00,#a9,#00
	db #54,#00,#5f,#00,#54,#00,#38,#00
	db #47,#00,#5f,#00,#71,#00,#8e,#00
	db #38,#00,#47,#00,#38,#00,#3f,#00
	db #47,#00,#54,#00,#6a,#00,#7f,#00
	db #3f,#00,#47,#00,#3f,#00,#5f,#00
	db #6a,#00,#7f,#00,#9f,#00,#be,#00
	db #5f,#00,#6a,#00,#5f,#00,#54,#00
	db #5f,#00,#71,#00,#8e,#00,#a9,#00
	db #54,#00,#5f,#00,#54,#00,#38,#00
	db #47,#00,#5f,#00,#71,#00,#8e,#00
	db #38,#00,#47,#00,#38,#00,#48,#41
	db #4c,#4f,#55,#50,#45,#20,#50,#49
	db #52,#4f,#47,#55,#45,#20,#37,#3f
	db #46,#45,#55,#20,#37,#3a,#41,#42
	db #4f,#52,#44,#41,#47,#45,#20,#22
	db #00,#00
;
.music_info
	db "Le Passager Du Temps (1987)(Ere Informatique)()",0
	db "",0

	read "music_end.asm"
