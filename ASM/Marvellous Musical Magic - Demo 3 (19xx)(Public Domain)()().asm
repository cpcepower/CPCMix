; Music of Marvellous Musical Magic - Demo 3 (19xx)(Public Domain)()()
; Ripped by Megachur the 18/04/2018
; $VER 1.5

IFDEF FILENAME_WRITE
	write "MARVMMD3.BIN"
ENDIF

MUSIC_DATE_RIP_DAY		equ 18
MUSIC_DATE_RIP_MONTH	equ 04
MUSIC_DATE_RIP_YEAR		equ 2018
music_adr				equ #802d

	read "music_header.asm"

	ld a,#01
	call l8042
.l8032
	call #bd19
	call l804b
	call #bb1b
	jr nc,l8032
	xor a
	call l8042
	ret
.l8042
	jp l804e
	jp l805e
	jp l8122
.l804b
	jp l810e
.l804e
	push af
	push hl
	push de
	push bc
	push ix
	call l805e
	pop ix
	pop bc
	pop de
	pop hl
	pop af
	ret
;
.real_init_music
.l805e
;
	or a
	jr nz,l8069
	call l8077
	xor a
	ld (l87e6),a
	ret
.l8069
	cp #02
	jr nc,l8076
	ld (l87e6),a
	call l8077
	call l809c
.l8076
	ret
;
.stop_music
.l8077
;
	ld de,#0d00
.l807a
	call l8084
	dec d
	jp p,l807a
	ld de,#073f
.l8084
	xor a
	ld b,#f4
	out (c),d
	ld bc,#f6c0
	out (c),c
	out (c),a
	ld b,#f4
	out (c),e
	ld bc,#f680
	out (c),c
	out (c),a
	ret
.l809c
	ld hl,l87f0
	ld de,l87f1
	ld bc,#021b
	ld (hl),#00
	ldir
	ld a,(l87e6)
	dec a
	add a
	add a
	add a
	ld h,#00
	ld l,a
	ld de,l8a34
	add hl,de
	ld ix,l87f0
	call l80cd
	ld ix,l88a4
	call l80cd
	ld ix,l8958
	call l80cd
	ret
.l80cd
	ld d,(hl)
	inc hl
	ld e,(hl)
	inc hl
	push hl
	ld hl,l8a66
	add hl,de
	ld (ix+#00),l
	ld (ix+#01),h
	xor a
	ld (ix+#04),a
	ld (ix+#05),a
	ld b,(hl)
	inc hl
	ld c,(hl)
	inc hl
	ld d,(hl)
	inc hl
	ld e,(hl)
	ld (ix+#18),e
	ld (ix+#19),d
	ld hl,l8ca2
	add hl,bc
	ld (ix+#06),l
	ld (ix+#07),h
	ld hl,#fffe
	ld (ix+#0a),l
	ld (ix+#0b),h
	ld hl,l91da
	ld (ix+#0c),l
	ld (ix+#0d),h
	pop hl
	ret
.l810e
	push af
	push hl
	push de
	push bc
	push ix
	push iy
	call l8122
	pop iy
	pop ix
	pop bc
	pop de
	pop hl
	pop af
	ret
;
.play_music
.l8122
;
	ld a,(l87e6)
	or a
	jr z,l8143
	call l8144
	ld ix,l87f0
	call l8171
	ld ix,l88a4
	call l8171
	ld ix,l8958
	call l8171
	call l85b7
.l8143
	ret
.l8144
	ld hl,l8163
	ld d,#00
.l8149
	ld e,(hl)
	call l8084
	inc hl
	inc d
	ld a,d
	cp #0d
	jr nz,l8149
	ld a,(l87e8)
	or a
	jr z,l8162
	ld e,(hl)
	call l8084
	xor a
	ld (l87e8),a
.l8162
	ret
.l816a equ $ + 7
.l8169 equ $ + 6
.l8167 equ $ + 4
.l8165 equ $ + 2
.l8163
	db #00,#00,#00,#00,#00,#00,#00,#00
.l8170 equ $ + 5
.l816e equ $ + 3
.l816d equ $ + 2
.l816c equ $ + 1
.l816b
	db #00,#00,#00,#00,#00,#00
.l8171
	ld a,(ix+#12)
	or a
	jr z,l817f
	dec (ix+#12)
	ld (ix+#34),#00
	ret
.l817f
	ld a,(ix+#14)
	or a
	jr z,l818b
	dec (ix+#14)
	jp l846e
.l818b
	ld e,(ix+#0a)
	ld d,(ix+#0b)
	inc de
	inc de
	ld (ix+#0a),e
	ld (ix+#0b),d
	ld l,(ix+#06)
	ld h,(ix+#07)
	add hl,de
	ld c,(hl)
	inc hl
	ld b,(hl)
	ld a,c
	or a
	jr nz,l8204
.l81a7
	ld de,#fffe
	ld (ix+#0a),e
	ld (ix+#0b),d
	ld e,(ix+#18)
	ld d,(ix+#19)
	ld a,d
	or e
	jr z,l81c3
	dec de
	ld (ix+#18),e
	ld (ix+#19),d
	jr l818b
.l81c3
	ld l,(ix+#04)
	ld h,(ix+#05)
	ld de,#0004
	add hl,de
	ld (ix+#04),l
	ld (ix+#05),h
	ld e,(ix+#00)
	ld d,(ix+#01)
	add hl,de
	ld b,(hl)
	inc hl
	ld c,(hl)
	inc hl
	ld d,(hl)
	inc hl
	ld e,(hl)
	ld a,b
	or c
	or d
	or e
	jr nz,l81f2
	ld bc,#fffc	; reinit music
	ld (ix+#04),c
	ld (ix+#05),b
	jr l81a7
.l81f2
	ld (ix+#18),e
	ld (ix+#19),d
	ld hl,l8ca2
	add hl,bc
	ld (ix+#06),l
	ld (ix+#07),h
	jr l818b
.l8204
	cp #61
	jp c,l8303
	cp #e1
	jp c,l83b7
	and #0f
	add a
	ld h,#00
	ld l,a
	ld de,l821d
	add hl,de
	ld e,(hl)
	inc hl
	ld d,(hl)
	ex de,hl
	jp (hl)
.l821d
	dw l823f,l8248,l824d,l8253
	dw l8274,l827a,l8280,l8286
	dw l828c,l8292,l82b6,l82c1
	dw l82c7,l82cd,l82ec,l82fd
	dw l818b
.l823f
	dec b
	ld (ix+#14),b
	ld (ix+#50),#00
	ret
.l8248
	dec b
	ld (ix+#12),b
	ret
.l824d
	ld (ix+#32),b
	jp l818b
.l8253
	ld h,#00
	ld l,b
	ld de,l8a54
	add hl,hl
	add hl,de
	ld d,(hl)
	inc hl
	ld e,(hl)
	ld hl,l91d6
	add hl,de
	ld (ix+#0c),l
	ld (ix+#0d),h
	ld de,#fffa
	ld (ix+#10),e
	ld (ix+#11),d
	jp l818b
.l8274
	ld (ix+#38),b
	jp l818b
.l827a
	ld (ix+#36),b
	jp l818b
.l8280
	ld (ix+#2a),b
	jp l818b
.l8286
	ld (ix+#2c),b
	jp l818b
.l828c
	ld (ix+#2e),b
	jp l818b
.l8292
	ld (ix+#3e),b
	ld a,b
	or a
	jr nz,l82ae
	ld (ix+#3c),a
	ld (ix+#3e),a
	ld (ix+#40),a
	ld (ix+#41),a
	ld (ix+#42),a
	ld (ix+#44),a
	ld (ix+#53),a
.l82ae
	ld a,#01
	ld (l87e8),a
	jp l818b
.l82b6
	ld (ix+#3c),b
	ld a,#01
	ld (l87e8),a
	jp l818b
.l82c1
	ld (ix+#56),b
	jp l818b
.l82c7
	ld (ix+#44),b
	jp l818b
.l82cd
	ld a,b
	add a
	add a
	add a
	ld h,#00
	ld l,a
	ld de,l8a3c
	add hl,de
	inc hl
	ld a,(hl)
	inc hl
	ld (ix+#2a),a
	inc hl
	ld a,(hl)
	inc hl
	ld (ix+#2c),a
	inc hl
	ld a,(hl)
	ld (ix+#2e),a
	jp l818b
.l82ec
	ld c,#00
	ld a,b
	or a
	jp p,l82f4
	dec c
.l82f4
	ld (ix+#28),b
	ld (ix+#29),c
	jp l818b
.l82fd
	ld (ix+#26),b
	jp l818b
.l8303
	xor a
	ld (ix+#50),a
	ld (ix+#42),a
	ld (ix+#46),a
	ld a,(ix+#38)
	or a
	jr z,l8317
	dec a
	ld (ix+#3a),a
.l8317
	ld a,(ix+#32)
	ld (ix+#34),a
	ld de,#fffa
	ld (ix+#10),e
	ld (ix+#11),d
	ld (ix+#14),b
	ld (ix+#1a),c
	ld a,c
	add (ix+#26)
	dec a
	ld c,a
	add a
	ld h,#00
	ld l,a
	ld de,l86ac
	add hl,de
	ld d,(hl)
	inc hl
	ld e,(hl)
	ld l,(ix+#28)
	ld h,(ix+#29)
	add hl,de
	ld (ix+#1e),l
	ld (ix+#1f),h
	ld a,c
	add (ix+#2a)
	add a
	ld h,#00
	ld l,a
	ld de,l86ac
	add hl,de
	ld a,(hl)
	ld (ix+#21),a
	inc hl
	ld a,(hl)
	ld (ix+#20),a
	ld a,c
	add (ix+#2c)
	add a
	ld h,#00
	ld l,a
	add hl,de
	ld a,(hl)
	ld (ix+#23),a
	inc hl
	ld a,(hl)
	ld (ix+#22),a
	ld a,c
	add (ix+#2e)
	add a
	ld h,#00
	ld l,a
	add hl,de
	ld a,(hl)
	ld (ix+#25),a
	inc hl
	ld a,(hl)
	ld (ix+#24),a
	ld a,(ix+#3e)
	or a
	jr z,l83b1
	ld a,(ix+#44)
	or a
	jr z,l8399
	dec a
	ld (ix+#40),a
	xor a
	ld (ix+#41),a
	jr l83b1
.l8399
	ld a,(ix+#3c)
	dec a
	add (ix+#26)
	add a
	ld h,#00
	ld l,a
	ld de,l876e
	add hl,de
	ld d,(hl)
	inc hl
	ld e,(hl)
	ld (ix+#40),e
	ld (ix+#41),d
.l83b1
	dec (ix+#14)
	jp l846e
.l83b7
	ld (ix+#50),#01
	ld (ix+#14),b
	ld a,b
	sub (ix+#56)
	ld (l8401),a
	ld a,c
	sub #80
	ld c,a
	ld e,(ix+#1a)
	ld (ix+#1a),c
	sub e
	ld (l840e),a
	ld (l8457),a
	dec c
	dec e
	ld a,c
	ld (l83e9),a
	ld a,e
	add a
	ld h,#00
	ld l,a
	ld de,l86ac
	add hl,de
	ld b,(hl)
	inc hl
	ld c,(hl)
.l83e9 equ $ + 1
	ld a,#00
	add a
	ld h,#00
	ld l,a
	add hl,de
	ld d,(hl)
	inc hl
	ld e,(hl)
	ex de,hl
	or a
	sbc hl,bc
	jr nc,l8400
	ld b,h
	ld c,l
	ld hl,#0000
	or a
	sbc hl,bc
.l8401 equ $ + 1
.l8400
	ld bc,#0000
	or a
	sbc hl,bc
	jr c,l844b
	add hl,bc
	ex de,hl
	call l8429
.l840e equ $ + 1
	ld a,#00
	or a
	jp m,l841a
	ld hl,#0000
	or a
	sbc hl,de
	ex de,hl
.l841a
	ld (ix+#52),e
	ld (ix+#53),d
	xor a
	ld (ix+#16),a
	ld (ix+#17),a
	jr l846b
.l8429
	ld a,#10
	ld hl,#0000
	or a
	rl e
	rl d
.l8433
	rl l
	rl h
	or a
	sbc hl,bc
	jr nc,l843d
	add hl,bc
.l843d
	rl e
	rl d
	dec a
	jr nz,l8433
	ld a,e
	cpl
	ld e,a
	ld a,d
	cpl
	ld d,a
	ret
.l844b
	db #09,#50,#59,#44,#4d
	call l8429
	ld hl,#0001
.l8457 equ $ + 1
	ld a,#00
	or a
	jp m,l845f
	ld hl,#ffff
.l845f
	ld (ix+#52),l
	ld (ix+#53),h
	ld (ix+#54),e
	ld (ix+#55),d
.l846b
	dec (ix+#14)
.l846e
	ld a,(ix+#46)
	or a
	jr z,l8489
	dec (ix+#46)
	ld l,(ix+#48)
	ld h,(ix+#4a)
	ld b,(ix+#4c)
	ld d,(ix+#4e)
	ld e,(ix+#4f)
	jp l8503
.l8489
	ld l,(ix+#10)
	ld h,(ix+#11)
	ld de,#0006
	add hl,de
	ld (ix+#10),l
	ld (ix+#11),h
	ex de,hl
	ld l,(ix+#0c)
	ld h,(ix+#0d)
	push hl
	pop iy
	add iy,de
	ld a,(iy+#05)
	ld l,(iy+#04)
	cp #ff
	jr nz,l84c1
	ld h,#00
	ld bc,#0006
	add hl,bc
	ex de,hl
	or a
	sbc hl,de
	ld (ix+#10),l
	ld (ix+#11),h
	jr l846e
.l84c1
	ld c,a
	ld h,(iy+#03)
	ld b,(iy+#02)
	ld e,(iy+#01)
	ld d,(iy+#00)
	ld a,c
	and #03
	ld (ix+#58),a
	srl c
	srl c
	ld a,c
	and #03
	ld (ix+#30),a
	srl c
	srl c
	ld a,c
	and #03
	ld (ix+#42),a
	srl c
	srl c
	ld a,c
	and #03
	jr z,l8503
	ld (ix+#46),a
	ld (ix+#48),l
	ld (ix+#4a),h
	ld (ix+#4c),b
	ld (ix+#4e),d
	ld (ix+#4f),e
.l8503
	ld a,l
	or a
	jr z,l8519
	add (ix+#34)
	jp p,l8510
	xor a
	jr l8516
.l8510
	cp #10
	jr c,l8516
	ld a,#0f
.l8516
	ld (ix+#34),a
.l8519
	ld a,(ix+#38)
	or a
	jr z,l853d
	ld a,h
	or a
	jr z,l8537
	add (ix+#3a)
	jp p,l852c
	xor a
	jr l8532
.l852c
	cp #20
	jr c,l8532
	ld a,#1f
.l8532
	ld (ix+#3a),a
	jr l853a
.l8537
	ld a,(ix+#3a)
.l853a
	ld (l8a1d),a
.l853d
	ld a,b
	or a
	jr z,l856c
	ld c,b
	ld b,#00
	ld a,c
	or a
	jp p,l854a
	dec b
.l854a
	ld l,(ix+#40)
	ld h,(ix+#41)
	add hl,bc
	ld a,h
	or a
	jp m,l8559
	or l
	jr nz,l855e
.l8559
	ld hl,#0001
	jr l8566
.l855e
	ld a,h
	cp #10
	jr c,l8566
	ld hl,#1000
.l8566
	ld (ix+#40),l
	ld (ix+#41),h
.l856c
	ld l,(ix+#1e)
	ld h,(ix+#1f)
	add hl,de
	ld a,(ix+#50)
	or a
	jr z,l859f
	ld e,(ix+#16)
	ld d,(ix+#17)
	ld a,d
	or e
	jr nz,l8598
	ld a,(ix+#54)
	ld (ix+#16),a
	ld a,(ix+#55)
	ld (ix+#17),a
	ld e,(ix+#52)
	ld d,(ix+#53)
	add hl,de
	jr l859f
.l8598
	dec de
	ld (ix+#16),e
	ld (ix+#17),d
.l859f
	ld a,h
	or a
	jp p,l85a9
	ld hl,#0000
	jr l85b0
.l85a9
	cp #10
	jr c,l85b0
	ld hl,#0fff
.l85b0
	ld (ix+#1e),l
	ld (ix+#1f),h
	ret
.l85b7
	ld a,(l8824)
	ld (l816b),a
	ld a,(l88d8)
	ld (l816c),a
	ld a,(l898c)
	ld (l816d),a
	ld a,(l8820)
	add a
	ld e,a
	ld d,#00
	ld hl,l880e
	add hl,de
	ld e,(hl)
	inc hl
	ld d,(hl)
	srl d
	rr e
	ld (l8163),de
	ld a,(l88d4)
	add a
	ld e,a
	ld d,#00
	ld hl,l88c2
	add hl,de
	ld e,(hl)
	inc hl
	ld d,(hl)
	srl d
	rr e
	ld (l8165),de
	ld a,(l8988)
	add a
	ld e,a
	ld d,#00
	ld hl,l8976
	add hl,de
	ld e,(hl)
	inc hl
	ld d,(hl)
	srl d
	rr e
	ld (l8167),de
	ld a,(l8832)
	or a
	jr z,l862b
	ld a,(l816b)
	or #10
	ld (l816b),a
	ld a,(l882e)
	ld (l8170),a
	ld hl,(l8830)
	srl h
	rr l
	ld (l816e),hl
	jr l8667
.l862b
	ld a,(l88e6)
	or a
	jr z,l8649
	ld a,(l816c)
	or #10
	ld (l816c),a
	ld a,(l88e2)
	ld (l8170),a
	ld hl,(l88e4)
	srl h
	rr l
	ld (l816e),hl
.l8649
	ld a,(l899a)
	or a
	jr z,l8667
	ld a,(l816d)
	or #10
	ld (l816d),a
	ld a,(l8996)
	ld (l8170),a
	ld hl,(l8998)
	srl h
	rr l
	ld (l816e),hl
.l8667
	ld c,#3f
	ld a,(l8848)
	rrca
	jr c,l8674
	rrca
	jr c,l8679
	jr l867b
.l8674
	res 0,c
	rrca
	jr nc,l867b
.l8679
	res 3,c
.l867b
	ld a,(l88fc)
	rrca
	jr c,l8686
	rrca
	jr c,l868b
	jr l868d
.l8686
	res 1,c
	rrca
	jr nc,l868d
.l868b
	res 4,c
.l868d
	ld a,(l89b0)
	rrca
	jr c,l8698
	rrca
	jr c,l869d
	jr l869f
.l8698
	res 2,c
	rrca
	jr nc,l869f
.l869d
	res 5,c
.l869f
	ld a,(l8a1d)
	srl a
	ld (l8169),a
	ld a,c
	ld (l816a),a
	ret
.l86ac
	db #0f,#d1
	dw #ee0e,#170e,#4d0d,#8e0c
	dw #d90b,#2f0b,#8e0a,#f709
	dw #6709,#e008,#6108,#e807
	dw #7707,#0b07,#a606,#4706
	dw #ec05,#9705,#4705,#fb04
	dw #b304,#7004,#3004,#f403
	dw #bb03,#8503,#5303,#2303
	dw #f602,#cb02,#a302,#7d02
	dw #5902,#3802,#1802,#fa01
	dw #dd01,#c201,#a901,#9101
	dw #7b01,#6501,#5101,#3e01
	dw #2c01,#1c01,#0c01,#fd00
	dw #ee00,#e100,#d400,#c800
	dw #bd00,#b200,#a800,#9f00
	dw #9600,#8e00,#8600,#7e00
	dw #7700,#7000,#6a00,#6400
	dw #5e00,#5900,#5400,#4f00
	dw #4b00,#4700,#4300,#3f00
	dw #3b00,#3800,#3500,#3200
	dw #2f00,#2c00,#2a00,#2700
	dw #2500,#2300,#2100,#1f00
	dw #1d00,#1c00,#1a00,#1900
	dw #1700,#1600,#1500,#1300
	dw #1200,#1100,#1000,#0f00
.l876e
	dw #fc00,#ee00,#e400,#d600
	dw #c800,#be00,#b200,#a800
	dw #9e00,#9600,#8e00,#8700
	dw #7e00,#7700,#7200,#6b00
	dw #6400,#5f00,#5900,#5400
	dw #4f00,#4b00,#4700,#4400
	dw #3f00,#3c00,#3900,#3600
	dw #3200,#2f00,#2c00,#2a00
	dw #2800,#2500,#2400,#2200
	dw #2000,#1e00,#1c00,#1b00
	dw #1900,#1800,#1600,#1500
	dw #1400,#1300,#1200,#1100
	dw #1000,#0f00,#0e00,#0d00
	dw #0c00,#0c00,#0b00,#0a00
	dw #0a00,#0900,#0900,#0800
.l87e6
	nop
	nop
.l87e8
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
.l87f1 equ $ + 1
.l87f0
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l880e equ $ + 6
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l8824 equ $ + 4
.l8820
	db #00,#00,#00,#00,#00,#00,#00,#00
.l882e equ $ + 6
	db #00,#00,#00,#00,#00,#00,#00,#00
.l8832 equ $ + 2
.l8830
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l8848
	db #00,#01,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l88a4 equ $ + 4
	db #00,#00,#00,#00,#00,#01,#23,#ce
	db #00,#24,#00,#01,#27,#24,#00,#16
	db #00,#01,#2a,#fc,#00,#00,#00,#00
	db #00,#03,#00,#00,#00,#00,#00,#01
.l88c2 equ $ + 2
	db #00,#00,#0f,#d1,#0f,#d1,#0f,#d1
	db #0f,#d1,#00,#00,#00,#00,#00,#00
.l88d4 equ $ + 4
	db #00,#00,#00,#00,#00,#00,#00,#0f
.l88d8
	db #00,#0f,#00,#01,#00,#00,#00,#00
.l88e6 equ $ + 6
.l88e4 equ $ + 4
.l88e2 equ $ + 2
	db #00,#15,#00,#0c,#00,#4f,#00,#03
	db #00,#00,#00,#02,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l88fc equ $ + 4
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l8958
	db #00,#01,#25,#46,#00,#00,#00,#01
	db #27,#c0,#00,#76,#00,#01,#2b,#5c
	db #00,#06,#00,#00,#00,#03,#00,#00
.l8976 equ $ + 6
	db #00,#0a,#00,#28,#00,#00,#02,#0d
	db #00,#d4,#00,#6a,#00,#35,#00,#00
	db #00,#00,#00,#0c,#00,#18,#00,#24
.l898c equ $ + 4
.l8988
	db #00,#00,#00,#0f,#00,#0f,#00,#00
.l8996 equ $ + 6
	db #00,#12,#00,#10,#00,#00,#00,#00
.l899a equ $ + 2
.l8998
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#ff,#ff,#00,#00,#00,#64
	db #00,#00,#00,#00,#00,#00,#00,#00
.l89b0
	db #00,#01,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#01,#25,#7a
	db #00,#00,#00,#01,#2a,#a4,#00,#0e
.l8a1d equ $ + 5
	db #00,#bc,#00,#03,#00,#10,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l8a34 equ $ + 4
	db #00,#00,#00,#00,#00
.l8a3c equ $ + 7
	db #04,#00,#88,#02,#00,#02,#34,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #0c,#00,#18,#00,#24,#00,#00,#00
.l8a54 equ $ + 7
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #04,#00,#46,#00,#10,#00,#c4,#00
	db #a6,#00,#5e,#00,#88,#00,#fa,#00
.l8a66 equ $ + 1
	db #e2,#00,#00,#00,#00,#01,#1c,#00
	db #01,#00,#ba,#00,#00,#01,#1c,#00
	db #01,#00,#74,#00,#00,#01,#1c,#00
	db #01,#05,#1a,#00,#7f,#00,#2a,#00
	db #00,#00,#4e,#00,#01,#00,#4e,#00
	db #03,#00,#04,#00,#01,#00,#4e,#00
	db #01,#00,#4e,#00,#01,#00,#04,#00
	db #00,#00,#4e,#00,#00,#00,#4e,#00
	db #01,#00,#04,#00,#00,#00,#4e,#00
	db #00,#00,#4e,#00,#01,#00,#04,#00
	db #00,#00,#4e,#00,#00,#00,#4e,#00
	db #01,#00,#04,#00,#00,#00,#4e,#00
	db #00,#05,#1a,#00,#7f,#04,#b6,#00
	db #00,#04,#e2,#00,#00,#04,#b6,#00
	db #00,#04,#e2,#00,#00,#04,#b6,#00
	db #00,#04,#e2,#00,#00,#04,#b6,#00
	db #00,#04,#e2,#00,#00,#00,#00,#00
	db #00,#01,#30,#00,#00,#02,#24,#00
	db #00,#01,#bc,#00,#00,#01,#a2,#00
	db #01,#01,#6e,#00,#00,#01,#a2,#00
	db #00,#01,#3a,#00,#01,#02,#24,#00
	db #00,#01,#bc,#00,#00,#01,#a2,#00
	db #01,#01,#6e,#00,#00,#01,#a2,#00
	db #00,#01,#3a,#00,#01,#02,#24,#00
	db #07,#01,#d6,#00,#03,#01,#a2,#00
	db #03,#02,#24,#00,#07,#01,#d6,#00
	db #03,#01,#a2,#00,#03,#02,#24,#00
	db #00,#01,#bc,#00,#00,#01,#a2,#00
	db #01,#01,#6e,#00,#00,#01,#a2,#00
	db #00,#01,#3a,#00,#01,#02,#24,#00
	db #00,#01,#bc,#00,#00,#01,#a2,#00
	db #01,#01,#6e,#00,#00,#01,#a2,#00
	db #00,#01,#3a,#00,#01,#01,#a2,#00
	db #03,#01,#bc,#00,#03,#01,#a2,#00
	db #03,#01,#d6,#00,#01,#01,#f0,#00
	db #01,#02,#24,#00,#00,#01,#bc,#00
	db #00,#01,#a2,#00,#01,#01,#6e,#00
	db #00,#01,#a2,#00,#00,#01,#3a,#00
	db #01,#02,#24,#00,#00,#01,#bc,#00
	db #00,#01,#a2,#00,#01,#01,#6e,#00
	db #00,#01,#a2,#00,#00,#01,#3a,#00
	db #01,#02,#0a,#00,#03,#01,#bc,#00
	db #03,#01,#88,#00,#03,#01,#54,#00
	db #01,#01,#88,#00,#01,#02,#0a,#00
	db #03,#01,#bc,#00,#03,#01,#88,#00
	db #03,#01,#54,#00,#01,#01,#88,#00
	db #01,#02,#0a,#00,#03,#01,#bc,#00
	db #03,#01,#88,#00,#03,#01,#54,#00
	db #01,#01,#88,#00,#01,#02,#0a,#00
	db #03,#01,#bc,#00,#03,#01,#88,#00
	db #03,#01,#54,#00,#01,#01,#88,#00
	db #01,#02,#0a,#00,#03,#01,#bc,#00
	db #03,#01,#88,#00,#03,#01,#54,#00
	db #01,#01,#88,#00,#01,#02,#0a,#00
	db #03,#01,#bc,#00,#03,#01,#88,#00
	db #03,#01,#54,#00,#01,#01,#88,#00
	db #01,#02,#0a,#00,#03,#01,#bc,#00
	db #03,#01,#88,#00,#03,#01,#54,#00
	db #01,#01,#88,#00,#01,#02,#0a,#00
	db #03,#01,#bc,#00,#03,#01,#88,#00
	db #03,#01,#54,#00,#01,#01,#88,#00
	db #01,#02,#0a,#00,#03,#01,#bc,#00
	db #03,#01,#88,#00,#03,#01,#54,#00
	db #01,#01,#88,#00,#01,#00,#00,#00
	db #00,#02,#3e,#00,#0b,#03,#36,#00
	db #07,#04,#02,#00,#07,#04,#36,#00
	db #01,#04,#64,#00,#00,#04,#36,#00
	db #01,#04,#64,#00,#00,#04,#36,#00
	db #01,#04,#64,#00,#00,#04,#36,#00
	db #01,#04,#64,#00,#00,#04,#02,#00
	db #17,#00,#00,#00,#00,#05,#22,#00
.l8ca2 equ $ + 5
	db #c7,#00,#00,#00,#00,#00,#00,#00
	db #00,#f2,#0e,#f3,#07,#4b,#05,#4a
	db #05,#47,#05,#44,#05,#4a,#05,#49
	db #05,#47,#05,#44,#05,#49,#05,#47
	db #05,#44,#05,#42,#05,#47,#05,#44
	db #05,#42,#05,#3f,#05,#00,#00,#f2
	db #0b,#f3,#07,#33,#78,#31,#01,#b3
	db #27,#33,#a0,#33,#78,#31,#01,#b3
	db #27,#33,#a0,#3f,#78,#3d,#01,#bf
	db #27,#3f,#a0,#3f,#78,#3d,#01,#bf
	db #27,#00,#00,#f2,#0e,#f3,#07,#46
	db #05,#45,#05,#42,#05,#3f,#05,#45
	db #05,#44,#05,#42,#05,#3f,#05,#44
	db #05,#42,#05,#3f,#05,#3d,#05,#42
	db #05,#3f,#05,#3d,#05,#3a,#05,#00
	db #00,#f2,#0f,#f3,#06,#f6,#0c,#f7
	db #18,#f8,#24,#40,#3c,#40,#0a,#42
	db #0a,#43,#0a,#45,#14,#48,#14,#47
	db #14,#40,#3c,#40,#0a,#42,#0a,#43
	db #0a,#45,#14,#48,#14,#47,#14,#3e
	db #14,#40,#3c,#40,#0a,#42,#0a,#43
	db #0a,#45,#14,#48,#14,#47,#14,#40
	db #3c,#40,#0a,#42,#0a,#43,#0a,#42
	db #14,#40,#14,#3e,#28,#00,#00,#f2
	db #0b,#f3,#07,#34,#78,#37,#28,#3b
	db #a0,#34,#78,#b7,#0a,#37,#1e,#3b
	db #a0,#34,#78,#37,#28,#3b,#a0,#34
	db #78,#b7,#0a,#37,#1e,#f2,#0f,#3b
	db #05,#3a,#05,#37,#05,#34,#05,#3a
	db #05,#39,#05,#37,#05,#34,#05,#39
	db #05,#37,#05,#34,#05,#32,#05,#37
	db #05,#34,#05,#32,#05,#2f,#05,#3b
	db #05,#3a,#05,#37,#05,#34,#05,#3a
	db #05,#39,#05,#37,#05,#34,#05,#39
	db #05,#37,#05,#34,#05,#32,#05,#37
	db #05,#34,#05,#32,#05,#2f,#05,#00
	db #00,#f2,#0f,#f3,#02,#f6,#0c,#f7
	db #18,#f8,#24,#34,#50,#32,#50,#2f
	db #50,#28,#50,#00,#00,#f2,#0f,#f3
	db #01,#f5,#01,#f9,#0c,#00,#00,#fa
	db #04,#01,#05,#fa,#10,#01,#05,#fa
	db #04,#01,#0a,#fa,#10,#01,#05,#fa
	db #04,#01,#0a,#fa,#10,#01,#05,#00
	db #00,#fa,#06,#01,#05,#fa,#12,#01
	db #05,#fa,#06,#01,#0a,#fa,#12,#01
	db #05,#fa,#06,#01,#0a,#fa,#12,#01
	db #05,#00,#00,#fa,#07,#01,#05,#fa
	db #13,#01,#05,#fa,#07,#01,#0a,#fa
	db #13,#01,#05,#fa,#07,#01,#0a,#fa
	db #13,#01,#05,#00,#00,#fa,#08,#01
	db #05,#fa,#14,#01,#05,#fa,#08,#01
	db #0a,#fa,#14,#01,#05,#fa,#08,#01
	db #0a,#fa,#14,#01,#05,#00,#00,#fa
	db #09,#01,#05,#fa,#15,#01,#05,#fa
	db #09,#01,#0a,#fa,#15,#01,#05,#fa
	db #09,#01,#0a,#fa,#15,#01,#05,#00
	db #00,#fa,#0b,#01,#05,#fa,#17,#01
	db #05,#fa,#0b,#01,#0a,#fa,#17,#01
	db #05,#fa,#0b,#01,#0a,#fa,#17,#01
	db #05,#00,#00,#fa,#0c,#01,#05,#fa
	db #18,#01,#05,#fa,#0c,#01,#0a,#fa
	db #18,#01,#05,#fa,#0c,#01,#0a,#fa
	db #18,#01,#05,#00,#00,#fa,#0e,#01
	db #05,#fa,#1a,#01,#05,#fa,#0e,#01
	db #0a,#fa,#1a,#01,#05,#fa,#0e,#01
	db #0a,#fa,#1a,#01,#05,#00,#00,#fa
	db #0f,#01,#05,#fa,#1b,#01,#05,#fa
	db #0f,#01,#0a,#fa,#1b,#01,#05,#fa
	db #0f,#01,#0a,#fa,#1b,#01,#05,#00
	db #00,#fa,#10,#01,#05,#fa,#1c,#01
	db #05,#fa,#10,#01,#0a,#fa,#1c,#01
	db #05,#fa,#10,#01,#0a,#fa,#1c,#01
	db #05,#00,#00,#f2,#0f,#f5,#00,#fd
	db #01,#f3,#03,#f4,#1c,#1c,#0a,#f3
	db #05,#1c,#0a,#f3,#04,#f4,#12,#28
	db #05,#f3,#05,#1a,#0a,#f3,#03,#f4
	db #1c,#1c,#05,#f3,#05,#1c,#0a,#f3
	db #03,#f4,#1c,#1c,#0a,#f3,#04,#f4
	db #12,#28,#0a,#f3,#05,#1a,#0a,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#03,#f4
	db #1c,#1c,#05,#f3,#05,#1c,#0a,#f3
	db #04,#f4,#12,#28,#05,#f3,#05,#1c
	db #0a,#f3,#03,#f4,#1c,#1c,#0a,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#04,#f4
	db #12,#28,#05,#f3,#03,#f4,#1c,#1c
	db #05,#f3,#04,#f4,#12,#28,#0a,#f3
	db #04,#f4,#12,#28,#05,#f3,#04,#f4
	db #12,#28,#05,#f3,#03,#f4,#1c,#1c
	db #0a,#f3,#05,#1c,#0a,#f3,#04,#f4
	db #12,#28,#05,#f3,#05,#1e,#0a,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#05,#1f
	db #0a,#f3,#03,#f4,#1c,#1c,#0a,#f3
	db #04,#f4,#12,#28,#0a,#f3,#05,#17
	db #0a,#f3,#03,#f4,#1c,#1c,#05,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#05,#1c
	db #0a,#f3,#04,#f4,#12,#28,#05,#f3
	db #05,#1c,#0a,#f3,#03,#f4,#1c,#1c
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#03,#f4
	db #1c,#1c,#05,#f3,#04,#f4,#12,#28
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #04,#f4,#12,#28,#05,#f3,#04,#f4
	db #12,#28,#05,#f3,#04,#f4,#12,#28
	db #05,#00,#00,#f2,#0f,#f5,#00,#f6
	db #0c,#f7,#18,#f8,#24,#f3,#03,#f4
	db #1c,#1c,#14,#f3,#04,#f4,#12,#28
	db #0f,#f3,#03,#f4,#1c,#1c,#0f,#f3
	db #03,#f4,#1c,#1c,#0a,#f3,#04,#f4
	db #12,#28,#14,#f3,#03,#f4,#1c,#1c
	db #05,#f3,#03,#f4,#1c,#1c,#0f,#f3
	db #04,#f4,#12,#28,#0f,#f3,#03,#f4
	db #1c,#1c,#0a,#f3,#03,#f4,#1c,#1c
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#04,#f4
	db #12,#28,#0a,#f3,#04,#f4,#12,#28
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #03,#f4,#1c,#1c,#14,#f3,#04,#f4
	db #12,#28,#0f,#f3,#03,#f4,#1c,#1c
	db #0f,#f3,#03,#f4,#1c,#1c,#0a,#f3
	db #04,#f4,#12,#28,#14,#f3,#03,#f4
	db #1c,#1c,#0f,#f3,#03,#f4,#1c,#1c
	db #05,#f3,#04,#f4,#12,#28,#0f,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#04,#f4
	db #12,#28,#05,#f3,#03,#f4,#1c,#1c
	db #05,#f3,#03,#f4,#1c,#1c,#05,#f3
	db #04,#f4,#12,#28,#05,#f3,#04,#f4
	db #12,#28,#05,#f3,#04,#f4,#12,#28
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #04,#f4,#12,#28,#05,#00,#00,#f2
	db #0f,#f3,#03,#f4,#1c,#1c,#0f,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#04,#f4
	db #12,#28,#05,#f3,#08,#f4,#1f,#3c
	db #05,#f3,#03,#f4,#1c,#1c,#0a,#f3
	db #03,#f4,#1c,#1c,#0f,#f3,#08,#f4
	db #1f,#41,#05,#f3,#04,#f4,#12,#28
	db #14,#00,#00,#f2,#0f,#f3,#03,#f4
	db #1c,#1c,#05,#f3,#08,#f4,#1f,#3e
	db #05,#f3,#08,#f4,#1f,#3a,#05,#f3
	db #03,#f4,#1c,#1c,#05,#f3,#04,#f4
	db #12,#28,#05,#f3,#03,#f4,#1c,#1c
	db #0a,#f3,#03,#f4,#1c,#1c,#05,#00
	db #00,#f2,#0f,#f3,#03,#f4,#1c,#1c
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #04,#f4,#12,#28,#05,#f3,#03,#f4
	db #1c,#1c,#05,#f3,#04,#f4,#12,#28
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #04,#f4,#12,#28,#0a,#f3,#04,#f4
	db #12,#28,#0f,#f3,#04,#f4,#12,#28
	db #05,#f3,#04,#f4,#12,#28,#05,#f3
	db #08,#f4,#1f,#3e,#05,#f3,#08,#f4
	db #1f,#3a,#05,#f3,#04,#f4,#12,#28
	db #05,#00,#00,#f2,#0f,#f3,#08,#3e
	db #0f,#3c,#0f,#3a,#0a,#3e,#0f,#3c
	db #0f,#3a,#05,#3a,#05,#3e,#05,#3c
	db #05,#3a,#05,#37,#0a,#37,#0a,#37
	db #05,#3e,#05,#3c,#05,#3a,#05,#37
	db #0a,#37,#0a,#37,#05,#00,#00,#f2
	db #0f,#f3,#08,#3e,#0f,#3c,#0f,#3a
	db #0a,#3e,#0f,#3c,#0f,#3a,#05,#3a
	db #05,#f3,#03,#f4,#14,#1c,#05,#1c
	db #05,#1c,#05,#1c,#05,#1c,#05,#1c
	db #05,#1c,#05,#1c,#05,#1c,#05,#1c
	db #05,#1c,#05,#1c,#05,#1c,#05,#1c
	db #05,#1c,#05,#1c,#05,#00,#00,#f1
	db #05,#00,#00,#ff,#0b,#00,#00,#03
	db #04,#03,#04,#03,#04,#03,#04,#03
	db #04,#03,#04,#03,#04,#03,#04,#00
.l91da equ $ + 5
.l91d6 equ $ + 1
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#06
	db #ff,#00,#00,#00,#00,#00,#01,#00
	db #00,#00,#00,#00,#05,#00,#00,#00
	db #00,#00,#09,#00,#00,#00,#00,#00
	db #0d,#00,#00,#00,#00,#00,#01,#00
	db #00,#00,#00,#00,#05,#00,#00,#00
	db #00,#00,#09,#00,#00,#00,#00,#ff
	db #0d,#00,#00,#00,#00,#30,#ff,#00
	db #00,#00,#00,#00,#f0,#00,#00,#00
	db #00,#06,#ff,#00,#00,#00,#00,#00
	db #f1,#00,#00,#00,#00,#06,#ff,#00
	db #00,#00,#00,#00,#01,#00,#00,#00
	db #00,#00,#05,#00,#00,#00,#00,#ff
	db #09,#00,#00,#00,#00,#00,#0d,#00
	db #00,#00,#00,#00,#09,#00,#00,#00
	db #00,#ff,#05,#00,#00,#00,#00,#24
	db #ff,#00,#00,#00,#00,#00,#81,#00
	db #00,#00,#00,#ff,#01,#00,#00,#00
	db #00,#00,#81,#00,#01,#00,#00,#ff
	db #01,#00,#00,#00,#00,#18,#ff,#00
	db #00,#00,#00,#00,#03,#00,#64,#00
	db #ff,#00,#01,#00,#64,#00,#ff,#00
	db #41,#00,#5a,#00,#ff,#ff,#03,#00
	db #00,#00,#00,#06,#ff,#00,#00,#00
	db #00,#00,#03,#00,#50,#00,#00,#00
	db #01,#00,#50,#00,#00,#00,#01,#00
	db #50,#00,#00,#ff,#01,#00,#00,#00
	db #00,#0c,#ff,#00,#00,#00,#00,#00
	db #03,#00,#14,#00,#00,#00,#01,#00
	db #14,#00,#00,#fe,#c1,#00,#00,#00
	db #00,#06,#ff,#00,#00,#00,#00,#00
	db #01,#00,#00,#00,#00,#01,#01,#00
	db #00,#00,#00,#00,#01,#00,#00,#00
	db #00,#01,#01,#00,#00,#00,#00,#00
	db #01,#00,#00,#00,#00,#01,#01,#00
	db #00,#00,#00,#00,#01,#00,#00,#00
	db #00,#01,#01,#00,#00,#00,#00,#00
	db #01,#00,#00,#00,#00,#01,#01,#00
	db #02,#00,#00,#00,#01,#00,#02,#00
	db #00,#00,#01,#ff,#fe,#00,#00,#00
	db #01,#ff,#fe,#00,#00,#00,#01,#ff
	db #fe,#00,#00,#00,#01,#ff,#fe,#00
	db #00,#00,#01,#00,#02,#00,#00,#00
	db #01,#00,#02,#00,#00,#00,#01,#00
	db #00,#00,#00,#30,#ff,#00,#00,#00
;
; added by Megachur
;
.init_music
;
	ld a,#01
	jp real_init_music	; l8042
;
.music_info
	db "Marvellous Musical Magic - Demo 3 (19xx)(Public Domain)",0
	db "",0

	read "music_end.asm"
