; Music of Elidon (1985)(Orpheus)()()
; Ripped by Megachur the 08/09/2020
; $VER 1.5

IFDEF FILENAME_WRITE
	write "ELIDON.BIN"
ENDIF

MUSIC_DATE_RIP_DAY		equ 08
MUSIC_DATE_RIP_MONTH	equ 09
MUSIC_DATE_RIP_YEAR		equ 2020
music_adr				equ #0bb8

	read "music_header.asm"

.l0bb8
	db #00,#18,#4d,#8e,#da,#2f,#8f,#f7
	db #68,#e1,#61,#e9,#77,#0c,#a7,#47
	db #ed,#98,#47,#fc,#d4,#70,#31,#f4
	db #dc,#86,#53,#24,#f6,#cc,#a4,#7e
	db #5a,#38,#18,#fa,#de,#c3,#aa,#92
	db #7b,#66,#52,#3f,#2d,#1c,#0c,#fd
	db #ef,#e1,#d5,#c9,#be,#b3,#a9,#9f
	db #96,#8e,#86,#7f,#77,#71,#6a,#64
	db #5f,#59,#54,#50,#4b,#47,#43,#3f
	db #3c,#38,#35,#32,#2f,#2d,#2a,#28
	db #26,#24,#22,#20,#1e,#1c,#1b,#19
	db #18,#16,#15,#14,#13,#12,#11,#0e
.l0c18
	db #00,#0e,#0d,#0c,#0b,#0b,#0a,#09
	db #09,#08,#08,#07,#07,#07,#06,#06
	db #05,#05,#05,#04,#04,#04,#04,#03
	db #03,#03,#03,#03,#02,#02,#02,#02
	db #02,#02,#02,#01,#01,#01,#01,#01
	db #01,#01,#01,#01,#01,#01,#01,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l0c78
	db #43,#3b,#37,#43,#3b,#37,#43,#3b
	db #37,#43,#3b,#37,#43,#3b,#37,#43
	db #3b,#37,#00,#00,#21,#00,#00,#21
	db #30,#2d,#2b,#30,#2d,#2b,#32,#2b
	db #2f,#32,#2b,#2f,#00,#00,#21,#00
	db #00,#21,#34,#30,#2b,#34,#30,#2b
	db #35,#2b,#32,#35,#2b,#32,#00,#00
	db #21,#00,#00,#21,#34,#30,#2b,#34
	db #30,#2b,#32,#2b,#2f,#32,#2b,#2f
	db #00,#00,#21,#00,#00,#21,#30,#2d
.l0ccc equ $ + 4
.l0cc9 equ $ + 1
	db #2b,#30,#2d,#2b,#40,#38,#2f,#40
	db #38,#2f,#45,#00,#21,#44,#00,#21
	db #45,#3c,#34,#47,#3c,#34,#48,#3e
	db #34,#4a,#3e,#34,#4c,#00,#21,#51
	db #00,#21,#4c,#40,#34,#4c,#40,#34
	db #4a,#41,#34,#4a,#41,#34,#48,#00
	db #21,#51,#00,#21,#48,#40,#34,#48
	db #40,#34,#47,#3e,#34,#47,#3e,#34
	db #45,#00,#21,#45,#00,#21,#45,#3c
	db #34,#45,#3e,#34,#00,#40,#39,#00
	db #40,#39,#45,#00,#21,#48,#00,#21
	db #45,#41,#39,#45,#41,#39,#43,#40
	db #2b,#43,#40,#2b,#42,#00,#21,#48
	db #00,#21,#42,#33,#2a,#42,#33,#2a
	db #42,#33,#2a,#42,#33,#2a,#41,#00
	db #21,#48,#00,#21,#41,#30,#2d,#41
	db #30,#2d,#40,#30,#2b,#40,#30,#2b
	db #3f,#00,#23,#47,#00,#23,#3f,#2f
	db #2a,#3f,#2f,#2a,#3f,#2f,#2a,#3f
	db #2f,#2a,#47,#3b,#2f,#46,#3a,#2e
	db #42,#36,#2a,#47,#3b,#2f,#45,#39
	db #2d,#41,#35,#29,#47,#3b,#2f,#44
	db #38,#2c,#40,#34,#28,#47,#3b,#2f
	db #43,#37,#2b,#3f,#33,#27,#47,#3b
	db #2f,#42,#36,#2a,#3e,#32,#26,#47
	db #3b,#2f,#41,#35,#29,#3d,#31,#25
	db #47,#3b,#2f,#40,#34,#28,#3c,#30
	db #24,#47,#3b,#2f,#3f,#33,#27,#3b
	db #2f,#23,#40,#34,#28,#3f,#33,#27
	db #40,#34,#28,#42,#36,#2a,#43,#37
	db #2b,#45,#39,#2d,#47,#3b,#2f,#4c
	db #40,#34,#47,#3b,#2f,#45,#39,#2d
	db #43,#37,#2b,#42,#36,#2a,#40,#34
	db #28,#42,#36,#2a,#43,#37,#2b,#45
	db #39,#2d,#47,#3b,#2f,#47,#3b,#2f
	db #4c,#40,#34,#4c,#40,#34,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#4d,#3e,#38,#4d,#3e,#38
	db #4d,#3e,#38,#4c,#3c,#38,#4c,#3c
	db #38,#4a,#3b,#38,#4a,#3b,#38,#4a
	db #3b,#38,#4a,#3b,#38,#4c,#3c,#38
	db #4c,#3c,#38,#4d,#3e,#38,#4d,#3e
	db #38,#4d,#3e,#38,#4d,#3e,#38,#4d
	db #3e,#38,#4d,#3e,#38,#4d,#3e,#38
	db #4c,#3e,#38,#4c,#3e,#38,#4c,#2c
	db #28,#00,#2c,#28,#00,#32,#28,#00
	db #32,#28,#00,#00,#00,#41,#00,#41
	db #3e,#00,#3e,#3c,#00,#3c,#3b,#00
	db #3b,#4d,#00,#41,#4a,#00,#3e,#48
	db #00,#3c,#47,#00,#3b,#41,#00,#41
	db #3b,#00,#3b,#39,#00,#39,#38,#00
	db #38,#4a,#00,#41,#47,#00,#3b,#45
	db #00,#39,#44,#00,#38,#3b,#00,#3b
	db #38,#00,#38,#35,#00,#35,#32,#00
	db #32,#30,#00,#30,#2f,#00,#2f,#52
	db #43,#3d,#52,#43,#3d,#52,#43,#3d
	db #51,#41,#3d,#51,#41,#3d,#4f,#40
	db #3d,#4f,#40,#3d,#4f,#40,#3d,#4f
	db #40,#3d,#51,#41,#3d,#51,#41,#3d
	db #52,#43,#3d,#52,#43,#3d,#52,#43
	db #3d,#52,#43,#3d,#52,#43,#3d,#52
	db #43,#3d,#52,#43,#3d,#51,#41,#3d
	db #51,#41,#3d,#51,#31,#2d,#00,#31
	db #2d,#00,#37,#2d,#00,#37,#2d,#00
	db #00,#00,#3a,#00,#3a,#37,#00,#37
	db #35,#00,#35,#34,#00,#34,#52,#00
	db #3a,#4f,#00,#37,#4d,#00,#35,#4c
	db #00,#34,#37,#00,#37,#34,#00,#34
	db #32,#00,#32,#31,#00,#31,#4f,#00
	db #37,#4c,#00,#34,#4a,#00,#32,#49
	db #00,#31,#34,#00,#34,#31,#00,#31
	db #2e,#00,#2e,#2d,#00,#2d,#2b,#00
	db #2b,#29,#00,#29,#28,#00,#28,#28
	db #00,#26,#00,#00,#26,#42,#3e,#2d
	db #42,#3e,#2d,#43,#40,#2d,#43,#40
	db #2d,#43,#00,#26,#00,#00,#26,#45
	db #42,#2d,#45,#42,#2d,#47,#43,#2d
	db #47,#43,#2d,#47,#00,#26,#00,#00
	db #26,#45,#42,#2d,#45,#42,#2d,#45
	db #43,#2d,#45,#43,#2d,#3e,#00,#26
	db #3d,#00,#26,#3e,#36,#32,#40,#36
	db #32,#42,#34,#31,#43,#34,#31,#45
	db #00,#26,#4a,#00,#26,#45,#36,#32
	db #45,#36,#32,#43,#37,#34,#43,#37
	db #34,#42,#00,#26,#4a,#00,#26,#42
	db #39,#36,#42,#39,#36,#40,#3b,#37
	db #40,#3b,#37,#3e,#00,#26,#3e,#00
	db #26,#3e,#39,#36,#3e,#39,#36,#3e
	db #37,#34,#3e,#37,#34,#3e,#00,#26
	db #00,#00,#26,#41,#3e,#2d,#41,#3e
	db #2d,#43,#40,#2d,#43,#40,#2d,#43
	db #00,#26,#00,#00,#26,#45,#41,#2d
	db #45,#41,#2d,#46,#43,#2d,#46,#43
	db #2d,#46,#00,#26,#00,#00,#26,#45
	db #41,#2d,#45,#41,#2d,#45,#43,#2d
	db #45,#43,#2d,#3e,#00,#26,#3d,#00
	db #26,#3e,#35,#32,#40,#35,#32,#41
	db #34,#31,#43,#34,#31,#45,#00,#26
	db #4a,#00,#26,#45,#35,#32,#45,#35
	db #32,#43,#37,#34,#43,#37,#34,#41
	db #00,#26,#4a,#00,#26,#41,#39,#35
	db #41,#39,#35,#40,#3a,#37,#40,#3a
	db #37,#3e,#00,#26,#3e,#00,#26,#3e
	db #39,#35,#3e,#39,#35,#3e,#37,#34
	db #3e,#37,#34,#3e,#00,#27,#00,#00
	db #27,#00,#35,#30,#00,#35,#30,#00
	db #35,#30,#3c,#35,#30,#41,#27,#27
	db #40,#27,#27,#41,#35,#30,#43,#35
	db #30,#45,#35,#30,#46,#35,#30,#48
	db #35,#29,#4d,#34,#28,#48,#35,#30
	db #48,#37,#30,#48,#39,#30,#48,#3a
	db #30,#48,#3c,#30,#00,#41,#35,#00
	db #3c,#30,#00,#3c,#30,#00,#3c,#30
	db #00,#3c,#30,#00,#00,#2a,#00,#00
	db #2a,#00,#34,#39,#00,#34,#39,#00
	db #34,#39,#40,#34,#39,#45,#2a,#1e
	db #44,#2a,#1e,#45,#34,#39,#47,#34
	db #39,#48,#34,#39,#4a,#34,#39,#4c
	db #39,#2d,#51,#38,#2c,#4c,#39,#34
	db #4c,#3b,#34,#4c,#3c,#34,#00,#3e
	db #34,#00,#40,#00,#00,#45,#00,#00
	db #40,#30,#00,#40,#30,#00,#40,#30
	db #00,#40,#30,#00,#00,#30,#00,#00
	db #30,#00,#39,#34,#00,#39,#34,#00
	db #39,#33,#47,#39,#33,#4e,#2f,#23
	db #4d,#2f,#23,#4e,#39,#34,#4f,#39
	db #34,#51,#39,#33,#53,#39,#33,#54
	db #2f,#23,#48,#35,#29,#4e,#30,#34
	db #4e,#43,#34,#4e,#45,#33,#4e,#47
	db #33,#48,#2f,#24,#3c,#2f,#24,#42
	db #39,#34,#42,#39,#34,#42,#39,#33
	db #42,#39,#33,#42,#00,#29,#00,#00
	db #29,#00,#32,#2d,#00,#32,#2d,#00
	db #32,#2c,#40,#32,#2c,#47,#28,#1c
	db #46,#28,#1c,#47,#32,#2d,#48,#32
	db #2d,#4a,#32,#2c,#4c,#32,#2c,#4d
	db #28,#1c,#41,#3a,#2e,#47,#3b,#35
	db #47,#3c,#35,#47,#3e,#34,#47,#40
	db #34,#41,#28,#1c,#35,#28,#1c,#3b
	db #2d,#29,#3b,#2d,#29,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
	db #00,#00,#00,#00,#00,#00,#00,#00
.l114f equ $ + 7
.l114e equ $ + 6
	db #00,#00,#00,#00,#00,#00,#28,#0d
.l1155 equ $ + 5
.l1154 equ $ + 4
.l1152 equ $ + 2
.l1150
	db #75,#0f,#5c,#01,#06,#02
.l1156
	ld a,(l114f)
.l1159
	ld e,a
	ld a,#09
	call l128e
	ld a,#0a
	call l128e
	ld a,#08
	call l128e
	ret
;
.init_music
.l116a
;
	ld hl,l0c78
	ld (l1150),hl
	ld hl,#0000
	ld (l1152),hl
	ret
.l1177
	ld hl,(l1150)
	ld a,(hl)
	cp #20
	jr c,l1181
	sub #0c
.l1181
	ld e,a
	ld d,#00
	inc hl
	ld (l1150),hl
	ld hl,l0bb8
	add hl,de
	ld c,(hl)
	ld hl,l0c18
	add hl,de
	ld b,(hl)
	ret
;
.real_play_music		; call at #38
.l1193
;
	push af
	push hl
	push bc
	push de
	ld a,(l114e)
	dec a
	ld (l114e),a
	jp nz,l1287
	ld a,#28
	ld (l114e),a
	ld a,(l1155)
	or a
	jr z,l11c0
	ld a,(l1155)
	cp #01
	jp nz,l11cf
	ld a,(l114f)
	or a
	jr z,l11c0
	dec a
	ld (l114f),a
	jr l11cf
.l11c0
	ld a,#07
	ld e,#bf
	call l128e
	ld a,#00
	ld (l1155),a
	jp l1287
.l11cf
	ld a,#07
	ld e,#b8
	call l128e
	ld hl,(l1152)
	inc hl
	ld (l1152),hl
	ld a,h
	or a
	jr nz,l120b
	ld a,l
	cp #07
	jr nz,l11ed
	ld a,#09
.l11e8
	ld (l114f),a
	jr l124d
.l11ed
	cp #1c
	jr nz,l11f5
	ld a,#0a
	jr l11e8
.l11f5
	cp #7a
	jr nz,l1203
	ld hl,l0ccc
	ld (l1150),hl
	ld a,#09
	jr l11e8
.l1203
	cp #dc
	jr nz,l124d
	ld a,#0a
	jr l11e8
.l120b
	cp #01
	jp nz,l1235
	ld a,l
	cp #3d
	jr nz,l1219
	ld a,#09
	jr l11e8
.l1219
	cp #94
	jr nz,l1221
	ld a,#0a
	jr l11e8
.l1221
	cp #ed
	jr nz,l1229
	ld a,#0b
	jr l11e8
.l1229
	cp #ec
	jr nz,l124d
	ld hl,l0cc9
	ld (l1150),hl
	jr l124d
.l1235
	cp #02
	jr nz,l124d
	ld a,l
	cp #4c
	jr nz,l124d
	ld a,#d0
	ld (l114e),a
	ld a,#00
	call l1159
	call l116a
	jr l1287
.l124d
	ld a,#00
	ld (l1154),a
.l1252
	call l1177
	ld a,(l9b07)
	cp #ff
	call z,l129b
	ld e,c
	ld a,(l1154)
	call l128e
	ld e,b
	ld a,(l1154)
	inc a
	call l128e
	ld a,(l1154)
	inc a
	inc a
	ld (l1154),a
	cp #06
	jr nz,l1252
	push bc
	ld bc,(l9b08)
	inc bc
	inc bc
	ld (l9b08),bc
	pop bc
	call l1156
.l1287
	pop de
	pop bc
	pop hl
	pop af
	ret:nop:nop		; jp #b939	; modified by Megachur
.l128e
	push bc
	push de
	push hl
	push af
	ld c,e
	call lbd34
	pop af
	pop hl
	pop de
	pop bc
	ret
.l129b
	ld a,(l1154)
	cp #04
	ret nz
	push bc
	ld bc,(l9b08)
	ld a,(bc)
	cp #ff
	jp z,l12b3
	ld e,a
	inc bc
	ld a,(bc)
	ld b,e
	ld c,a
	pop de
	ret
.l12b3
	xor a
	ld (l9b07),a
	pop bc
	ret


;	#9b07
.l9b08 equ $+1
.l9b07
	db #02,#ed,#47

;	#1368
;	call #116a
;	ld hl,#1193
;	ld (#0039),hl
;	ret
;
.play_music
;
	call real_play_music
	call real_play_music
	call real_play_music
	call real_play_music
	call real_play_music
	jp real_play_music

	read "bd34.asm"
;
.music_info
	db "Elidon (1985)(Orpheus)()",0
	db "",0

	read "music_end.asm"
