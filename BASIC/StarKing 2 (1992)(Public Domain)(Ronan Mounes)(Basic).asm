10 '**************
20 '*  StarKing  *
30 '*  --------  *
40 '*Presentation*
50 '*____________*    
60 '**************
70 FOR i=7 TO 0 STEP -1:OUT &BC00,9:OUT &BD00,i:FOR u=1 TO 100:NEXT:NEXT:MODE 1:OUT &BC00,9:OUT &BD00,7:OUT &BC00,4:OUT &BD00,37
80 ON ERROR GOTO 1100
90 POKE &BDEE,&C9:'Mettez ce poke au dernier moment...
100 POKE &BE78,255:POKE &BE66,1
120 GOSUB 1110
130 RESTORE:CALL &BB4E:GOSUB 400:GOSUB 760:MEMORY &3FFF 
140 MOVE 1000,1000:TAG:y=0
150 EVERY 15,1 GOSUB 930  
160 BORDER 0:INK 0,0:PAPER 0
170 DATA &21,&00,&40,&11,&00,&c0
180 DATA &01,&ff,&3f,&ed,&b0,&c9,&00
190 FOR i= &8500 TO &8500+12:READ a:POKE i,a:NEXT
200 LOAD"KING    .N02",&4000 
210 MODE 1:INK 2,0:INK 3,0:INK 1,0:CALL &8500:FOR i=1 TO 50:INK 2,0:INK 3,0:INK 1,0:FOR ii=0 TO 1000 STEP i:NEXT:INK 2,26:INK 3,11:INK 1,16:CALL &BD19:NEXT:LOCATE 1,25:y=1:INK 2,26:INK 3,11:INK 1,16:GOSUB 1310
230 y=0:MODE 1:POKE &B72F,231:CALL &8500
240 PEN 2:POKE &B72F,231:LOCATE 12,25:PRINT "regles (o/n)?"
250 a$=INKEY$
260 IF a$="n" OR a$="N" THEN 390
270 IF a$="o" OR a$="O" THEN 290
280 GOTO 250
290 LOCATE 1,25:PRINT STRING$(25,"\n")
300 PEN 1:POKE &B72F,231:PRINT "star-king en 2306"
310 PEN 2:POKE &B72F,231:
320 PRINT"sur jupiter, un homme, decouvre derriereune  montagne une grotte .quand il entrepar  une  fente  il  voit  mille  et  undiamants  poses  sur  le  sol. mais  unechose   etrange  et  qui  longe les mursessaye   de   lui   tendre  des  pieges."    
330 PRINT "courageux  et  intelligent , il arrive apenetrer  dans  l'etage inferieur.mais acette  etage ,il se fait ecraser par uneavalanche   et   meurt  ."
340 PRINT "a vous  de vous aventurer dans la grotteet  decouvrir  ses  multiples dangers etpieges.
350 PRINT "surtout, faite  attention au temps sinonl '  avalanche    vous    surprendra ..."
360 PRINT "vous  avez  cinq vies plus  votre  intel-ligence  qui  vous  sera  bien  utile !     
370 PRINT:PRINT:PRINT
380 IF INKEY(47)=0 THEN GOTO 680 ELSE GOSUB  950:GOTO 380
390 GOTO 920
400 SYMBOL AFTER 97
410 SYMBOL 97,&X0,&X0111111,&X0100011,&X0100011,&X01111111,&X0100011,&X0100011 
420 SYMBOL 98,&X0,&X0111111,&X0100011,&X01111111,&X0100011,&X0100011,&X01111111
430 SYMBOL 99,&X0,&X0111111,&X0000011,&X0000011,&X0000011,&X0000011,&X0111111
440 SYMBOL 100,&X0,&X0011111,&X0100011,&X0100011,&X0100011,&X0100011,&X0011111
450 SYMBOL 101,&X0,&X0111111,&X00000011,&X00001111,&X00000011,&X00000011,&X0111111,&X0
460 SYMBOL 102,&X0,&X0111111,&X00000011,&X00011111,&X00000011,&X00000011,&X00000011      
470 SYMBOL 103,&X0,&X0111111,&X00000011,&X0110011,&X0100011,&X0100011,&X0111111
480 SYMBOL 104,&X0,&X0100011,&X0100011,&X0111111,&X0100011,&X0100011,&X0100011
490 SYMBOL 105,&X0,&X00011,&X0,&X00011,&X00011,&X00011,&X00011,&X0
500 SYMBOL 106,&X0,&X0011,&X0,&X00111,&X001101,&X0011,&X0011,&X001111
510 SYMBOL 107,&X0,&X0010011,&X0001011,&X0000111,&X0000111,&X0001011,&X0010011
520 SYMBOL 108,&X0,&X0000011,&X0000011,&X0000011,&X0000011,&X0000011,&X0111111,&X0
530 SYMBOL 109,&X0,&X0110111,&X0101011,&X0100011,&X0100011,&X0100011,&X0100011     
540 SYMBOL 110,&X0,&X0100111,&X0101011,&X0110011,&X0100011,&X0100011,&X0100011      
550 SYMBOL 111,&X0,&X0111111,&X0100011,&X0100011,&X0100011,&X0100011,&X0111111
560 SYMBOL 112,&X0,&X0111111,&X0100011,&X0111111,&X0000011,&X0000011,&X0000011
570 SYMBOL 113,&X0,&X0111111,&X0100011,&X0111111,&X01,&X01,&X01      
580 SYMBOL 114,&X0,&X0111111,&X0100011,&X0111111,&X0000111,&X0001011,&X0110011,&X0
590 SYMBOL 115,&X0,&X011111,&X0000011,&X011111,&X01,&X01,&X011111,&X0
600 SYMBOL 116,&X0,&X0111111,&X000011,&X000011,&X000011,&X000011,&X000011,&X0
610 SYMBOL 117,&X0,&X0100011,&X0100011,&X0100011,&X0100011,&X0100011,&X0111111,&X0    
620 SYMBOL 118,&X0,&X0100011,&X0100011,&X0100011,&X0100011,&X0100011,&X001111,&X0 
630 SYMBOL 119,&X0,&X0101011,&X0101011,&X0101011,&X0101011,&X0111111,&X001111,&X0
640 SYMBOL 120,&X0,&X0100001,&X001001,&X00011,&X00011,&X001001,&X0100001,&X0   
650 SYMBOL 121,&X0,&X0100011,&X0100011,&X0100011,&X0111111,&X011,&X01,&X0
660 SYMBOL 122,&X0,&X011111,&X010001,&X001,&X0001,&X01001,&X011111,&X0
670 RETURN
680 LOCATE 1,1:PRINT STRING$(25,"")
690 POKE &B72F,231:LOCATE 1,25:PRINT"pour  reussir  chaque  tableau , il vousfaudra  visiter  des couloirs et prendreles 9 premiers diamants, puis, apres quedes portes se soient  ouvertes ,ramasserles";
700 PRINT"5 autres  diamants pour franchir l'esca-lier.ce jeu demande beaucoup de reflexe,d'intelligence et de la patience." 
710 PRINT"le  jeu comprend 10 tableaux .biensur  achaque  tableau le  niveau de difficulteaugmente  mais  le  temps , heureusementpour vous,augmente lui aussi."        
720 PRINT"je ne puis rien vous dire de plus sauf :"
730 PEN 3:POKE &B72F,231:PRINT "        bonne chance !!":
740 PRINT:PRINT:PRINT:PRINT:PRINT:PRINT:PRINT:
750 IF INKEY(47)=0 THEN GOTO 980 ELSE GOSUB 960:GOTO 750   
760 SYMBOL 209,0,0,0,3,47,3,0,0
770 SYMBOL 143,192,232,255,255,192,128,7,255
780 SYMBOL 144,0,0,255,255,63,255,255
790 SYMBOL 223,0,0,224,144,136,252,254,252  
800 SYMBOL 220,4,30,172,216,240,224,192,128  
810 SYMBOL 207,24,110,94,143,159,78,126,24    
820 SYMBOL 240,0,0,0,0,0,0,0,0
830 SYMBOL 241,28,28,72,62,9,20,20,34
840 SYMBOL 242,24,110,94,143,159,78,126,24
850 SYMBOL 243,238,111,246,238,187,221,107,214
860 SYMBOL 244,146,146,146,146,146,146,146,146
870 SYMBOL 245,0,24,44,70,143,135,110,24
880 SYMBOL 202,0,24,44,70,143,135,110,24 
890 SYMBOL 253,60,90,126,102,60,106,169,165
900 SYMBOL 249,&X0,&X1111111,&X1011101,&X1000101,&X1011101,&X1000101,&X1011101,&X1111111
910 RETURN
920 OUT 1,1:CALL &8500:TAG:FOR i=0 TO 16 STEP 2:MOVE 220,i,1,0:PRINT"IS LOADING";:NEXT:MOVE 1000,1000:OPENOUT "test":RUN"KING    .N01"
930 IF INKEY(66)=160 THEN MOVE 1000,1000:CHAIN "KING    .N01",210
932 IF y=0 THEN RETURN 
940 FRAME:PRINT:CALL &8500:IF INKEY(47)=0 THEN 230 ELSE RETURN 
950 u=RND*39+1:uu=RND*23+1:LOCATE u,uu:a$=COPYCHR$(#0):PEN 1:LOCATE u,uu:PRINT a$:RETURN
960 u=RND*39+1:uu=RND*23+1:LOCATE u,uu:a$=COPYCHR$(#0):PEN 2:LOCATE u,uu:PRINT a$:RETURN
970 u=RND*39+1:uu=RND*23+1:LOCATE u,uu:a$=COPYCHR$(#0):PRINT CHR$(24);a$;CHR$(24):RETURN
980 FOR i=1 TO 13:WINDOW 1,40,1,12:PRINT"":WINDOW 1,40,12,25:LOCATE 1,25:PRINT"\n":NEXT:WINDOW 1,40,1,25  
990 PEN 2:LOCATE 1,25
1000 PRINT "     vous pouvez jouer soit avec:"   
1010 PRINT:PRINT"       clavier ou la manette."    
1020 PEN 3
1030 PRINT:PRINT"              e:exit..."
1040 PRINT:PRINT"              p:pause"
1050 PRINT:PRINT"       control+shift+esc=fin"
1060 PRINT:PRINT"       c (menu): charger partie
1070 PRINT:PRINT"     s (jeu) : sauvegarder partie
1080 PRINT"\n\n\n\n\n"
1090 IF INKEY(47)=0 THEN LOCATE 1,25:PRINT STRING$(25,"\n"):MODE 1:GOTO 920 ELSE GOSUB  970:GOTO 1090
1100 FOR i=1 TO 400:NEXT:OUT 0,0:FOR i=1 TO 3000:NEXT:OUT 0,1:FOR i=1 TO 800:NEXT:RESUME 
1110 SYMBOL AFTER 32:SYMBOL 154,0,0,0,255
1120 SYMBOL 48,0,0,0,0,0,0,0,0
1130 MODE 2:BORDER 0:INK 0,0:INK 1,26:PAPER 0:PEN 1
1140 RESTORE 1160
1150 BORDER 0:LOCATE 1,25
1160 DATA "  MOUNES  ","  RONAN   "," PRESENTE ","__________","@~StarKing~","@   ~II~   ","f","g","          "," VEUILLEZ "," ATTENDRE ","@CHARGEMENT","  DU JEU  ","          ","0"
1170 READ m$:IF m$="0" THEN 130 
1180 IF m$="f" THEN m$=STRING$(10,154)
1190 IF m$="g" THEN FOR hh=1 TO 2000:NEXT:GOTO 1170  
1200 IF LEFT$(m$,1)="@" THEN SYMBOL 49,0,255,0,255,0,255,0,255 :m$=RIGHT$(m$,10):ELSE SYMBOL 49,255,255,255,255,255,255,255,255  
1210 GOSUB 1220:GOTO 1170   
1220 IF PEEK (&BCA2)=166 THEN v=40956
1230 IF PEEK (&BCA2)=52 THEN v=42240
1240 IF PEEK (&BCA2)=54 THEN v=40956   
1250 FOR t=0 TO 7
1260 FOR n=1 TO LEN (m$):IF INKEY(47)=0 THEN 130
1270 p=PEEK(v+(ASC(MID$(m$,n,1))-32)*8+t)
1280 gg$=gg$+BIN$(p,8):NEXT:PRINT gg$;:gg$=""
1290 NEXT
1300 RETURN   
1310 ENV 2,10,-1,5:ENT 1,239,-1,10:ENV 3,10,-2,5
1320 RESTORE 1440:t=15:v=15:g=10
1330 FOR s=1 TO 236
1340 IF INKEY(47)=0 THEN RETURN
1350 IF s>236-10 THEN g=g-1
1360 READ p1,p2,p3
1370 SOUND 1,p1,t,v,3
1380 IF p2=0 THEN v=0 ELSE v=g
1390 SOUND 2,p2,t,v,0,1
1400 IF p3=0 THEN v=0:f=0 ELSE v=g+5:f=2
1410 SOUND 4,p3,t,v,f
1420 v=15
1430 NEXT:RETURN
1440 DATA 142,0,0,159,0,0,142,0,0,179,0,0,142,0,0,190,0,0,142,0,0,213,0,0,142,0,0,225,0,0
1450 DATA 142,0,0,213,0,0,142,0,0,190,0,0,142,0,0,179,0,0,142,0,0,284,0,0,142,0,0,253,0,0
1460 DATA 142,0,0,225,0,0,142,0,0,213,0,0,142,0,0,225,0,0,142,0,0,213,0,0,142,0,0,190,0,0
1470 DATA 142,0,0,179,0,0,0,0,106,169,0,119,169,0,106,159,0,134,159,0,106,239,0,142,239,0,106,268,0,159
1480 DATA 268,0,106,284,0,169,284,0,106,268,0,159,268,0,106,239,0,142,239,0,106,213,0,134,213,0,106,338,0,213
1490 DATA 338,0,106,319,0,190,319,0,106,284,0,169,284,0,106,268,0,159,268,0,106,284,0,169,284,0,106,268,0,159
1500 DATA 268,0,106,338,0,142,338,0,106,319,0,134,159,0,134,319,0,106,159,0,106,319,0,134,159,0,134,319,0,106
1510 DATA 159,0,106,239,0,100,201,0,100,239,0,159,201,0,159,239,0,100,201,0,100,239,0,159,201,0,159,239,0,119
1520 DATA 179,0,119,239,0,142,179,0,142,239,0,119,179,0,119,239,0,142,179,0,142,268,0,106,213,0,106,268,0,179
1530 DATA 213,0,179,268,0,106,213,0,106,268,0,179,213,0,179,268,0,134,201,0,134,268,0,159,201,0,159,268,0,134
1540 DATA 201,0,134,268,0,159,201,0,159,284,0,113,225,0,113,284,0,190,225,0,190,284,0,113,225,0,113,284,0,190
1550 DATA 225,0,190,358,0,142,213,0,142,358,0,179,213,0,179,358,0,142,213,0,142,358,0,179,213,0,179,379,0,159
1560 DATA 268,0,159,379,0,225,268,0,225,379,0,159,268,0,159,379,0,225,268,0,225,426,0,179,284,0,179,426,0,213
1570 DATA 284,0,213,426,0,179,284,0,179,426,0,213,284,0,213,379,0,190,319,0,190,379,0,284,319,0,284,379,0,190
1580 DATA 319,0,190,379,0,284,319,0,284,358,284,0,0,284,71,379,284,80,0,284,71,426,284,89,0,284,71,319,284,95
1590 DATA 0,284,71,358,284,106,0,284,71,379,284,113,0,284,71,358,284,106,0,284,71,451,284,95,0,284,71,426,284,89
1600 DATA 0,284,71,451,284,142,0,284,71,426,284,127,0,284,71,379,319,113,0,319,71,358,284,106,0,284,71,379,284,113
1610 DATA 0,284,71,358,284,106,0,284,71,451,284,95,0,284,71,426,284,89,0,284,71,0,0,95,0,0,71,358,213,106
1620 DATA 358,213,71,358,213,119,0,0,71,319,213,134,319,213,71,319,213,119,319,213,71,319,213,106,0,0,80,0,0,134
1630 DATA 0,0,80,478,239,95,478,239,80,478,239,106,0,0,80,379,239,119,379,239,80,379,239,134,0,0,80,358,239,142
1640 DATA 358,239,80,358,239,134,358,239,80,358,239,119,0,0,89,0,0,142,0,0,89,536,268,106,536,268,89,536,268,119
1650 DATA 0,0,89,426,268,134,426,268,89,426,268,142,0,0,89,379,268,159,379,268,89,379,268,142,379,268,89,379,268,134
1660 DATA 0,0,95,0,0,159,0,0,95,568,284,113,568,284,95,568,284,134,0,0,95,451,284,142,451,284,95,451,284,159
1670 DATA 0,0,95,426,284,179,426,284,95,426,284,159,426,284,92,426,284,142