1 GOTO 30
5 REM !D
6  '(C) DATABASE PUBLICATIONS 
7 'convertion by Peter Ramm  
30 SYMBOL AFTER 32
40 INK 0,1:PAPER 0:BORDER 1
50 DIM pict(300)
55 INK 1,1:INK 2,1:INK 3,1:MODE 1:GOSUB 6460
60 INK 1,24
70 INK 2,26
80 INK 3,15
90 oldpen=2 : PEN oldpen
120 flash=1
130 GOSUB 4970
140 RESTORE 6220
150 j=0 : WHILE j<4
160 GOSUB 5990
170 WEND
180 RESTORE 2480
200 DIM loc$(41),d$(41),o$(11),o(11),p$(11),p(11)
210 DIM pcols(41,5),from(11)
220 FOR a=0 TO 41 : READ loc$(a),d$(a):NEXT
230 RESTORE 5360
240 GOSUB 5780 : 'set the colours
250 RESTORE 3050
260 FOR a=0 TO 11:p$(a)="pic"+STR$(a):NEXT a
270 FOR a=0 TO 11: p(a)=27 : NEXT a
280 FOR a=0 TO 11 : READ o$(a),o(a):from(a)=o(a):NEXT 
290 GOSUB 5880
300 loc=14 :m=0 : wi=0 : dead=0 :WHILE dead=0  
310 FOR i=0 TO 3:INK i,pcols(loc,i):NEXT i
320 BORDER pcols(loc,0)
330 GOSUB 540 : GOSUB 600
340 IF loc=22 AND o(0)=22 AND o(3)=42 AND o(4)=42 AND o(5)=42 THEN GOSUB 1040
350 IF loc=17 AND o(1)=17 AND o(6)=42 AND o(7)=42 AND o(8)=42 THEN GOSUB 1090
360 IF loc=41 AND o(2)=41 AND o(9)=42 AND o(10)=42 AND o(11)=42 THEN GOSUB 1120
370 IF loc=40 THEN GOSUB 1490 : GOTO 480
380 GOSUB 650
390 LOCATE 1,22 : prtxt$="What do you want to do?": GOSUB 3390
400 i$=" " : WHILE INSTR("NSEWUDGIMRL",i$) = 0 : GOSUB 4210:WEND :dead=0:CLS:m=m+1:GOSUB 4290 :IF (m MOD 100)=0 THEN GOSUB 1420
410 IF INSTR("NSEW",i$) AND LEN(i$)=1 THEN GOSUB 670 ELSE IF i$="U" AND INSTR(d$(loc),i$)=0 THEN GOSUB 3550 : PRINT "You can't go UP here." ELSE IF i$="U" THEN GOSUB 730
420 IF i$="D" AND INSTR(d$(loc),i$)=0 THEN GOSUB 3550 : PRINT "You can't go DOWN here." ELSE IF i$="D" THEN GOSUB 820
430 IF i$="G" THEN GOSUB 860 ELSE IF i$="I" THEN GOSUB 930 ELSE IF i$="M" THEN GOSUB 1770
440 IF i$="R" THEN GOSUB 1280 ELSE IF i$="L" THEN GOSUB 1340
450 GOSUB 970
460 WEND : 'dead=0
470 GOSUB 3480: GOSUB 4070: GOSUB 4070
480 CLS:INK 1,20:PEN 1:PRINT:PRINT: prtxt$="Do you want to play again (Y or N)?" :GOSUB 3390
490 i$="" :WHILE (i$<>"Y") AND (i$<>"N")
500 i$=UPPER$(INKEY$)
510 WEND
520 IF i$="Y" THEN RUN
530 CALL 0
540 prtxt$="You are "+loc$(loc)+".
560 FOR i=0 TO 3:INK i,pcols(loc,i):NEXT i    
570 BORDER pcols(loc,0)
580 IF loc<>39 THEN pic=loc:GOSUB 4440:GOSUB 4880:xp=1 :GOSUB 4320:PRINT:ELSE LOCATE 1,15
590 PEN pcols(loc,4):GOSUB 3390 : RETURN
600 PEN pcols(loc,5)
620 FOR a=0 TO 11:IF o(a)=loc AND RIGHT$(o$(a),3)="ent" THEN prtxt$="You see "+o$(a)+"." : GOSUB 3390 ELSE IF o(a)=loc THEN prtxt$="You see a "+o$(a)+"." : GOSUB 3390
630 IF o(a)=loc THEN PRINT : xc=POS(#0) :yc=VPOS(#0): xp=p(a) :GOSUB 1150 :LOCATE xc,yc
640 NEXT a:RETURN
650 w$="You can go ": FOR a=1 TO LEN(d$(loc)): w$=w$+MID$(d$(loc),a,1):IF a = LEN(d$(loc))-1 THEN w$=w$+" or " ELSE w$=w$+"," 
660 NEXT:w$=LEFT$(w$,LEN(w$)-1)+".": LOCATE 1,19: prtxt$=w$ : GOSUB 3390 : GOSUB 3250 : FOR a=1 TO LEN(d$(loc)):GOSUB 3180:NEXT:RETURN
670 IF INSTR(d$(loc),i$)=0 THEN GOSUB 3780 : PRINT "You can't go ";i$;" here.":RETURN
680 IF loc=37 AND o(6)<>42 AND i$="W" THEN GOSUB 3830 : PRINT "It's too dark that way." : RETURN
690 IF loc=37 AND o(6)=42 AND i$="W" THEN PRINT "The glow-worm lights the way."
700 IF i$="N" THEN loc=loc-7 ELSE IF i$="S" THEN loc=loc+7
710 IF i$="E" THEN loc=loc+1 ELSE IF i$="W" THEN loc=loc-1
720 GOSUB 5880:RETURN
730  GOSUB 4030 : IF loc=7 THEN loc=0 :FOR i=0 TO 3:INK i,pcols(loc,i):NEXT:BORDER pcols(loc,0) : RETURN
740 IF loc=13 AND o(11)<>42 THEN GOSUB 1790:BORDER 0:INK 0,0:INK 2,26:INK 1,24:a=12:GOSUB 3660:xp=1:GOSUB 1150:pic=35:GOSUB 4440:GOSUB 4880:LOCATE 20,1:GOSUB 4320:PEN 1:LOCATE 1,19:PRINT "You need something to hold on to.":PRINT
750 IF loc=13 AND o(11)<>42 THEN PRINT "Ha! Ha! Ha! The witch laughs from the"
760 IF loc=13 AND o(11)<>42 THEN PRINT "top of the well as she turns you into a spider. Better luck next time.": dead=-1 
770 IF loc=13 AND o(11)<> 42 THEN wtime=20 : GOSUB 4090 :RETURN
780 IF loc=13 THEN loc=6:PRINT "You climb up the rope ladder.":RETURN    
790 IF loc=20 THEN loc=27:RETURN
800 IF loc=34 THEN loc=41
810 RETURN
820 GOSUB 3950:IF loc=6 THEN loc=13:RETURN 
830 IF loc=27 THEN loc=20:RETURN
840 IF loc=41 THEN loc=34
850 RETURN
860 ogin=-1:FOR a=0 TO 11:IF o(a)=loc THEN ogin=a
870 NEXT:IF ogin=-1 THEN PRINT "There is nothing here!":GOSUB 3550 :RETURN
880 IF ogin=0 THEN PRINT "Ughhh! No fear!":GOSUB 3470:RETURN   
890 IF ogin=1 THEN PRINT "You might fall in the water.":GOSUB 3780:RETURN
900 IF ogin=2 THEN PRINT "He's too quick for you.":GOSUB 3630:RETURN
910 o(ogin)=42:GOSUB 3720:PRINT "You now have a ";o$(ogin);".":RETURN
920 'procinv
930 PRINT "You have:-";:b=0:FOR a=0 TO 11:IF o(a)=42 THEN GOSUB 5830:xp=1:PRINT:PRINT:GOSUB 1150:PRINT:PRINT:PRINT o$(a):b=b+1:GOSUB 4290:GOSUB 3720:wtime=5:GOSUB 4100:CLS
940 NEXT a:IF b=0 THEN PRINT " nothing.":GOSUB 3550
950 m=m-1:RETURN
970 IF loc=0 THEN LOCATE 1,1:a=12:xp=30:GOSUB 1150:LOCATE 1,1:GOSUB 540:prtxt$="The witch comes home to cook her":LOCATE 1,19:GOSUB 3390
980 IF loc=0 THEN prtxt$="dinner! You are stuck in the chimney":GOSUB 3390:prtxt$="and burnt! Better luck next time.":GOSUB 3390:dead=-1
990 IF loc=0 THEN GOSUB 4070:GOSUB 3900:LOCATE 1,1:i$="":WHILE i$="":GOSUB 6900:i$=INKEY$:WEND:RETURN
1000 IF loc=39 THEN GOSUB 540:prtxt$="You have drowned in the waterfall!":GOSUB 3390:PRINT:prtxt$="Better luck next time.":GOSUB 3390:dead=-1
1010 IF loc=39 THEN GOSUB 3950:GOSUB 3990:GOSUB 5060:GOSUB 3480:GOSUB 4070
1020 RETURN
1030 REM
1040 o$(0)="Prince Fred the magnificent":o(3)=43:o(4)=43:o(5)=43:d$(22)="WE":fch=1
1050 GOSUB 3590
1060 FOR i=1 TO 1000:NEXT i:CLS:GOSUB 540:GOSUB 600:PRINT:PRINT "The frog is turned into a tall,handsome prince by all the magic objects";
1070 PRINT "you have collected.":PRINT:o(0)=42:GOSUB 4290:fch=0: RETURN
1080 REM
1090 o$(1)="gleaming sword":o(6)=43:o(7)=43:o(8)=43:d$(17)="SE"::GOSUB 3590:FOR count=1 TO 2000:NEXT count:CLS:sch=1:GOSUB 540:GOSUB 600:PRINT "The wooden stick turns into a sword for Prince Fred the Magnificent."
1100 o(1)=42:GOSUB 4290:sch=0:RETURN
1110 REM
1120 o$(2)="beautiful white horse":o(9)=43:o(10)=43:o(11)=43:d$(41)="WD":mch=1:GOSUB 3590:wtime=5:GOSUB 4090:CLS:GOSUB 540:GOSUB 600
1130 PRINT " The black cat caught the pink mouse.":PRINT:PRINT "The mouse became a beautiful white":PRINT:PRINT "horse for the Prince to rescue the":PRINT:PRINT "Princess.":wtime=5:GOSUB 4090:LOCATE 1,16:FOR SPa=17 TO 24:PRINT SPACE$(40);:NEXT
1140 o(2)=42:mch=0: GOSUB 4290:RETURN
1150 LOCATE xp,2
1160 pic=a : GOSUB 5120 :GOSUB 4880 
1170 GOSUB 4320
1180 RETURN
1190 FOR i=1 TO LEN(txt$)
1200 c$=MID$(txt$,i,1)
1210 c=ASC(c$)
1220 IF c<5 THEN PEN c : GOTO 1250
1230 IF c=13 THEN PRINT ot$;:ot$$="":LOCATE posx,VPOS(#0):GOTO 1250
1240 ot$=ot$+c$
1250 NEXT i
1260 RETURN
1280 CLS:GOSUB 3720:PRINT:prtxt$="Do you really want to":GOSUB 3390:prtxt$="record your game?":PRINT:GOSUB 3390:PRINT:prtxt$="Y or N":GOSUB 3390
1290 i$="":WHILE (i$<>"Y") AND (i$<>"N"):i$=UPPER$(INKEY$):WEND
1300 IF i$="N" THEN CLS:RETURN : ELSE PRINT:prtxt$="Put your tape in the right place":GOSUB 3390 
1310 PRINT:OPENOUT "PDAT":FOR a=0 TO 11:PRINT #9,o(a):NEXT:FOR a=0 TO 2:PRINT #9,o$(a):NEXT
1320 PRINT #9,loc,m,d$(22):PRINT #9,d$(17):PRINT #9,d$(41):CLOSEOUT:CLS:RETURN
1340 GOSUB 3720:CLS:PRINT:prtxt$="Do you really want to":GOSUB 3390:prtxt$="load another game?":PRINT:GOSUB 3390:PRINT:prtxt$="Y or N":GOSUB 3390
1350 i$="":WHILE (i$<>"Y") AND (i$<>"N"):i$=UPPER$(INKEY$):WEND
1360 IF i$="N" THEN CLS:RETURN : ELSE PRINT:prtxt$="Put your tape in the right place":GOSUB 3390 
1370 PRINT:OPENIN "PDAT":FOR a=0 TO 11:INPUT #9,o(a):NEXT:FOR a=0 TO 2:INPUT #9,o$(a):NEXT
1380 INPUT #9,loc,m,d$(22),d$(17),d$(41):CLOSEIN:CLS:RETURN 
1420 flash=0:temp=0:GOSUB 5850:i$=" ":a=12:xp=1:GOSUB 1150:GOSUB 3900:PRINT:PRINT "The Witch has caught you.":PRINT "She will ask you a question.":PRINT "If you get it wrong..BAD LUCK."
1440 RESTORE 3120:FOR a=1 TO (RND(1)*6+1):READ s$,f$,d$:NEXT a:PRINT "If you are ";s$:PRINT "which way is ";f$;"?":PRINT:WHILE INSTR(1,"NSEWUD",i$)=0:GOSUB 4210:WEND
1450 IF i$=d$ THEN GOSUB 4080:CLS:PRINT "Right!!":PRINT "The witch snarls as she":PRINT "zooms away on her broomstick.":wtime=30:GOSUB 3550:GOSUB 4090:flash=1:CLS:RETURN
1460 CLS:xp=1:PEN 1:GOSUB 3480:GOSUB 3660:GOSUB 3660:PRINT "WRONG!!":PRINT:PRINT "WRONG!!!":PRINT:prtxt$="The witch laughs with glee":GOSUB 3390:prtxt$="as she turns you into a spider":PRINT:GOSUB 3390
1470 pic=35:GOSUB 4440:GOSUB 4880:GOSUB 4320
1480 wtime=30:GOSUB 4100:CLS:dead=-1:RETURN
1490 prtxt$="CONGRATULATIONS!" : GOSUB 3390
1500 PRINT "Prince Fred and Princess Poppy are":PRINT"very happy to be together again and":PRINT "thank you for helping them.":PRINT "You completed your adventure":PRINT "in ";m;" moves."
1510 GOSUB 6680 : CLS:RETURN
1520 'titles
1530 ON j GOTO 1540,1590,1720 
1540 LOCATE 12,1:PEN 3:prtxt$="THE MAGIC SWORD":GOSUB 3390:PRINT:PRINT:PEN 1:PRINT "Once upon a time the wicked witch, Bad":PRINT "Bertha locked Princess Poppy in a high  tower in the White Castle and then she";
1550 PRINT "threw the key away. Prince Fred the ":PRINT "Magnificent tried to rescue Princess    Poppy but the witch Bad Bertha stole hissword, and cast a spell on him."
1560 PRINT:PRINT:PRINT:PRINT "You have to find Prince Fred, and then  help him to rescue Princess Poppy by"
1570 PRINT "collecting Bad Bertha's magic objects tostop her casting any more nasty spells.":PEN 2:GOSUB 1760
1580 RETURN
1590 PEN 1:prtxt$="Use these letters for your moves:":GOSUB 3390:PEN 2:PRINT:PRINT
1600 PRINT SPACE$(8);"U - UP"
1610 PRINT SPACE$(8);"D - DOWN"
1620 PRINT SPACE$(8);"G - GET an object"
1630 PRINT SPACE$(8);"I - INVENTORY to show"
1640 PRINT SPACE$(12);"what you are carrying"
1650 PRINT SPACE$(8);"M - MOVES made so far"
1660 PRINT SPACE$(8);"N - NORTH"
1670 PRINT SPACE$(8);"S - SOUTH"
1680 PRINT SPACE$(8);"E - EAST"
1690 PRINT SPACE$(8);"W - WEST"
1700 GOSUB 4160:GOSUB 3250:PEN 1:GOSUB 1760
1710 RETURN
1720 PRINT "If you want to save your game press R":PRINT "for RECORD.":PRINT:PRINT"If you want to load a saved game press":PRINT "L for LOAD.":PRINT
1730 PRINT "A compass, like the one below, will":PRINT "always show you the four directions.":PRINT:PRINT "The ones which you are allowed to move":PRINT "in will flash.":PRINT
1740 PRINT "Remember, you can also press:":PRINT:PRINT "U,D,G,I,M,L, or R.":PRINT:PRINT:PRINT:PRINT "Can you remember what to do?":PRINT:PRINT:PEN 2:PRINT "      (Press Y or N)":GOSUB 3250
1750 RETURN
1760 GOSUB 8000:LOCATE 14,24:PRINT "PRESS SPACE";:RETURN
1770 p$="s.":IF m=1 THEN p$="."
1780 GOSUB 3720:PRINT "You have made ";m;" move";p$:m=m-1:RETURN
1790 SOUND 135,0 :RETURN
1800 DATA 1,4,32,131,13,32,32,32,131,13,32,32,131,13,2,250,251,250,251,250,251,13,251,250,251,250,251,251,13,250,251,250,251,250,251,13,251,250,251,250,251,251,13,250,251,250,251,250,251,13,251,250,251,250,251,251,13,250,251,250,251,250,251,255
1810 DATA 1,130,139,135,129,32,131,135,129,13,32,138,133,32,32,32,133,13,32,138,133,32,32,32,133,13,32,138,133,32,32,32,133,13
1820 DATA 32,138,133,32,32,32,133,13,138,143,143,133,32,135,135,133,13,138,143,143,133,32,133,133,133,13,130,131,131,129,32,129,129,129,255
1830 DATA 1,10,143,13,143,32,32,32,138,133,32,32,32,143,13,143,32,32,32,138,133,32,32,32,143,13,143,140,140,140,142,141,140,140,140,143,13
1840 DATA 143,131,131,131,139,135,131,131,131,143,13,143,32,32,32,138,133,32,32,32,143,13,143,32,32,32,138,133,32,32,32,143,13,10,143,255
1850 DATA 1,9,135,133,13,133,141,141,141,133,133,141,141,133,133,13,133,133,32,32,133,133,141,141,133,133,13,133,133,32,32,133,133,141,141,133,133,13,133,133,32,32,6,133,255
1860 DATA 1,32,143,143,133,138,143,143,32,143,143,133,138,143,143,13,136,143,143,141,142,143,143,140,143,143,141,142,143,143,140,13
1870 DATA 130,143,143,135,139,143,143,131,143,143,135,139,143,143,131,13,32,130,135,32,32,139,129,32,130,135,32,32,139,129,255
1880 DATA 1,10,32,140,132,13,9,32,142,143,143,132,13,2,9,32,138,32,138,13,9,32,139,131,139,1,131,132,13,3,9,32,251,250,251,251,13,9,32,250,251,250,251,13,250,251,250,251,250,251,250,251,250,251,250,251,251,13,251,250,251,250,251,250,251,250,251,250   
1890 DATA 251,250,251,255
1900 DATA 1,32,4,140,132,13,142,5,143,132,13,2,138,4,32,138,13,138,4,32,138,13,142,4,140,142,1,140,2,13,138,4,32,138,1,130,131,13,3,250,251,250,251,250,251,251,13,251,250,251,250,251,250,251,13,250,251,250,251,250,251,251,13,251,250,251,250,251,250,251
1910 DATA 255
1920 DATA 1,32,32,32,132,133,2,136,13,1,32,138,2,136,3,137,129,2,134,13,2,32,133,130,134,133,2,141,137,13,1,32,138,136,137,3,139,134,132,13,1,136,133,142,3,138,2,132,141,3,129,13,2,139,138,134,,141,140,1,130,255
1930 DATA 1,136,143,132,13,2,138,143,141,140,32,3,140,140,32,32,2,136,140,13,2,138,143,133,32,32,3,143,143,131,32,2,138,143,131,13,1,135,12,131,139,13,133,12,32,138,13,133,12,32,138,255
1940 DATA 1,133,11,32,2,132,13,1,141,6,140,142,32,32,32,2,142,143,132,13,1,8,143,32,32,32,32,1,133,13,1,135,6,131,139,32,32,3,138,131,131,139,255 
1950 DATA 1,32,32,32,4,140,13,136,129,32,4,143,140,13,129,137,32,4,143,32,137,13,32,32,137,4,143,32,138,13,32,32,32,4,143,140,129,13,32,32,32,4,143,255
1960 DATA 1,5,32,143,135,139,143,13,2,4,32,136,1,135,32,32,139,2,132,13,32,32,32,136,129,1,133,32,32,138,2,130,132,13,32,32,136,129,32,1,133,32,32,138,2,32,130,132,13
1970 DATA 32,136,129,32,32,1,133,32,32,138,2,32,32,130,132,13,1,32,138,32,32,32,133,32,32,138,32,32,32,133,13,3,140,12,143,140,255
1980 DATA 1,139,129,6,32,139,129,13,138,8,142,13,139,8,143,129,13,138,133,143,143,133,143,143,133,143,13,138,135,143,143,135,143,143,135,143,13
1990 DATA 138,141,143,143,141,143,143,141,143,13,138,133,143,135,32,130,143,133,143,13,138,143,143,133,32,32,143,143,143,255
2000 DATA 3,32,142,143,141,13,32,139,143,135,13,13,13,13,2,32,136,140,132,13,136,129,32,130,132,13,133,32,32,32,138,13,5,143,13,5,143,13,5,143,255
2010 DATA 1,4,32,132,13,32,32,32,130,132,13,32,136,142,139,143,139,13,32,138,142,139,130,143,32,32,32,2,136,141,13,32,32,32,138,143,143,139,133,32,139,139,129,13,32,32,136,142,143,141,142,141,140,142,142,13,32,32,138,32,139,143,143,133,32,130,131,13
2020 DATA 3,32,32,143,140,143,143,13,138,143,143,143,132,133,13,138,4,143,133,255   
2030 DATA 3,15,32,132,13,14,32,142,143,132,13,1,132,10,32,136,32,32,32,2,133,13,1,133,32,2,136,6,140,32,32,1,138,2,32,32,32,133,13,1,135,139,2,138,5,32,138,32,1,135,139,2,32,32,32,133,13,1,133,138,2,138,5,32,138,32,1,133,138,32,32,2,136,141,255
2040 DATA 1,5,143,32,2,5,143,32,3,5,143,13,1,5,143,32,2,5,143,32,3,5,143,13,1,143,143,2,112,1,143,143,32,2,143,143,3,106,2,143,143,32,3,143,143,1,114,3,143,143,13,1,5,143,32,2,5,143,32,3,5,143,13,1,5,143,32,2,5,143,32,3,5,143,255
2050 DATA 1,6,32,138,143,13,2,7,32,138,13,6,32,136,143,141,13,5,32,136,143,143,143,141,13,4,32,136,5,143,141,13,32,32,32,136,7,143,141,13,3,143,141,2,5,32,138,3,5,32,136,143,133,13,32,139,12,143,129,255
2060 DATA 1,32,32,134,133,13,32,32,130,133,32,32,32,2,134,13,32,32,32,143,140,140,142,133,32,1,140,32,32,140,32,32,140,32,32,13,2,32,32,32,130,143,143,143,129,32,138,140,133,138,140,133,138,140,133,13,3,20,143,13,20,143,255
2070 DATA 1,143,5,32,2,136,4,140,5,32,1,138,133,13,32,137,4,32,2,138,135,131,131,143,1,4,32,136,129,13,32,32,137,32,32,32,2,138,133,3,134,132,2,143,1,32,32,32,136,129,13 
2080 DATA 32,32,32,137,32,32,2,138,133,3,134,132,2,143,1,32,32,136,129,13,4,32,137,32,2,130,141,140,140,135,1,32,136,129,13,5,32,137,32,32,2,131,129,1,32,136,129,13
2090 DATA 13,3,32,32,138,12,143,13,32,32,138,143,129,8,32,139,143,13,32,32,138,133,5,32,1,132,3,4,32,143,13,32,32,138,133,32,32,1,132,133,32,133,133,132,132,3,32,143,13,32,32,138,133,1,32,134,130,134,134,138,130,138,3,32,32,143,255
2100 DATA 1,12,32,32,140,140,143,143,13,9,32,140,140,6,143,13,5,32,140,140,10,143,13,32,140,140,14,143,255
2110 DATA 1,32,140,32,136,132,13,134,32,137,129,130,5,32,136,136,136,2,7,32,136,13,1,136,131,142,141,2,32,32,32,136,1,32,32,138,143,143,32,32,32,1,136,32,32,2,136,135,141,13
2120 DATA 1,134,32,137,130,140,2,32,32,137,129,1,32,32,139,129,32,32,32,1,137,129,2,32,32,139,129,13,1,129,32,3,138,1,32,130,32,32,3,138,32,32,32,138,4,32,138,32,32,32,138,13,140,140,142,4,140,142,140,140,140,142,4,140,142,140,140,140,142,140,140,255
2130 DATA 1,32,140,32,32,32,32,136,132,13,32,143,5,142,133,13,32,143,5,138,133,13,32,143,5,138,133,13,32,143,5,139,133,255
2140 DATA 1,17,143,13,143,143,32,143,143,32,32,32,143,143,143,5,32,143,13,143,5,32,143,32,143,32,32,32,143,143,143,32,143,13,143,32,7,143,32,143,143,143,32,32,32,143,13,143,32,143,143,143,5,32,143,32,143,32,143,143,143,13,143,5,32,143,32,32,143,143,32,32
2150 DATA 32,143,32,143,13,143,32,32,143,143,32,4,143,32,32,143,143,143,32,143,13,143,143,143,143,32,32,32,143,32,143,32,143,4,32,13,143,32,32,32,143,143,32,143,32,32,32,143,32,32,143,143,143,13,143,32,143,4,32,143,32,143,143,143,32,143,32,32,143,13
2160 DATA 143,32,4,143,32,143,7,32,143,143,13,143,32,15,143,255
2170 DATA 1,8,32,136,141,13,7,32,136,143,143,141,13,2,7,32,140,140,141,140,132,13,7,32,130,143,143,135,13,3,14,131,255
2180 DATA 1,32,32,32,132,4,32,136,13,32,136,143,141,32,133,138,32,142,143,132,13,32,143,143,143,132,141,142,136,143,143,143,13,138,10,143,133,13,12,143,13,129,130,32,129,130,143,143,129,130,32,129,130,255
2190 DATA 1,133,2,32,32,140,140,140,7,32,1,138,13,133,32,2,142,4,143,132,5,32,1,138,13,133,2,138,6,143,132,32,32,142,132,1,138,13,135,2,131,10,143,135,1,139,13
2200 DATA 133,32,2,130,131,143,143,135,129,32,32,32,131,1,32,138,13,133,3,32,32,32,136,4,32,136,32,32,32,1,138,13,133,32,3,133,134,134,134,134,132,133,134,132,133,1,32,138,13,129,32,3,130,32,129,32,129,130,130,32,130,130,32,1,130,255  
2210 DATA 1,32,140,140,140,13,138,143,131,143,141,140,140,141,13,130,143,143,143,129,32,32,129,2,32,142,143,143,141,32,32,136,13,9,32,143,141,142,143,131,131,139,129,13,9,32,130,131,131,129,13
2220 DATA 3,32,136,143,143,143,132,32,32,136,13,32,138,143,140,143,135,131,131,139,129,13,32,32,131,131,131,255
2230 DATA 2,4,32,140,132,32,1,136,140,13,32,32,32,2,130,143,135,32,1,139,143,129,13,1,136,140,32,32,3,138,32,32,32,133,32,32,2,140,132,13,1,139,143,129,7,32,2,130,143,135,13,3,32,133,9,32,138,13
2240 DATA 2,136,140,9,32,1,140,132,13,2,139,143,129,7,32,1,130,143,135,13,3,32,133,32,32,1,140,132,32,2,136,140,32,32,3,138,13
2250 DATA 1,32,32,32,130,143,135,32,2,139,143,129,13,3,4,32,138,32,32,32,133,255
2260 DATA 1,9,32,136,140,13,9,32,139,143,129,13,2,10,32,133,13,3,6,32,140,4,143,140,13,4,32,140,8,143,140,13,32,32,140,12,143,140,13,18,143,255
2270 DATA 3,5,32,136,132,13,4,32,136,143,143,132,13,4,32,4,143,32,32,1,136,140,132,32,32,3,136,143,141,13,1,32,142,132,32,3,130,143,143,129,1,32,134,135,143,139,137,3,32,130,143,135,13
2280 DATA 1,142,143,143,132,32,2,138,133,32,1,138,136,129,2,143,1,130,132,133,32,2,138,13,32,138,32,32,32,138,133,32,32,1,130,32,2,143,32,1,129,2,32,32,138,255
2290 DATA 1,32,32,32,140,140,132,13,32,136,132,139,143,129,140,13,136,132,143,130,131,138,133,140,13,130,137,4,32,136,131,13,143,132,5,32,142,133,13
2300 DATA 2,32,32,142,143,143,143,132,13,32,142,5,143,132,13,142,7,143,132,255
2310 DATA 1,7,140,132,13,143,5,135,143,133,13,143,5,133,143,133,13,143,5,133,143,133,13,7,143,133,13,5,143,141,143,133,13,7,143,133,13,7,143,133,13,7,143,133,13,255
2320 DATA 1,32,32,134,135,132,13,32,32,139,142,129,13,32,136,140,141,140,13,32,133,140,141,132,133,13,32,133,140,141,132,133,13,32,133,140,141,132,133,13
2330 DATA 130,32,140,141,132,130,13,32,32,134,135,132,13,32,32,133,32,133,13,32,32,133,32,133,13,32,140,129,32,137,132,255
2340 DATA 1,4,32,143,143,143,13,32,32,32,140,143,143,143,13,32,32,32,4,143,13,32,32,5,143,13,32,140,5,143,13,32,6,143,13,7,143,255
2350 DATA 2,5,32,138,13,5,32,138,13,5,32,138,13,32,131,137,132,32,138,32,32,140,131,13,140,132,32,130,137,143,141,131,32,32,140,132,13,32,130,137,140,143,143,143,141,140,131,13
2360 DATA 32,32,136,140,143,143,143,141,140,13,140,134,129,32,139,143,143,129,32,131,140,132,13,32,32,136,134,129,131,129,131,140,13,32,131,129,6,32,131,129,255
2370 DATA 1,137,8,32,136,129,13,32,137,6,32,136,129,13,32,32,137,4,32,136,129,13,32,32,32,137,32,32,136,129,13,4,32,143,143,133,13,4,32,143,143,133,13,32,32,32,134,32,32,130,132,13
2380 DATA 32,32,134,4,32,130,132,13,32,134,6,32,130,132,13,134,8,32,130,132,255
2390 DATA 1,6,32,140,140,140,13,4,32,136,5,143,132,13,4,32,143,135,129,32,130,139,143,13,32,32,32,138,143,5,32,143,133,13,32,32,32,143,133,5,32,138,143,13,32,32,138,143,7,32,143,133,13,2,15,143,255
2400 DATA 1,32,32,140,132,32,132,13,32,140,140,130,137,130,132,13,140,140,132,131,132,137,138,13,32,32,130,137,138,130,132,133,13,32,32,32,130,132,133,133,133,13,4,32,133,133,133,137,13
2410 DATA 4,32,133,137,138,138,13,4,32,138,138,138,130,132,13,4,32,138,130,132,133,133,13,5,32,133,133,133,129,13,5,32,133,129,255
2420 DATA 1,70,65,76,76,73,78,71,255
2430 DATA 3,32,4,136,13,2,32,138,142,142,142,9,32,141,141,141,133,13,1,32,32,135,135,133,9,32,138,139,139,13,32,32,135,135,133,9,32,138,139,139,13
2440 DATA 32,32,137,140,129,2,32,32,32,143,1,131,2,143,32,32,32,1,130,140,134,13,2,136,4,143,141,32,136,143,32,143,132,32,142,143,135,143,143,132,13,138,135,143,143,135,139,141,143,129,32,130,143,142,135,139,135,143,139,141,13
2450 DATA 138,133,143,143,133,32,139,129,32,32,32,130,135,32,142,135,143,132,143,132,13,138,133,143,143,133,8,32,136,143,135,143,141,138,133,13,1,138,3,32,143,143,133,2,8,32,142,143,135,143,143,132,1,133,13,3,32,32,143,138,133,7,32,2,136,143,143,135,143
2460 DATA 143,141,13,3,32,32,143,138,133,7,32,2,142,6,143,132,13,3,32,32,143,138,133,9,32,138,32,138,13,2,32,130,131,130,131,9,32,3,131,32,130,129,255
2470 DATA 1,8,140,13,143,143,4,131,143,143,13,143,129,4,32,130,143,13,143,4,32,136,32,143,13,143,4,32,137,129,143,13,143,6,32,143,13,143,6,32,143,13,143,6,32,143,13,143,6,32,143,13,143,6,32,143,255
2480 DATA up the chimney,""  
2490 DATA in a vegetable garden,SE
2500 DATA by a window,EW
2510 DATA by a shed,SW
2520 DATA under a portcullis,SE
2530 DATA in the courtyard near a well,SEW
2540 DATA beside a well,WD
2550 DATA in an oven,EU
2560 DATA in the kitchen,NSEW
2570 DATA in a bedroom,SW
2580 DATA inside the shed,N
2590 DATA on a drawbridge,NS
2600 DATA by the main door,NS
2610 DATA down the well,U
2620 DATA outside a crooked house,SE
2630 DATA inside a crooked house,NEW
2640 DATA in a library,NW
2650 DATA in a boat,S
2660 DATA by a moat,NW
2670 DATA in a large hall,NSE
2680 DATA at the bottom of some stairs,WU
2690 DATA in a flower garden,NE
2700 DATA by a wooden gate,W
2710 DATA on a twisting path,SW
2720 DATA by a river,NS
2730 DATA in a secret passage,NSEW
2740 DATA in the castle kitchens,NW
2750 DATA in the minstrels gallery,SD
2760 DATA inside a toadstool ring,E
2770 DATA on a hill,EW
2780 DATA in thick woods,NSEW
2790 DATA beside a bridge,NSW
2800 DATA outside a dungeon,NE
2810 DATA inside a dungeon,W
2820 DATA at the foot of steep stairs,NU
2830 DATA inside a dark cave,E
2840 DATA in a long dark tunnel,EW
2850 DATA outside a cave,NW
2860 DATA by a waterfall,NE
2870 DATA falling down a waterfall,""
2880 DATA in the tower room,""
2890 DATA beside a locked door,D
2900 DATA 2,32,136,139,137,13,32,138,131,139,13,2,32,136,143,141,13,138,139,143,143,139,13,131,32,131,129,130,129,255
2910 DATA 3,136,135,139,132,13,143 ,32,32,129,13,2,143,13,143,13,143,13,143,13,3,131,255
2920 DATA 2,9,32,136,131,132,13,6,32,136,140,140,130,132,141,13,5,32,142,5,143,141,141,13,4,140,142,8,143,141,255
2930 DATA 3,32,136,142,140,13,136,131,143,135,137,13,2,129,134,138,130,132,129,13,32,129,138,32,129,13,32,32,138,255
2940 DATA 3,32,133,13,32,133,13,32,133,13,32,133,13,32,133,13,2,142,143,132,13,1,143,143,133,13,135,135,133,13,129,129,129,255  
2950 DATA 1,143,143,143,13,143,2,109,1,143,13,143,143,143,255 
2960 DATA 1,139,32,2,140,140,32,140,13,130,131,129,130,131,129,255
2970 DATA 32,1,136,141,13,32,142,143,132,13,136,143,143,141,13,142,143,143,143,132,13,131,131,131,131,129,255
2980 DATA 2,130,132,138,32,134,13,32,130,142,134,13,131,131,143,135,131,129,13,32,134,138,130,132,13,130,32,130,32,130,255
2990 DATA 2,142,131,141,13,130,143,129,13,32,143,13,32,143,140,13,32,143,140,255
3000 DATA 2,143,32,143,13,13,1,132,32,136,13,130,140,129,255 
3010 DATA 2,141,140,142,13,141,140,142,13,141,140,142,13,141,140,142,13,141,140,142,13,129,32,130,255 
3020 DATA 3,32,32,32,142,132,13,32,32,136,143,141,13,32,32,142,143,143,132,13,2,32,32,138,139,139,13,32,32,138,139,139,13,32,32,130,140,134,13,3,32,136,143,143,143,141,13,32,143,139,143,143,139,133,13
3030 DATA 32,143,138,143,143,138,133,13,32,139,4,143,129,13,32,136,142,143,143,140,13,32,5,143,133,13,138,6,143,13,7,143,133,13,32,32,143,32,138,133,13,32,32,143,32,138,133,13   
3040 DATA 2,32,136,143,32,138,141,255
3050 DATA green frog,22,walking stick,17
3060 DATA pink mouse,41,magic plant,1
3070 DATA broomstick,10,book of spells,16
3080 DATA glow-worm,28,witch's hat,35,magic star,38,shiny key,4,black cat,13,rope ladder,33
3120 DATA in the oven,the kitchen,E
3130 DATA by a shed,the back window,W
3140 DATA in a flower garden,the wooden gate,E
3150 DATA in the library,the bedroom,N
3160 DATA outside the crooked house,inside the crooked house,E
3170 DATA in the vegetable garden,the kitchen,S
3180 IF INSTR(d$(loc),"N")<>0 THEN LOCATE comx+2,comy:IF flash=1 THEN PRINT "N" ELSE PRINT " "
3190 IF INSTR(d$(loc),"E")<> 0 THEN LOCATE comx+4,comy+2:IF flash=1 THEN PRINT "E" ELSE PRINT " "
3200 IF INSTR(d$(loc),"N")<> 0 THEN LOCATE comx+2,comy:IF flash=1 THEN PRINT "N" ELSE PRINT " "
3220 IF INSTR(d$(loc),"S")<> 0 THEN LOCATE comx+2,comy+4:IF flash=1 THEN PRINT "S" ELSE PRINT " "
3230 IF INSTR(d$(loc),"W")<>0 THEN LOCATE comx,comy+2:IF flash=1 THEN PRINT "W" ELSE PRINT " "
3235 tme = TIME
3240 flash=-flash : RETURN
3250 framecol=2:letcol=3
3270 comx=36:comy=21
3280 LOCATE comx,comy
3290 PEN framecol
3300 PRINT CHR$(150);CHR$(152);
3310 PEN letcol:LOCATE comx+2,comy
3320 PRINT "N";:PEN framecol:PRINT CHR$(146);CHR$(156)
3330 LOCATE comx,comy+1 : PRINT CHR$(145);"   ";CHR$(145)
3340 LOCATE comx,comy+2:PEN letcol:PRINT "W ";:PEN framecol:PRINT"+";:PEN letcol:PRINT" E"
3350 LOCATE comx,comy+3:PEN framecol:PRINT CHR$(149);"   ";CHR$(149)
3360 LOCATE comx,comy+4:PRINT CHR$(147);CHR$(152);
3370 PEN letcol:PRINT "S";:PEN framecol:PRINT CHR$(146);CHR$(153);
3380 PEN 3:RETURN
3390 FOR ip=1 TO LEN(prtxt$)
3410 apa$=MID$(prtxt$,ip,1):POKE 385,ASC(apa$)
3420 CALL 384
3430 PRINT CHR$(254)CHR$(10)CHR$(8)CHR$(255)CHR$(11);
3440 NEXT ip
3450 PRINT:PRINT:RETURN
3470 GOSUB 5930 :RETURN
3480  a=717:b=852:c=569:t=40: 'nah 
3490 SOUND 2,a,40,4
3500 SOUND 2,b,40,4
3510 SOUND 2,c,20,4
3520 SOUND 2,a,40,4
3530 SOUND 2,b,40,4
3540 GOSUB 3660:RETURN
3550 ENT 1,50,1,1,50,-1,1 :'raspberry
3560 ENV 1,1,14,1,14,1,1
3570 SOUND 1,2400,100,1,1,1
3580 RETURN
3590 n=2:'expectant
3600 ENT 1,127,-n,1,127,-n,1,127,-n,1,127,-n,1 ,127,-n,1
3610 ENV 1,1,15,1
3620 SOUND 1,1000,500,0,1,1
3630 ENV 1,15,-1,1
3640 SOUND 1,100,50,7,,1,10
3650 RETURN
3660 tone=1000 
3670 FOR sou=1 TO 3 
3680 SOUND 2,tone,50,4,,,1
3690 SOUND 2,tone,20,0
3700 tone=tone*1.9
3710 NEXT sou : RETURN
3720  ENV 1,1,0,20 : 'pickup
3730 ENT 1,2,5,1,2,-10,1,2,5,1,2,-10,1
3740 SOUND 1,20,30,7,1,1 
3750 ENT 1
3760 SOUND 1,400,15,5,,1
3770 RETURN
3780 ENT 1,2,10,40:'noway
3790 SOUND 1,20,80,5,,1 
3800 ENT 1
3810 SOUND 1,200,50,5,,1,30
3820 RETURN  
3830 ENT 1,1,20,0 :'cave
3840 ENV 1,10,1,1,10,-1,1,1,1,0
3850 FOR i=0 TO 10
3860 j=INT(RND(6)*10) 
3870 SOUND 1,j,50,3,1,1
3880 NEXT i 
3890 GOSUB 3660
3900 ENV 2,80,1,0,80,-1,0 : 'caught
3910 ENT 2,239,2,2
3920 SOUND 2,180,20,7,1,1,10
3930 ENT 2
3940 GOSUB 3660 : RETURN
3950 ENV 1,80,1,0,80,-1,0: 'dnlad
3960 ENT 1,239,2,2
3970 SOUND 1,100,160,7,1,1 
3980 RETURN
3990  ENT 1,127,20,1 : 'splash
4000  ENV 1,1,0,186,14,-1,1 
4010  SOUND 1,400,100,3,1,1,12
4020 RETURN
4030 ENV 1,80,1,0,80,-1,0: 'uplad
4040 ENT 1,100,-2,2  
4050 SOUND 1,280,160,7,1,1
4060 RETURN
4070 RETURN
4080 'snarl
4090 REM
4100 datum=TIME+wtime*300
4110 i$=""
4120 WHILE TIME<datum AND i$=""
4130 i$=INKEY$
4140 WEND
4150 RETURN
4160 PEN 3:PRINT :PRINT "If you have a joystick then you"
4170 PRINT "can use it to show in which direction"
4180 PRINT "you wish to move. Use the FIRE button":PRINT"for GET. (You must still press U for UP"
4190 PRINT "and D for DOWN)."
4200 PEN 2:RETURN
4210 i$=UPPER$(INKEY$):jin=JOY(0)
4220 IF TIME-tme>150 THEN GOSUB 3190
4230 IF i$="" AND jin=0 THEN 4210
4240 IF jin=1 THEN i$="N"
4250 IF jin=2 THEN i$="S"
4260 IF jin=4 THEN i$="W"
4270 IF jin=8 THEN i$="E"
4275 IF jin=16 THEN i$="G"
4280 RETURN
4290 'clear sound buffers
4300 SOUND 135,1
4310 RETURN
4320 xrem=POS(#0)
4330 rep=0
4340 FOR i=2 TO pict(1)
4350 j=pict(i)
4360 IF rep<>0 THEN FOR k=1 TO rep:PRINT CHR$(j);:NEXT : rep=0 : GOTO 4410
4370 IF j<4 THEN PEN j : GOTO 4410 
4380 IF j=13 THEN LOCATE xrem,VPOS(#0)+1: GOTO 4410
4390 IF j<25 THEN rep=j : GOTO 4410
4400 PRINT CHR$(j);
4410 NEXT i
4420 PRINT
4430 RETURN
4440 'restore picture for loc
4450 ON pic+1 GOTO 4460,4470,4480,4490,4500,4510,4520,4530,4540,4550,4560,4570,4580,4590,4600,4610,4620,4630,4640,4650,4660,4670,4680,4690,4700,4710,4720,4730,4740,4750,4760,4770,4780,4790,4800,4810,4820,4830,4840,4850,4860,4870
4460 RESTORE 1800 : RETURN
4470 RESTORE 1810 : RETURN
4480 RESTORE 1830 : RETURN
4490 RESTORE 1850 : RETURN
4500 RESTORE 1860 : RETURN
4510 RESTORE 1880 : RETURN
4520 RESTORE 1900 : RETURN
4530 RESTORE 1920 : RETURN
4540 RESTORE 1930 : RETURN
4550 RESTORE 1940 : RETURN
4560 RESTORE 1950 : RETURN
4570 RESTORE 1960 : RETURN 
4580 RESTORE 1980 : RETURN
4590 RESTORE 2000 : RETURN
4600 RESTORE 2010 : RETURN
4610 RESTORE 2030 : RETURN 
4620 RESTORE 2040 : RETURN
4630 RESTORE 2050 : RETURN
4640 RESTORE 2060 : RETURN
4650 RESTORE 2070 : RETURN
4660 RESTORE 2100 : RETURN
4670 RESTORE 2110 : RETURN
4680 RESTORE 2130 : RETURN
4690 RESTORE 2140 : RETURN
4700 RESTORE 2170 : RETURN
4710 RESTORE 2180 : RETURN
4720 RESTORE 2190 : RETURN
4730 RESTORE 2210 : RETURN
4740 RESTORE 2230 : RETURN
4750 RESTORE 2260 : RETURN
4760 RESTORE 2270 : RETURN
4770 RESTORE 2290 : RETURN
4780 RESTORE 2310 : RETURN
4790 RESTORE 2320 : RETURN
4800 RESTORE 2340 : RETURN
4810 RESTORE 2350 : RETURN
4820 RESTORE 2370 : RETURN
4830 RESTORE 2390 : RETURN
4840 RESTORE 2400 : RETURN
4850 RESTORE 2420 : RETURN
4860 RESTORE 2430 : RETURN
4870 RESTORE 2470 : RETURN
4880 v=0
4890 i=2
4900 WHILE v<> 255
4910 READ v: pict(i)=v
4920 i=i+1
4930 WEND
4940 pict(1)=i-2
4950 RETURN
4960 'define characters for walls
4970 SYMBOL 250,&FF,&FF,&FF,&FF,&FF,&FF,0,0  
4980 SYMBOL 251,&FC,&FC,&FC,&FC,&FC,&FC,0,0
4990 RETURN
5010 CLS
5020 GOSUB 5120
5030 GOSUB 4880
5040 GOSUB 4320
5050 GOTO 5000
5060 'down a waterfall
5070 WINDOW 20,30,1,13
5080 i$="":WHILE i$=""
5090 sp=RND(3) : PRINT SPACE$(sp);:p=RND(3)*10:PEN  p:PRINT CHR$(252);
5100 i$=INKEY$
5110 WEND : WINDOW 1,40,1,25:PEN 2:RETURN
5120 'restore pictures for objects
5130 ON pic+1 GOTO 5140,5150,5160,5170,5180,5190,5200,5210,5220,5230,5240,5250,5260
5140 IF o(0)=42 OR fch=1 THEN RESTORE 5280:RETURN ELSE RESTORE 2900 :RETURN
5150 IF o(1)=42 OR sch=1 THEN RESTORE 5310:RETURN ELSE RESTORE 2910 :RETURN 
5160 IF o(2)=42 OR mch=1 THEN RESTORE 5330:RETURN ELSE RESTORE 2920:RETURN
5170 RESTORE 2930 :RETURN
5180 RESTORE 2940 :RETURN
5190 RESTORE 2950 :RETURN
5200 RESTORE 2960 :RETURN
5210 RESTORE 2970 :RETURN
5220 RESTORE 2980 :RETURN
5230 RESTORE 2990 :RETURN
5240 RESTORE 3000 :RETURN
5250 RESTORE 3010 :RETURN
5260 RESTORE 3020 : RETURN : 'witch
5270 'pic defs for FRED,SWORD,HORSE
5280 DATA 3,32,4,136,13,3,32,138,142,142,142,13,1,32,32,135,135,133,13,32,32,135,135,133,13,32,32,137,140,129,13 
5290 DATA 3,136,4,143,141,255,13,138,135,143,143,135,143,13,138,135,143,143,133,143,13,138,135,143,143,133,143,13,1,138,3,32,143,143,133,1,138,13 
5300 DATA 3,32,32,143,138,133,13,32,32,143,138,133,13,32,32,143,138,133,13,2,32,130,131,130,131,255
5310 DATA 1,32,32,32,142,132,13,32,32,32,138,13,32,32,32,142,132,13,136,136,142,143,143,140,136,13,139,139,4,143,139,129,13,32,32,130,143,135,13
5320 DATA 2,32,32,32,133,133,13,32,32,32,133,133,13,32,32,32,133,133,13,32,32,32,133,133,13,32,32,32,138,13,32,32,32,138,13,32,32,32,138,255
5330 DATA 1,32,32,32,132,13,32,32,142,141,13,32,142,143,143,141,6,32,142,131,13,32,32,32,139,7,143,129,13,32,32,32,138,6,143,135,13
5340 DATA 32,32,142,131,138,32,32,32,136,135,133,140,132,13,32,32,133,32,130,141,132,32,135,32,131,129,13,32,32,129,5,32,129,255 
5350 'data for colours of pics
5360 DATA 14,0,3,1,3,3
5370 DATA 1,15,18,24,3,3
5380 DATA 1,26,24,18,1,1
5390 DATA 1,15,24,26,2,3
5400 DATA 1,15,26,24,3,2
5410 DATA 1,15,24,6,1,2
5420 DATA 1,15,24,6,1,2
5430 DATA 11,3,24,0,2,2
5440 DATA 1,26,24,18,1,1
5450 DATA 1,26,24,18,1,1
5460 DATA 1,15,24,15,2,3
5470 DATA 1,15,26,13,1,2
5480 DATA 1,15,24,18,1,1
5490 DATA 0,26,18,11,1,2
5500 DATA 1,18,24,14,2,2
5510 DATA 1,26,24,18,1,1
5520 DATA 1,26,24,18,1,1
5530 DATA 14,1,26,3,1,2
5540 DATA 14,18,24,1,1,2
5550 DATA 1,6,24,15,2,2
5560 DATA 1,15,24,18,1,2
5570 DATA 1,6,24,18,2,2
5580 DATA 1,15,18,26,2,3
5590 DATA 9,26,24,18,1,1
5600 DATA 14,26,3,1,1,3
5610 DATA 14,0,24,9,2,3
5620 DATA 1,13,15,6,2,3
5630 DATA 1,26,24,18,1,1
5640 DATA 1,26,24,15,1,1
5650 DATA 1,15,24,18,1,2
5660 DATA 1,15,24,18,2,2
5670 DATA 14,6,1,26,2,3
5680 DATA 1,15,24,26,2,3
5690 DATA 0,26,15,24,1,2
5700 DATA 1,15,24,18,1,2
5710 DATA 0,11,18,24,2,3
5720 DATA 1,26,24,18,1,1
5730 DATA 0,15,9,26,2,3
5740 DATA 14,1,7,26,1,3
5750 DATA 1,26,4,11,1,1 
5760 DATA 1,16,26,6,2,2
5770 DATA 1,26,16,18,1,3
5780 FOR i=0 TO 41
5790 FOR j=0 TO 5
5800 READ pcols(i,j)
5810 NEXT j: NEXT i : RETURN
5830 temp=from(a)
5850 FOR j=0 TO 3:INK j,pcols(temp,j):NEXT j           
5860 BORDER pcols(temp,0)
5870 RETURN
5880 ENV 1,50,5,1
5900 ENT 1,127,-10,1 
5910 SOUND 1,1000,100,1,1,1
5920 RETURN
5930 'snarl
5940 ENT 1,10,0,1,20,50,1,20,50,1,20,50,1
5950 ENV 1,1,14,1,14,1,1
5960 SOUND 1,1000,100,3,1,1 
5970 RETURN
5990 ENT 1:ENV 1
6000 a1=0.3 : b1=0.3
6010 vol=4
6020 l=30
6030 ENV 1,5,3,1,1,0,16,5,-3,2
6040 'ENT 1,5,1,1,5,-2,1,5,1,1   
6050 'ENT 2,2,1,1,2,-2,1,2,1,1  
6060 FOR i=1 TO 54
6070 IF i=5 OR i=23 OR i=41 THEN RESTORE 6220
6080 IF i=14 OR i=32 OR i=50 THEN RESTORE 6220
6090 IF i=19 OR i=37 THEN RESTORE 6220
6100 READ a,b
6110 FOR k=0 TO 2
6120 READ a,b
6130 SOUND 1,a*a1,l,vol,,1
6140 SOUND 2,b*b1,l,vol,,1 
6150 NEXT k
6160 SOUND 17,a*a1,l,vol,,1
6170 SOUND 10,b*b1,l,vol,,1 
6180 a$=UPPER$(INKEY$):IF a$="" THEN 6190   ELSE a=ASC(a$):IF a=32 AND j<3 THEN j=j+1:CLS:GOSUB 1520 ELSE IF j>2 AND a=89 THEN CLS: j=4: i=54 ELSE IF j>2 AND a=78 THEN CLS : j=1: GOSUB 1520
6190 IF j=0 AND i=18 THEN j=j+1:CLS:GOSUB 1520 
6200 NEXT i
6210 RETURN
6220 DATA 1012,506,1012,506,1073,478,1073,426
6230 DATA 956,358,956,358,956,379,956,379
6240 DATA 1276,284,1276,284,1276,253,1276,284
6250 DATA 1276,506,1276,426,1276,506,1276,426
6260 DATA 1351,426,1351,426,1276,426,1276,426
6270 DATA 568,284,568,284,568,301,568,284
6280 DATA 568,253,568,253,568,284,568,301
6290 DATA 568,284,568,284,568,284,568,358
6300 DATA 568,379,602,379,638,379,602,379
6460 'titles
6470 PEN 2:LOCATE 1,1:PRINT TAB(34)"Ž„":PRINT TAB(34)"Š":PRINT TAB(34)"Ž„":PEN 1
6480 PRINT" ‡… ‡…  ‡…   †ƒƒ‰  ‡… ˆƒƒƒ…";:PEN 2:PRINT"   ˆˆŽŒˆ":PEN 2
6485 LOCATE 15,1 :prtxt$="THE":GOSUB 3390:PEN 1
6490 PRINT:PRINT:PRINT" …‹Ž… ˆ‰‰  ˆ‰ƒƒƒ  ……ˆ‰ƒƒƒ";:PEN 2:PRINT"   ‹‹‹":PEN 1
6500 PRINT" …‰…… ŠŠŠ  †Š     ……ŠŠ ";:PEN 2:PRINT"        ‚‡":PEN 1
6510 PRINT" ………… …ƒ… …… ‡ƒ‹ ……ŠŠ ";:PEN 2:PRINT"         ……":PEN 1
6520 PRINT" …… ……ˆ‰ƒ‰‰ ‰‚Œ…‡ ……Š‚ŒŒŒ„";:PEN 2:PRINT"      ……":PEN 1
6530 PRINT" … …ŠŽ ŠŽ  ‰ŒŒŒ … ‰ŒŒŒ…";:PEN 2:PRINT"      ……":PEN 1
6540 PEN 2:PRINT SPC(33)"……":PEN 1
6550 PRINT"  ˆŒŒ Œ„  Œ„  ŒŒ„ ˆŒŒ„ ˆŒŒŒ„";:PEN 2:PRINT"     ……":PEN 1
6560 PRINT" ˆ‰ŒŽ ……  …… †ˆŒ‚„ŠˆŒ‚„ŠˆŒŒ‚„";:PEN 2:PRINT"    ……":PEN 1
6570 PRINT" ……   ……  ……ˆ‰ ‰‰ŠŠŽ …ŠŠ  ‰Š";:PEN 2:PRINT"    Š":PEN 1
6571 PRINT" ‰†‰„ ……  ……ŠŠ  ŠŠŠ  † ŠŠ  ŠŠ";:PEN 2:PRINT"    Š":PEN 1
6572 PRINT"  ‚‰Š ……†„……‚†„ ††ŠŠ‰Š ŠŠ  †Š";:PEN 2:PRINT"    Š":PEN 1
6573 PRINT" ‡ƒ† ‰‚ˆ‚ˆ ‰‚ƒˆŠŠ‚„…Š‚ƒƒˆ";:PEN 2:PRINT"    Š":PEN 1
6574 PRINT" ƒƒƒ   ƒƒ   ƒƒ ‚ƒ ƒ ‚ƒƒƒ";:PEN 2:PRINT"     Š":PEN 1
6580 PEN 3:PRINT:PRINT "The Micro Adventures of Princess Poppy"
6590 PRINT SPC(9)"and the Frog Prince."
6610 PEN 1:PRINT:PRINT SPC(5)"By Kristin and Martin Hollis"
6630 PEN 2:PRINT:PRINT SPC(7)CHR$(164);" Database Publications"
6640 RETURN
6650 'wedding tune
6660 DATA 0,10,478,10,358,10,358,5,358,20,0,5,478,10,319,10,379,5,358,20,0,5,478,10,358,10,284,5
6670 DATA 239,10,284,10,358,5,426,10,319,10,284,5,318,20
6680 RESTORE 6660
6690 READ p,d:d=d*5
6700 IF p=0 THEN SOUND 1,0,d,0:SOUND 2 ,0,d,0 ELSE SOUND 1,p,d,5:SOUND 1,0,1,0:SOUND 2,p,d,5:SOUND 2,0,1,0
6710 i$="":i$=INKEY$
6720 IF p=318 AND i$="" THEN 6680
6730 IF i$="" THEN 6690
6740 RETURN
6900 smoke=(smoke+1):IF smoke>6 THEN smoke=0
6905 FOR i=1 TO 100:NEXT
6910 ON smoke GOSUB 7050,7040,7030,7020,7010,7000:RETURN
7000 LOCATE 1,1:PRINT"    ƒ":PRINT"    ":PRINT"   ":RETURN
7010 LOCATE 1,1:PRINT"    ƒ":PRINT"   ƒ":PRINT"   ":RETURN
7020 LOCATE 1,1:PRINT"    ƒ":PRINT"   ƒ":PRINT"  ƒ":RETURN
7030 LOCATE 1,1:PRINT"     ":PRINT"   ƒ":PRINT"  ƒ":RETURN 
7040 LOCATE 1,1:PRINT"     ":PRINT"    ":PRINT"  ƒ":RETURN
7050 LOCATE 1,1:PRINT"     ":PRINT"    ":PRINT"   ":RETURN
8000 FOR I=1 TO 10:A$=INKEY$:NEXT:RETURN