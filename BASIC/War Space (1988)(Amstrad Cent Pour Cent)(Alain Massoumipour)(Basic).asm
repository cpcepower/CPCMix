10 '**************************
20 '*                        *
30 '*   W A R    S P A C E   *
40 '*                        *
50 '*  ALAIN MASSOUMIPOUR    *
60 '*                        *
70 '*  SE JOUE EXCLUSIVEMENT *
80 '*     AU    JOYSTICK     *
90 '*                        *
100 '**************************
110 '*** PRESENTATION ***
120 '********************
130 SYMBOL AFTER 32:MEMORY 30000:LOAD"WAR.BIN":GOSUB 230
140 MODE 0:COU=10:CALL &BB00:CALL &BB48:FOR I=0 TO 15:INK I,1:NEXT
150 BORDER 1:LOAD"WAR.ECR":GOSUB 1110:INK 9,1:GOSUB 1140
160 FOR I=10 TO 15:INK I,13:NEXT:SPEED INK 6,6:BAT=1
170 EVERY 6 GOSUB 180:GOSUB 1260:A=REMAIN(0):GOTO 650
180 INK COU,13:COU=COU+1:IF COU=16 THEN COU=10
190 INK COU,26:RETURN
200 '******************
210 '*** ENVELOPPES ***
220 '******************
230 ENT -1,1,-8,1:ENV 1,1,12,1,8,-1,4,4,-1,10
240 ENT -2,1,8,2,1,-8,2:ENV 2,1,15,1,15,-1,12
250 ENT -3,4,120,1,4,-120,1:ENV 3,1,12,1,12,-1,20
260 ENT -4,1,10,1:ENV 4,2,-4,1,2,4,1
270 ENV 5,1,13,1,3,-2,6:ENT 5,4,20,1,4,-20,1
280 ENV 6,4,1,10,4,-1,10:ENT -6,2,4,3,2,-4,3
290 ENT -7,1,-75,1,4,25,3 :ENV 7,1,15,2,5,-3,4
300 ENT -8,1,1,3,1,-1,3,1,0,1,1,1,3,1,-1,3:ENV 8,1,12,1,1,0,1,1,0,1,12,-1,8
310 '*********************
320 '*** REDEFINITIONS ***
330 '*********************
340 SYMBOL 48,24,60,36,44,52,36,60,24
350 SYMBOL 49,24,56,24,24,24,24,24,60
360 SYMBOL 50,60,60,12,12,48,48,60,60
370 SYMBOL 51,60,60,12,28,28,12,60,60
380 SYMBOL 52,48,48,48,48,52,60,60,4
390 SYMBOL 53,60,60,48,48,12,12,60,60
400 SYMBOL 54,48,48,48,60,60,36,36,60
410 SYMBOL 55,60,60,12,12,12,12,12,12
420 SYMBOL 56,60,52,52,24,24,44,44,60
430 SYMBOL 57,60,36,36,60,60,12,12,12
440 SYMBOL 58,70,207,73,75,77,73,79,230
450 SYMBOL 59,68,204,68,68,68,68,68,238
460 SYMBOL 200,247,247,198,198,54,54,247,247
470 SYMBOL 201,187,187,170,43,43,170,186,186
480 SYMBOL 202,222,222,88,220,156,152,222,222
490 SYMBOL 203,219,216,219,219,219,219,115,35
500 SYMBOL 204,120,97,97,112,112,97,97,120
510 SYMBOL 205,127,128,128,128,128,128,128,127
520 SYMBOL 206,255,0,0,0,0,0,0,255
530 SYMBOL 207,254,1,1,1,1,1,1,254
540 SYMBOL 208,124,130,130,130,130,130,130,124
550 SYMBOL 209,0,0,56,32,48,32,0,0
560 SYMBOL 210,0,124,68,92,76,92,124,0
570 SYMBOL 211,0,255,255,255,255,255,255,0
580 DATA 3,31,127,128,224,248,18,63,255,12,30,191,0,0,174
590 T$="":RESTORE 580:FOR I=212 TO 216:READ A,B,C
600 SYMBOL I,A,B,C,255,255,255,255,255:T$=T$+CHR$(I):NEXT
610 RETURN
620 '***********************
630 '*** DESSIN DU DECOR ***
640 '***********************
650 FOR I=0 TO 15:INK I,0:NEXT
660 MODE 0:PAPER 0:CLS:BORDER 0
670 PRINT CHR$(22)CHR$(1):RESTORE 680:FOR I=208 TO 210
680 READ A:PEN A:LOCATE 1,1:PRINT CHR$(I);:NEXT:PEN 7
690 DATA 7,6,2
700 PRINT STRING$(2,211);:PEN 5:PRINT STRING$(6,211)
710 PEN 8:LOCATE 2,1:PRINT CHR$(205);STRING$(6,206);CHR$(207)
720 PEN 9:LOCATE 1,22:FOR I=1 TO 4:PRINT T$;:NEXT
730 WINDOW #1,1,20,23,25:PAPER #1,9:CLS#1:P=10
740 WINDOW #2,5,17,10,14:PAPER #2,2:PEN #2,6
750 FOR I=80 TO 368 STEP 32:DEB=INT(RND*10):COU=INT(RND*5)+10
760 FOR X=DEB TO 640 STEP 32:COU=COU+1:IF COU=16 THEN COU=10
770 PLOT X,I,COU:NEXT X,I
780 RESTORE 800:FOR I=11 TO 20:READ C:IF C<100 THEN PEN 7 ELSE PEN 1
790 LOCATE I,1:PRINT CHR$(C);:NEXT:PRINT CHR$(22)CHR$(0)
800 DATA 200,201,202,48,48,48,32,203,204,52
810 GOSUB 1110
820 '**********************
830 '*** INITIALISATION ***
840 '**********************
850 DATA 7C1F,0,7C1E,0,7BED,0,7962,0,782C,0,7920,0,7640,254,79B4,28
860 DATA 79B5,1,7641,193,7642,30,7643,10,7BEC,1,7A77,1,7886,124,7887,117
870 RESTORE 850:DM=4:FOR I=1 TO 16:READ A$,A:POKE VAL("&"+A$),A:NEXT:GOTO 960
880 '*****************
890 '*** LANCEMENT ***
900 '*****************
910 PEN 7:PLOT 0,0,0:CALL &761C
920 WHILE SQ(1)<>4:WEND
930 '******************************
940 '*** TESTS DE FIN DE PARTIE ***
950 '******************************
960 DM=DM-1:IF DM=-1 THEN 1040
970 IF PEEK(&79B4)=32 THEN 1040
980 CALL &7C20:CLS#2:PRINT#2:PRINT#2," APPUYEZ SUR":
990 PRINT#2:PRINT#2," UNE TOUCHE."
1000 GOSUB 1260:CALL &7C37
1010 PEN 7:LOCATE 20,1:PRINT USING"#";DM;
1020 AD=&7640:POKE AD,254:POKE AD+1,193:POKE AD+2,30:POKE AD+3,10
1030 GOTO 910
1040 CALL &7C20:CLS#2
1050 LOCATE #2,4,2:PRINT#2,"G A M E"
1060 LOCATE #2,4,4:PRINT#2,"O V E R"
1070 GOSUB 1260:CALL &7C37:GOTO 650
1080 '**************
1090 '*** ENCRES ***
1100 '**************
1110 DATA 0,14,2,0,0,15,20,6,9,16,0,0,0,0,0,0
1120 RESTORE 1110:FOR I=0 TO 15:READ A:INK I,A:NEXT
1130 INK 3,24,15:INK 4,15,24:INK 12,26:RETURN
1140 '**********************
1150 '*** DATAS MUSIQUES ***
1160 '**********************
1170 DATA 536,478,402,478,536,478,402,358,319,478,319,478,301,358
1180 DATA 478,239,319,402,478,239,358,426,506,213,402,478,201,239
1190 DATA 268,239,201,239,179,268,213,239,119,159,201,239
1200 RESTORE 1170:DIM NOTE(80):FOR I=1 TO 28:READ NOTE(I)
1210 NOTE(I+28)=NOTE(I)/2:NEXT:FOR I=57 TO 68:READ NOTE(I)
1220 NOTE(I+12)=NOTE(I)/2:NEXT:RETURN
1230 '*********************************
1240 '*** ATTENTE CLAVIER & MUSIQUE ***
1250 '*********************************
1260 CALL &BB00:WHILE INKEY$="":CALL &785C
1270 NO=NO+1:IF NO=81 THEN NO=1
1280 SOUND 4,NOTE(NO),-1,1,5:SOUND 4,478,-1,0,5,5
1290 SOUND 2,NOTE(NO)+0.6,-1,1,5,5:SOUND 2,239,-1,0,5,0
1300 SOUND 1,440,19,0,7,7,1+BAT*30:SOUND 1,0,19,0,8,8,1
1310 BAT=BAT XOR 1:WEND:CALL &BCA7:RETURN