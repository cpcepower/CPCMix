10 ' RAVAGER - original concept (c) 1990, Upgrade (c) 1994
20 '
30 ' Programming/Music/FX/Graphics designed by Brad Williams
40 ' 
50 '  ALTARIS is a renegade alien world. You have been sent to ravage
60 ' the planet's surface and inflict maximum casualties in a sneak
70 ' raid. Bomb the buildings and destroy the alien attack craft as
80 ' they attempt to destroy you!
90 '
100 '  Your gunsight requires manual targetting, and your missiles only 
110 'fire when the cross-hairs lie directly on the enemy craft. Bombs will
120 'only fall when you are directly above alien buildings. ENTER will
130 'select between the use of bombs and guns. Have fun!
140 ' 
150 ' This software is PUBLIC DOMAIN and may be freely copied...
160 ' 
170 '----------------------------------------------------------------------
180 '
190 CALL &BC02:MODE 1:PAPER 0:PEN 1:FOR i=0 TO 15:READ n:INK i,n:NEXT:DATA 0,26,12,24,25,0,3,6
200 DATA 10,15,9,13,21,1,2,11
210 BORDER 0:INK 5,15,24:INK 8,6,0:PRINT"Please wait - Ravager is initialising":GOSUB 960:ENV 1,8,-1,1:ENV 2,2,7,2,2,-7,2:ENV 3,15,-1,1:ENV 4,9,60,0:ENV 5,2,-6,4:ENT 1,239,-20,1:ENT 2,2,1,1:ENT 3,50,1,1,50,-1,2:DIM s(20,3),g(20,3):hi$(1)="AMSTRAD"
220 hi$(2)="0200":level=1
230 MODE 1:PEN 1:LOCATE 16,1:PRINT"RAVAGER!":PEN 3:LOCATE 14,4:PRINT"TODAYS BEST:":PEN 2:LOCATE 12,6:PRINT hi$(1):LOCATE 24,6:PRINT hi$(2):PEN 1:LOCATE 8,8:PRINT"USE ";CHR$(240);",";CHR$(241);",";CHR$(242);" AND ";CHR$(243);" TO MOVE":LOCATE 10,10
240 PRINT"PRESS SPACE TO FIRE":LOCATE 6,12:PRINT"(OR USE A JOYSTICK INSTEAD!)":LOCATE 3,14:PRINT"ENTER TOGGLES BETWEEN WEAPON MODES":LOCATE 8,16:PRINT"TO QUIT THE GAME PRESS Q":LOCATE 8,18:PRINT"TO PAUSE RAVAGER PRESS P":PAPER 2:PEN 3:begun=0:level=1
250 RESTORE 1860:WHILE NOT begun
260 READ note:IF note=-1 THEN RESTORE 1860:FOR d=1 TO 100:NEXT:GOTO 260
270 SOUND 7,note,10,15,3:FOR sound.delay=1 TO 50:NEXT sound.delay:LOCATE 1,25:PRINT"  SPACE = START, OR TAB = SELECT LEVEL  ";:IF INKEY(47)=0 THEN begun=-1
280 IF INKEY(68)=0 THEN RESTORE 1860
290 IF INKEY(68)<>0 THEN 310
300 CLEAR INPUT:LOCATE 1,25:PRINT SPACE$(40);:LOCATE 1,25:INPUT"ENTER NEW START LEVEL (1-5): ",level:LOCATE 1,25:PRINT SPACE$(40);:IF level<1 OR level>5 THEN LOCATE 1,25:PRINT"INVALID!":level=1:FOR n=1 TO 500:NEXT:LOCATE 1,25:PRINT SPACE$(40); 
310 WEND:level=level-1:lives=4:sc$="0000":GOSUB 1820:FOR y=1 TO 3:FOR x=1 TO 20:READ s(x,y):NEXT x,y
320 GOSUB 540:aliens=0:' reset player,alien,fuel and weapon mode
330 ON(level MOD 5)+1 GOSUB 1620,1660,1700,1740,1780:FOR y=1 TO 3:FOR x=1 TO 10:READ g(x,y):g(21-x,y)=g(x,y):NEXT x,y:MODE 0
340 FOR y=1 TO 3:FOR x=2 TO 19:CALL &804C,x,y+3,s(x,y),x,y+17,g(x,y):NEXT x,y:MOVE 27,76,4:DRAWR 586,0:DRAWR 0,279:DRAWR-586,0:DRAWR 0,-279:MOVE 26,26:DRAWR 252,0:DRAWR 0,22:DRAWR-252,0:DRAWR 0,-22:MOVE 312,27:DRAWR 136,0:DRAWR 0,26:DRAWR-136,0:DRAWR 0,-26
350 MOVE 475,27:DRAWR 136,0:DRAWR 0,26:DRAWR-136,0:DRAWR 0,-26:PAPER 0:PEN 1:LOCATE 4,2:PRINT"Hi-Score: ";hi$(2):LOCATE 11,23:PRINT SPACE$(4):LOCATE 16,23:PRINT sc$:CALL &804C,ex,ey,8,sx-1,16,2:CALL &804C,sx,16,1,sx+1,16,3:CALL &804C,sx,sy,4
360 FOR x=11 TO 11+(lives-1):CALL &804C,x,23,19:NEXT:FOR x=32 TO(269-f):PLOT x,32,7:DRAWR 0,10:NEXT:REM the main game loop begins here!
370 WHILE aliens<=9:IF INKEY(27)=0 THEN GOSUB 560:' P = pause (SPACE = release)
380 IF INKEY(67)=0 THEN GOSUB 800:' Q = quit
390 IF INKEY(6)=0 THEN GOSUB 620:' ENTER = toggle weapon mode
400 IF(INKEY(47)=0 OR INKEY(76)=0)THEN ON wm GOSUB 660,690:' weapon fired!
410 osx=sx:osy=sy:sx=osx+((INKEY(1)-INKEY(8))OR(INKEY(75)-INKEY(74))):sy=osy+((INKEY(2)-INKEY(0))OR(INKEY(73)-INKEY(72))):IF sx<3 THEN sx=3 ELSE IF sx>18 THEN sx=18
420 IF sy<7 THEN sy=7 ELSE IF sy>15 THEN sy=15
430 IF sx<>osx OR sy<>osy THEN CALL &804C,osx,osy,0,osx-1,16,0:CALL &804C,osx,16,0,osx+1,16,0
440 CALL &804C,sx-1,16,2,sx,16,1:CALL &804C,sx+1,16,3,sx,sy,4:a=INT(RND(TIME)*4)+1:oex=ex:oey=ey:IF a=1 AND ex<3 THEN ex=oex-1
450 IF a=2 AND ey>7 THEN ey=oey-1
460 IF RND>0.91 AND(ex>3 OR ex<18)THEN GOSUB 770:' rem alien fires back!
470 IF a=3 AND ey<15 THEN ey=oey+1
480 IF a=4 AND ex<18 THEN ex=oex+1
490 IF ex<>oex OR ey<>oey THEN CALL &804C,oex,oey,0,ex,ey,8
500 GOSUB 590:' fuel reserve drops
510 WEND:bonus=(INT((RND(TIME)*99)+1)+level*10):GOSUB 750:' update score with random level bonus
520 level=level+1:IF lives<4 THEN lives=lives+1
530 GOTO 320
540 REM reset player,alien,fuel and weapon mode
550 sx=10:sy=13:f=1:wm=1:ex=INT(RND(TIME)*16)+3:ey=INT(RND(TIME)*9)+7:RETURN
560 REM pause game
570 p$=SPACE$(14)+"GAME PAUSED - PRESS SPACE TO CONTINUE"+SPACE$(14):WINDOW#1,3,17,12,12:PAPER#1,0:PEN#1,5:n=1:WHILE INKEY(47)<>0:LOCATE#1,1,1:PRINT#1,MID$(p$,n,14);:FOR d=1 TO 100:NEXT:n=n+1:IF n>LEN(p$)THEN n=1
580 WEND:CLS#1:CALL &804C,ex,ey,8,sx,sy,4:CALL &804C,sx-1,16,2,sx,16,1:CALL &804C,sx+1,16,3:CLEAR INPUT:RETURN
590 REM fuel reserve drops
600 IF(269-f)=32 THEN 930' lose a life when fuel runs out!
610 PLOT(269-f),32:DRAWR 0,10,0:f=f+1:SOUND 2,400,2,6:RETURN
620 REM toggle between weapon modes (guns/bombs)
630 wm=wm+1:IF wm=3 THEN wm=1
640 LOCATE 5,12:PEN 5:IF wm=1 THEN BORDER 6:PRINT"GUNS SELECTED " ELSE BORDER 18:PRINT"BOMBS SELECTED"
650 FOR d=1 TO 100:NEXT:BORDER 0:LOCATE 2,12:PRINT SPACE$(18);:RETURN
660 REM fire guns
670 SOUND 2,200,10,8,0,1:IF sx<>ex OR sy<>ey THEN RETURN:' you can't hit alien on an angle!
680 my=15:WHILE my<>ey:omy=my:my=omy-1:CALL &804C,sx,omy,0,sx,my,18:FOR d=1 TO 15:NEXT:WEND:hx=ex:hy=ey:aliens=aliens+1:GOSUB 730:ex=INT(RND(TIME)*16)+3:ey=INT(RND(TIME)*9)+7:bonus=10:GOSUB 750:RETURN
690 REM drop bomb
700 SOUND 1,300,10,12,0,1:FOR y=1 TO 2:gd=g(sx,y):hx=sx:hy=17+y:bonus=INT(RND(TIME)*20)+10:IF gd=9 THEN GOSUB 730:CALL &804C,hx,hy,20:g(sx,y)=20:GOSUB 750
710 IF gd=11 THEN CALL &804C,hx,hy-1,0:GOSUB 730:CALL &804C,hx,hy,20:g(sx,y-1)=0:g(sx,y)=20:GOSUB 750
720 NEXT:RETURN
730 REM display the explosion at co-ordinates (hx,hy)
740 SOUND 2,500,15,12,3,2,30:CALL &804C,hx,hy,7:FOR d=1 TO 150:NEXT:CALL &804C,hx,hy,6:FOR d=1 TO 150:NEXT:CALL &804C,hx,hy,7:FOR d=1 TO 150:NEXT:CALL &804C,hx,hy,0:RETURN
750 REM update score
760 sc=VAL(sc$)+bonus:sc$=MID$(STR$(sc),2):WHILE LEN(sc$)<4:sc$="0"+sc$:WEND:PEN 1:LOCATE 16,23:PRINT sc$;:RETURN
770 REM alien retaliates with it's guns!
780 FOR n=100 TO 200 STEP 20:SOUND 1,n,5,10,1,1:NEXT:my=ey+1:WHILE my<>16:omy=my:my=omy+1:CALL &804C,ex,omy,0,ex,my,18:FOR n=1 TO 15:NEXT:WEND:IF ex=sx THEN GOSUB 930:' the player just lost a life  (Ha Ha Ha!)
790 CALL &804C,ex,16,0:RETURN
800 REM quit game - why do that? It's too good to leave alone!
810 PEN 5:LOCATE 5,13:PRINT" QUIT (Y/N) ";
820 i$=LOWER$(INKEY$):IF i$<>"y"AND i$<>"n"THEN 820
830 IF i$="n"THEN LOCATE 5,13:PRINT SPACE$(12):CALL &804C,sx,sy,4,sx-1,16,2:CALL &804C,sx,16,1,sx+1,16,3:CALL &804C,ex,ey,8:RETURN
840 REM end of the game is here
850 MODE 1:PAPER 0:PEN 1:LOCATE 3,2:PRINT"WELL MIGHTY RAVAGER, IT LOOKS LIKE":CLEAR INPUT:LOCATE 2,4:PRINT"IT'S THE END OF THE ROAD FOR YOU ...":IF VAL(sc$)<VAL(hi$(2))THEN PEN 3:LOCATE 7,8:PRINT"YOU COULDN'T HACK THE PACE":GOTO 900
860 PEN 3:LOCATE 1,8:PRINT"YOU BEAT THE HISCORE, SO ENTER YOUR NAME":LOCATE 2,10:PRINT"   (WITH A MAXIMUM OF 8 CHARACTERS)"
870 LOCATE 1,12:PRINT SPACE$(40);:hi$(1)=STRING$(8,"."):PEN 2:LOCATE 15,12:PRINT"[";hi$(1);"]":LOCATE 16,12:INPUT"",hi$(1):IF LEN(hi$(1))>8 THEN 870
880 IF hi$(1)=""THEN hi$(1)="UNKNOWN"
890 hi$(2)=sc$:hi$(1)=UPPER$(hi$(1))
900 PEN 1:LOCATE 4,16:PRINT"DO YOU WANT ANOTHER GAME? (Y/N)"
910 i$=LOWER$(INKEY$):IF i$<>"y"AND i$<>"n"THEN 910
920 IF i$="y"THEN 230 ELSE MODE 1:CALL &BC02:PAPER 0:PEN 3:PRINT"THANKYOU FOR PLAYING RAVAGER":PRINT:PEN 1:PRINT"WELCOME BACK TO LOCOMOTIVE BASIC 1.1":PRINT:END
930 REM lose a life (oh dear....)
940 CALL &804C,sx-1,16,0,sx,16,0:CALL &804C,sx+1,16,0,sx,sy,0:hx=sx:hy=16:GOSUB 730:lives=lives-1:LOCATE 11,23:PRINT SPACE$(4):FOR x=11 TO 11+(lives-1):CALL &804C,x,23,19:NEXT:IF lives>0 THEN CALL &804C,ex,ey,0:GOSUB 540:GOTO 340 ELSE 840
950 END
960 REM read machine code SPRITE data & poke it into memory
970 MEMORY &7FFF:ln=500:RESTORE 990:FOR adr=&8032 TO &83D4 STEP 15:READ byte$:chk=0:FOR i=0 TO 14:v=VAL("&"+MID$(byte$,i*2+1,2)):POKE adr+i,v:chk=chk+v:NEXT:READ chk$:IF chk<>VAL("&"+chk$)THEN PRINT"DATA ERROR in LINE";ln:STOP
980 ln=ln+10:NEXT:CALL &8032:RETURN
990 DATA 2100C01150000619DD210080DD7500,431
1000 DATA DD7401DD23DD231910F3C9FE06CA5A,75F
1010 DATA 80FE03C0CD8080C36C80CD8080D5E5,944
1020 DATA 110600DD19CD8080CD6C80E1D10120,666
1030 DATA 08D5EDA0EDA0EDA0EDA0D13E088257,901
1040 DATA 10F0C9DD6E002600292929292911AD,4C5
1050 DATA 8019E5DD6E02DD5E04CD9B80D1EBC9,877
1060 DATA 1D2DCB2526804E23466B2600CB25CB,4E3
1070 DATA 2509C9000000000000000000000000,0F7
1080 DATA 000000000000000000000000000000,000
1090 DATA 0000000000008A4500008A450045CF,2B2
1100 DATA CF8ACF0000CFDEEDDEEDE9DCECD654,A68
1110 DATA D6E9A800EDDE000000000000000000,432
1120 DATA 0000C58A00C0CFCF40CFCFCFCF8A45,7F8
1130 DATA CF8A00000000000000000000000000,159
1140 DATA 000045CA0000CFCFC000CFCFCF80CF,729
1150 DATA 8A45CA000000450000000000000000,1DE
1160 DATA 005400000054000000000000540054,150
1170 DATA 000000000000540000005400000000,0A8
1180 DATA 000000458A0000CACF8A40C5C5CFC0,64B
1190 DATA C0C0CAC0C0C58040C0C08000C08000,88F
1200 DATA 00FC000054C3A80054C6D600E9CCC3,723
1210 DATA A8ECCCC9A8E9C6C3A854E9D6000054,952
1220 DATA A8000000000000FC000054C3A800E9,44C
1230 DATA CCD600E9CCC9A854E9D6000054A800,7D7
1240 DATA 000000000000000000CAC00045CFCF,36D
1250 DATA 80CF0102CACFCFCFCACFCFCFCF45CF,9A3
1260 DATA CF8A000000000040800000C5CA0040,3E8
1270 DATA CFCF8000000000CFCFCFCFCF8A45CF,7C7
1280 DATA CF8A45CFCF8A45CF0040800000C5CA,729
1290 DATA 0040CFCF800000000045CFCF8A45CF,5DF
1300 DATA CF8A45CFCF8A45CFCF8A45CFCF8A45,8E5
1310 DATA CFCF8A45CFCF8A45CFCF8A45CFCF8A,96F
1320 DATA 458A458A458A458A458A458A54A854,62A
1330 DATA 00BC7CBCFC3C3C3C143C14283C2828,4BC
1340 DATA 143C3C3C283C3C3C3C143C3C3C3C27,30B
1350 DATA 0F330F1B1B0F270F271B1B1B0F0F0F,171
1360 DATA 27270F0F0F1B0F270F271B1B0F0F0F,165
1370 DATA 0F3C7C00003C3CA8003C3CA8003C3C,37F
1380 DATA 7C003C3C7C003C3C7C003C3C7C003C,394
1390 DATA 3C7C003C3C7C003C3C7C003C3C7C00,394
1400 DATA 3C3C7C003C3C7C003C3CA8003C3CA8,428
1410 DATA 003C7C00003C7C00003CA80000FC00,350
1420 DATA 000000000000000000000000000000,000
1430 DATA 000000000000000000C0800040FFC0,33F
1440 DATA 00D5EA0040FF6A00D5BFFFC0D53F7F,84E
1450 DATA FFBF7B7BFB3F3FF3F3000000000000,613
1460 DATA 000000400000004000000040000000,0C0
1470 DATA 400000000000000000000054A8FC00,238
1480 DATA FCFCFCA8E8FCFCA8E8FCFCA8FCD4FC,D78
1490 DATA A854FCFC0000FCA800005400005400,540
1500 DATA 5400F8A8F8A8F8A8F8F400F4A0F445,9ED
1510 DATA 504500458ACF8A45CFCF8A458A458A,6C8
1520 DATA 000522000005220000052200000F1B,09F
1530 DATA 00000F1B00000F1B00050F0F22050F,0AD
1540 DATA 0F22050F0F22050F0F22051E2D2200,12D
1550 DATA 1E3900001428000014280000142800,10B
1560 DATA 001428000000000000000000000000,03C
1570 DATA 000000000000000000000000000000,000
1580 DATA 000000000000000000000000000000,000
1590 DATA 000000000000000000000000000000,000
1600 DATA 000000000000000000000000000000,000
1610 DATA 000000000000000000000000000000,000
1620 RESTORE 1630:RETURN:REM level 1
1630 DATA 00,00,00,10,00,00,00,13,13,13
1640 DATA 00,00,09,11,09,00,13,13,13,13
1650 DATA 00,13,13,13,13,13,13,13,13,13
1660 RESTORE 1670:RETURN:REM level 2
1670 DATA 00,00,21,21,10,21,00,00,00,00
1680 DATA 00,00,22,22,11,22,00,00,00,00
1690 DATA 00,13,13,13,13,13,13,17,17,17
1700 RESTORE 1710:RETURN:REM level 3
1710 DATA 00,00,00,00,00,00,00,00,00,00
1720 DATA 00,00,00,09,09,09,00,00,00,00
1730 DATA 00,12,12,12,12,12,12,12,12,12
1740 RESTORE 1750:RETURN:REM level 4
1750 DATA 00,00,00,00,00,00,00,00,00,00
1760 DATA 00,00,00,00,00,00,00,00,00,00
1770 DATA 00,17,17,17,17,17,17,17,17,17
1780 RESTORE 1790:RETURN:REM level 5
1790 DATA 00,00,00,00,00,00,00,00,00,10
1800 DATA 00,00,00,00,00,00,00,00,09,11
1810 DATA 00,17,17,17,17,13,13,13,13,13
1820 RESTORE 1830:RETURN:REM the sky above
1830 DATA 0,14,0,0,0,0,0,5,0,0,0,0,5,0,0,0,5,0,0,0
1840 DATA 0,15,0,5,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0
1850 DATA 0,16,0,0,0,0,5,0,0,0,0,0,5,0,0,5,0,0,0,0
1860 REM music data for the RAVAGER tune
1870 DATA 319,319,253,284,319,319,253,284
1880 DATA 426,426,358,379,426,426,358,379
1890 DATA 239,239,239,213,213,213,190,190
1900 DATA 190,213,213,213,239,239,239,253
1910 DATA 253,253,319,319,253,284,319,319
1920 DATA 253,284,426,426,359,379,426,426
1930 DATA 358,379,851,758,716,716,758,716
1940 DATA 638,638,716,638,568,568,568,506
1950 DATA 568,506,506,568,638,568,638,716
1960 DATA 758,758,851,956,1012,1136,1012,956,851,-1