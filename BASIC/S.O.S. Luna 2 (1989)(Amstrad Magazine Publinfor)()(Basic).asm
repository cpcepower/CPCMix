5 MODE 0:PRINT "S.O.S. LUNA 2"
10 ENV 1,7,2,1:ENV 2,15,-1,8:ENV 3,7,-2,1,7,2,1,7,-2,1,7,2,1
20 READ NO,DU:IF NO=-1 THEN 50
30 SOUND 1,NO,-DU,15,3
40 GOTO 20
41 DATA 159,3,213,1,190,3,213,1,119,1,127,1,142,1,159,1,142,3,213,1,119,1,127,1,142,1,159,1,142,2,213,2,106,8
42 DATA 95,2,106,1,159,1,106,2,119,2,127,2,190,1,159,1,127,2,142,2
43 DATA 127,4,119,1,127,1,142,1,159,1,142,4,127,1,142,1,159,1,169,1,159,8
49 DATA -1,-1
50 SYMBOL AFTER 97
60 FOR I=20000 TO 20048:READ A:POKE I,A:NEXT
70 FOR I=20500 TO 20526:READ A:POKE I,A:NEXT
80 FOR I=20550 TO 20576:READ A:POKE I,A:NEXT
90 DATA &dd,&21,&30,&75,&06,&05,&dd,&7e,&00,&3d,&fe,&ff,&c2,&31,&4e,&3e,&14,&dd,&77,&00,&dd,&23,&10,&ee
100 DATA &dd,&21,&35,&75,&06,&05,&dd,&7e,&00,&3c,&fe,&15,&c2,&49,&4e,&3e,&00,&dd,&77,&00,&dd,&23,&10,&ee,&c9
110 DATA &06,&05,&dd,&21,&30,&75,&0e,&05,&dd,&66,&00,&69,&cd,&75,&bb,&3e,254,&cd,&5a,&bb,&dd,&23,&0c,&0c,&10,&ee,&c9
120 DATA &dd,&21,&35,&75,&0e,&06,&06,&05,&dd,&66,&00,&69,&cd,&75,&bb,&3e,&ff,&cd,&5a,&bb,&dd,&23,&0c,&0c,&10,&ee,&c9
130 FUEL=25:SCORE=0:VI=3:HOM=4
140 MODE 0:FUEL=25:INK 0,0:INK 2,2:INK 3,9:INK 4,15:BORDER 0:INK 1,26:INK 5,24:INK 6,8,26:FOR I=30000 TO 30009:POKE I,INT(RND*20):NEXT:WINDOW #1,1,20,4,14
150 SPEED INK 5,5
160 SYMBOL 254,56,126,127,255,255,255,124,56:SYMBOL 255,120,252,252,254,254,63,63,31
170 SYMBOL 97,0,0,7,15,31,63,127,255:SYMBOL 98,0,0,255,165,165,255,255,129:SYMBOL 99,0,0,&X00000111,240,248,252,254,255:SYMBOL 100,255,243,243,255,255,127,63,31:SYMBOL 101,255,&X11110011,&X11110011,255,255,254,252,248
180 SYMBOL 102,192,240,240,248,248,248,254.255:SYMBOL 103,1,15,31,31,31,127,255,255:SYMBOL 104,255,255,255,255,255,255,255,255
190 SYMBOL 240,24,36,66,66,36,60,90,195
200 PEN 3:LOCATE 1,15:PRINT"f                  ghf                ghhhf              ghhhhhf            ghhhhhhhf          ghhhhhhhhhf        ghhhhh";
210 PRINT "hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh"
220 PEN 4:LOCATE 7,20:PRINT CHR$(250);" ";:IF HOM>1 THEN PRINT CHR$(248);"  ";:IF HOM>2 THEN PRINT CHR$(248);" ";:IF HOM>3 THEN PRINT CHR$(251)
230 A=1:D=1
240 REM
250 IF D=1 AND A<16 THEN A=A+1 ELSE D=0
260 IF D=0 AND A>1 THEN A=A-1 ELSE D=1
270 PEN 2:LOCATE A,1:PRINT " abc ":LOCATE A,2:PRINT " d e "
280 PEN 1:CALL 20000:CLS #1:CALL 20500:CALL 20550
290 IF INKEY(22)=0 THEN SOUND 1,120,12,0,1:GOTO 310
300 GOTO 250
310 X%=A*32+32:Y%=400-33
320 REM ******* CICLO PRINCIPAL ********
330 CALL 20000:CLS #1:PEN 1:CALL 20500:CALL 20550
340 IF INKEY(71)=0 AND FRENTE=0 AND X%>0 THEN GOSUB 450:X%=X%-32
350 IF INKEY(63)=0 AND FRENTE=0 AND X%<607 THEN GOSUB 450:X%=X%+32
360 IF INKEY(22)=0 AND FUEL>0 THEN SOUND 1,0,25,7,0,0,2:FUEL=FUEL-5:FRENTE=1 ELSE FRENTE=0
370 IF FRENTE=0 THEN GOSUB 450:Y%=Y%-16
380 CH=TEST(X%+15,Y%-7)
390 IF CH=3 THEN 460
400 PLOT X%,Y%,5:TAG:PRINT CHR$(240);:TAGOFF
410 IF CH=1 THEN 460
420 IF CH=4 THEN 540
430 LOCATE 1,23:PEN 7:PRINT "FUEL:";FUEL
440 GOTO 330
450 MOVE X%,Y%:TAG:PRINT " ";:TAGOFF:RETURN
460 PLOT X%,Y%,6:TAG:PRINT CHR$(238);:TAGOFF
470 SOUND 1,0,0,15,2,0,7
480 LOCATE 1,24:PEN 8:VI=VI-1:PRINT"VIDAS:";VI:FOR I=1 TO 500:NEXT
490 IF VI=0 THEN 500 ELSE 140
500 LOCATE 6,10:PEN 1:PRINT "GAME OVER"
510 LOCATE 6,11:PRINT "SCORE:";SCORE
520 LOCATE 6,13:PRINT "SPACE ..."
530 IF INKEY(47)<>0 THEN 530 ELSE RUN
540 INK 1,6:SYMBOL 254,0,60,126,165,165,126,60,0:SYMBOL 255,0,60,126,165,165,126,60,0
550 REM ********** CIMA **********
560 PEN 1:CALL 20000:CLS #1:CALL 20500:CALL 20550
570 GOSUB 450
580 IF INKEY(71)=0 AND X%>0 THEN X%=X%-32
590 IF INKEY(63)=0 AND X%<607 THEN X%=X%+32
600 Y%=Y%+16
610 CH=TEST(X%+15,Y%-2)
620 PLOT X%,Y%,5:TAG:PRINT CHR$(240);:TAGOFF
630 IF CH=1 THEN 460
640 IF Y%>368 THEN IF X%<>A*32+32 THEN 460 ELSE 660
650 GOTO 560
660 SOUND 1,60,25,15:HOM=HOM-1:SCORE=SCORE+10:IF HOM=0 THEN 670 ELSE 140
670 HOM=4:GOTO 140